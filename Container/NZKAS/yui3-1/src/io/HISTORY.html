<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>HISTORY</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
</head>
<body>
<h1 id="io-utility-change-history">IO Utility Change History</h1>
<h2 id="section">3.4.1</h2>
<ul>
<li><p>HTTP 304 now treated as a success condition. [Ticket #2530931]</p></li>
<li><p>Fixed transport creation error when both io-xdr and io-upload-iframe modules are in use [Ticket #2530999]</p></li>
<li><p>Querystring stringify added to io-upload-iframe. [Ticket #2531037]</p></li>
<li><p>Fixed request abort error in IE. [Ticket #2531038]</p></li>
<li><p>Add try/catch to io-upload-iframe response to handle failure cases where the document may be inaccessible. [Ticket #2531041]</p></li>
<li><p>Add IO support for XHR basic user authentication. [Ticket #2530023]</p></li>
<li><p>Revert Y.mix usage for synchronous requests. [Ticket #2531056]</p></li>
<li><p>Fixed io-upload-iframe transport destruction. [Ticket #2531058]</p></li>
</ul>
<h2 id="section-1">3.4.0</h2>
<ul>
<li><p>Added ability to get the configuration of a transaction. [Ticket #2528240]</p></li>
<li><p>Instantiable IO. [Ticket #2529314]</p></li>
<li><p>IO now uses <code>event-custom</code> and event facades. [Ticket #2529317]</p></li>
<li><p>Exposed more of the internals of IO for extensibility. [Ticket #2529447]</p></li>
<li><p>Fixed IO iframe upload to reset form attributes. [Ticket #2529553]</p></li>
<li><p>Add IO support for XHR basic user authentication. [Ticket #2530023]</p></li>
<li><p>IO will not send <code>data</code> for <code>GET</code>, <code>HEAD</code> and <code>DELETE</code> HTTP methods. [Ticket #2530091]</p></li>
<li><p>Fixed issue with IO doubling the URL query-params on a HTTP <code>GET</code> request when sending <code>data</code> together with form serialization. [Ticket #2530494]</p></li>
</ul>
<h2 id="section-2">3.3.0</h2>
<ul>
<li><p>When using <code>io-xdr</code> to load <code>io.swf</code>, a date-time stamp will appended, as a query-string, to the transport source for IE. [Ticket #2528898]</p></li>
<li><p>Implemented default HTTP headers can be suppressed in the transaction’s configuration object by setting the header with a value of <code>disable</code>. [Ticket #2529324]</p>
<p>For example:</p>
<pre><code>var config = { headers: { &quot;X-Requested-With&quot;: &quot;disable&quot; } };</code></pre></li>
<li><p>Use Y.io without listening for the <code>io:xdrReady</code> event. [Ticket #2528710]</p></li>
<li><p>Fixed native XDR detection for IE8 in <code>io-xdr</code>. [Ticket #2529290]</p></li>
</ul>
<h2 id="section-3">3.2.0</h2>
<ul>
<li><p>Fixed malformed HTML entities in JSON response, when using <code>io-upload-iframe</code>. [Ticket #2528646]</p></li>
<li><p>Fixed configuration HTTP headers should override preset HTTP headers, when identical. [Ticket #2528893]</p></li>
</ul>
<h2 id="section-4">3.1.2</h2>
<ul>
<li><p>[!] Fixed security vulnerability in <code>io-xdr</code> when using the Flash transport. Removed: <code>Security.allowDomain("*")</code> setting from <code>io.as</code> (source) and <code>io.swf</code> (compiled). The implementation reverts back to the version in 3.0.0.</p>
<p>This reversion prevents third-party sites from being able to load <code>io.swf</code> from a disparate domain, and make HTTP requests with the SWF’s domain privileges, and passing the domain’s credentials. Only the domain serving <code>io.swf</code> will be permitted to load it, and call its fields.</p>
<p>See the “Security Bulletin” for more details: http://yuilibrary.com/yui/docs/io/#security-bulletin</p></li>
</ul>
<h2 id="section-5">3.1.1</h2>
<ul>
<li>Fixed broken synchronous IO requests in IE. [Ticket #2528739]</li>
</ul>
<h2 id="section-6">3.1.0</h2>
<ul>
<li><p>YUI io now supports synchronous transactions for same-domain requests. To enable synchronous transactions, set the configuration property <code>sync</code> to <code>true</code>; the default behavior is <code>false</code>. During a synchronous request, all io events will fire, and response data are accessible through the events. Response data are also returned by io, as an alternative. [Ticket #2528181]</p>
<p>For example:</p>
<pre><code>var request = Y.io(uri, { sync: true });</code></pre>
<p><code>request</code> will contain the following fields, when the tx is complete:</p>
<ul>
<li><code>id</code></li>
<li><code>status</code></li>
<li><code>statusText</code></li>
<li><code>getResponseHeader()</code></li>
<li><code>getAllResponseHeaders()</code></li>
<li><code>responseText</code></li>
<li><code>responseXML</code></li>
<li><code>arguments</code></li>
</ul>
<p>When making synchronous requests:</p>
<ul>
<li>The transaction cannot be aborted,</li>
<li>The transaction’s progress cannot be monitored.</li>
</ul></li>
<li><p><code>arguments</code> defined in the configuration object are now passed to io global event handlers, as well. [Ticket #2528393]</p></li>
<li><p>Only pass the value of the <code>arguments</code> property to listeners if defined. [Ticket #2528313]</p></li>
</ul>
<h2 id="section-7">3.0.0</h2>
<ul>
<li><p>Native cross-domain transactions are now supported in <code>io-xdr</code>. To specify an XDR transaction, set the config object with the following properties:</p>
<ul>
<li><p><code>use</code>: Specify either <code>native</code> or <code>flash</code> as the desired XDR transport.</p></li>
<li><p><code>credentials</code>: Set to <code>true</code> if cookies are to be sent with the request. Does not work with XDomainRequest (e.g., IE8) or the Flash transport.</p></li>
<li><p><code>datatType</code>: Set to <code>xml</code> if the response is an XML document.</p></li>
</ul>
<p>For example:</p>
<pre><code>var configuration.xdr = {
    use         : &#39;flash&#39;,  // Required -- &#39;flash` or &#39;native&#39;.
    credentials : true,     // Optional.
    dataType    : &#39;xml&#39;     // Optional.
};</code></pre>
<p>The <code>use</code> property is required. The others are optional or functionality- specific.</p>
<p>When using the native transport, io will fallback to the Flash transport if the browser is not capable of supporting the native mode. Make sure the resource responds with the correct <code>Access-Control-Allow-Origin</code> header before attempting a native XDR request.</p></li>
<li><p>The sub-module <code>datatype-xml</code> is now a dependency for <code>io-xdr</code>, to support XML response data in XDR transactions.</p></li>
<li><p>XDR transport initialization is simplified to one required value – the path to Flash transport. For example:</p>
<pre><code>Y.io.transport({ src:&#39;io.swf&#39; });</code></pre></li>
</ul>
<h2 id="beta1">3.0.0beta1</h2>
<ul>
<li><p>The <code>io-queue</code> sub-module now implements YUI <code>Queue</code>. The io queue interface allows transaction callback handlers to be processed in the order the transactions were sent, regardless of actual server response order. For example:</p>
<ul>
<li><p>io queue is used to make three requests.</p></li>
<li><p>The actual server response order happens to be: transaction 2, 1, 3.</p></li>
<li><p>However, using the queue interface, the transaction callbacks are processed in the order of: transaction 1, 2, 3.</p></li>
</ul></li>
<li><p>All transaction event flows now resolves to <code>success</code> or <code>failure</code>; the abort event is removed. Transaction abort and timeout conditions resolve to <code>failure</code>, and is distinguishable in the response data. Specifically, the response object’s <code>status</code> and <code>statusText</code> properties will be populated as:</p>
<ul>
<li><p><code>response.status</code> will be 0.</p></li>
<li><p><code>response.statusText</code> will be set to <code>timeout</code> or <code>abort</code> to differentiate the two possible conditions.</p></li>
</ul></li>
<li><p>A new <code>end</code> event is introduced in the transaction event flow; this is the terminal event for all transactions. Its event handler signature is the same as the <code>start</code> event, receiving the transaction id and user-defined arguments.</p>
<ul>
<li><p>The global event name is <code>io:end</code>.</p></li>
<li><p>To subscribe to the transaction event, define the <code>end</code> property in the transaction’s configuration object. <code>{on: {end: function(){…} } }</code>.</p></li>
</ul></li>
</ul>
<h2 id="pr2">3.0.0 PR2</h2>
<ul>
<li><p>YUI <code>io</code> is now comprised of several modules, allowing users to specify and implement only the needed modules. These modules are:</p>
<ul>
<li><p><code>io-base</code>: This is the IO base class, using <code>XMLHttpRequest</code> as the transport.</p></li>
<li><p><code>io-xdr</code>: This sub-module extends IO to enable cross-domain transactions using Flash as the transport.</p></li>
<li><p><code>io-form</code>: This sub-module extends IO to enable the serialization of an HTML form as transaction data.</p></li>
<li><p><code>io-upload-iframe</code>: This sub-module extends IO, to allow file uploads with an HTML form, using an <code>iframe</code> transport.</p></li>
<li><p><code>io-queue</code>: This sub-module extends IO to add transaction queuing capabilities.</p></li>
</ul></li>
<li><p>If defined in the configuration object, user-specified, HTTP <code>Content-Type</code> headers will correctly override POST default headers, for HTTP POST transactions. [Ticket #SF2262707]</p></li>
<li><p>XML is not supported as a response datatype when using sub-modules <code>io-xdr</code> and <code>io-upload-iframe</code>.</p></li>
</ul>
<h2 id="pr1">3.0.0 PR1</h2>
<ul>
<li>Initial Release.</li>
</ul>
</body>
</html>
