%{ pName = 'object.' + \_name + '.' + play.db.Model.Manager.factoryFor(\_field.property.relationType).keyName() }% \#{field 'object.' + \_name} &{\_name} \#{if \_field.multiple} %{ \_field.choices.each() { }% %{ selected = false; if(field.error?.message != 'validation.required') { if(params\[pName\]) { selected = params.getAll(${pName}).contains(it.\_key().toString()) } else { for (it2 in \_value) { if(it2.\_key() == it.\_key()) { selected = true; } } } } }% ${it} %{ } }% \#{/if} \#{else} \#{ifnot \_field.required} &{'crud.none'} \#{/ifnot} \#{else} &{'crud.selectValue'} \#{/else} %{ \_field.choices.each() { }% %{ selected = false if(field.error?.message != 'validation.required') { if(params\[pName\]) { selected = (it.\_key().toString() == params\[pName\]) } else { selected = it.\_key() == \_value?.\_key() } } }% ${it} %{ } }% \#{/else} \#{ifError field.name} <span class="error">${field.error.raw()}</span> \#{/ifError} \#{/field}
