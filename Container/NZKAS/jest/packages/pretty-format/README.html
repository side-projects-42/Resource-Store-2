<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>README</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
    <style type="text/css">
      a.sourceLine {
        display: inline-block;
        line-height: 1.25;
      }
      a.sourceLine {
        pointer-events: none;
        color: inherit;
        text-decoration: inherit;
      }
      a.sourceLine:empty {
        height: 1.2em;
      }
      .sourceCode {
        overflow: visible;
      }
      code.sourceCode {
        white-space: pre;
        position: relative;
      }
      div.sourceCode {
        margin: 1em 0;
      }
      pre.sourceCode {
        margin: 0;
      }
      @media screen {
        div.sourceCode {
          overflow: auto;
        }
      }
      @media print {
        code.sourceCode {
          white-space: pre-wrap;
        }
        a.sourceLine {
          text-indent: -1em;
          padding-left: 1em;
        }
      }
      pre.numberSource a.sourceLine {
        position: relative;
        left: -4em;
      }
      pre.numberSource a.sourceLine::before {
        content: attr(title);
        position: relative;
        left: -1em;
        text-align: right;
        vertical-align: baseline;
        border: none;
        pointer-events: all;
        display: inline-block;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        padding: 0 4px;
        width: 4em;
        color: #aaaaaa;
      }
      pre.numberSource {
        margin-left: 3em;
        border-left: 1px solid #aaaaaa;
        padding-left: 4px;
      }
      div.sourceCode {
      }
      @media screen {
        a.sourceLine::before {
          text-decoration: underline;
        }
      }
      code span.al {
        color: #ff0000;
        font-weight: bold;
      } /* Alert */
      code span.an {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Annotation */
      code span.at {
        color: #7d9029;
      } /* Attribute */
      code span.bn {
        color: #40a070;
      } /* BaseN */
      code span.bu {
      } /* BuiltIn */
      code span.cf {
        color: #007020;
        font-weight: bold;
      } /* ControlFlow */
      code span.ch {
        color: #4070a0;
      } /* Char */
      code span.cn {
        color: #880000;
      } /* Constant */
      code span.co {
        color: #60a0b0;
        font-style: italic;
      } /* Comment */
      code span.cv {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* CommentVar */
      code span.do {
        color: #ba2121;
        font-style: italic;
      } /* Documentation */
      code span.dt {
        color: #902000;
      } /* DataType */
      code span.dv {
        color: #40a070;
      } /* DecVal */
      code span.er {
        color: #ff0000;
        font-weight: bold;
      } /* Error */
      code span.ex {
      } /* Extension */
      code span.fl {
        color: #40a070;
      } /* Float */
      code span.fu {
        color: #06287e;
      } /* Function */
      code span.im {
      } /* Import */
      code span.in {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Information */
      code span.kw {
        color: #007020;
        font-weight: bold;
      } /* Keyword */
      code span.op {
        color: #666666;
      } /* Operator */
      code span.ot {
        color: #007020;
      } /* Other */
      code span.pp {
        color: #bc7a00;
      } /* Preprocessor */
      code span.sc {
        color: #4070a0;
      } /* SpecialChar */
      code span.ss {
        color: #bb6688;
      } /* SpecialString */
      code span.st {
        color: #4070a0;
      } /* String */
      code span.va {
        color: #19177c;
      } /* Variable */
      code span.vs {
        color: #4070a0;
      } /* VerbatimString */
      code span.wa {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Warning */
    </style>
  </head>
  <body>
    <h1 id="pretty-format">pretty-format</h1>
    <blockquote>
      <p>Stringify any JavaScript value.</p>
    </blockquote>
    <ul>
      <li>
        Supports all built-in JavaScript types
        <ul>
          <li>
            primitive types: <code>Boolean</code>, <code>null</code>,
            <code>Number</code>, <code>String</code>, <code>Symbol</code>,
            <code>undefined</code>
          </li>
          <li>
            other non-collection types: <code>Date</code>, <code>Error</code>,
            <code>Function</code>, <code>RegExp</code>
          </li>
          <li>
            collection types:
            <ul>
              <li>
                <code>arguments</code>, <code>Array</code>,
                <code>ArrayBuffer</code>, <code>DataView</code>,
                <code>Float32Array</code>, <code>Float64Array</code>,
                <code>Int8Array</code>, <code>Int16Array</code>,
                <code>Int32Array</code>, <code>Uint8Array</code>,
                <code>Uint8ClampedArray</code>, <code>Uint16Array</code>,
                <code>Uint32Array</code>,
              </li>
              <li>
                <code>Map</code>, <code>Set</code>, <code>WeakMap</code>,
                <code>WeakSet</code>
              </li>
              <li><code>Object</code></li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <a
          href="https://gist.github.com/thejameskyle/2b04ffe4941aafa8f970de077843a8fd"
          >Blazingly fast</a
        >
        <ul>
          <li>similar performance to <code>JSON.stringify</code> in v8</li>
          <li>significantly faster than <code>util.format</code> in Node.js</li>
        </ul>
      </li>
      <li>
        Serialize application-specific data types with built-in or user-defined
        plugins
      </li>
    </ul>
    <h2 id="installation">Installation</h2>
    <div class="sourceCode" id="cb1">
      <pre
        class="sourceCode sh"
      ><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1">$ <span class="ex">yarn</span> add pretty-format</a></code></pre>
    </div>
    <h2 id="usage">Usage</h2>
    <div class="sourceCode" id="cb2">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">const</span> prettyFormat <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;pretty-format&#39;</span>)<span class="op">;</span> <span class="co">// CommonJS</span></a></code></pre>
    </div>
    <div class="sourceCode" id="cb3">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="im">import</span> prettyFormat <span class="im">from</span> <span class="st">&#39;pretty-format&#39;</span><span class="op">;</span> <span class="co">// ES2015 modules</span></a></code></pre>
    </div>
    <div class="sourceCode" id="cb4">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">const</span> val <span class="op">=</span> <span class="op">{</span><span class="dt">object</span><span class="op">:</span> <span class="op">{}};</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="va">val</span>.<span class="at">circularReference</span> <span class="op">=</span> val<span class="op">;</span></a>
<a class="sourceLine" id="cb4-3" title="3">val[<span class="at">Symbol</span>(<span class="st">&#39;foo&#39;</span>)] <span class="op">=</span> <span class="st">&#39;foo&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="va">val</span>.<span class="at">map</span> <span class="op">=</span> <span class="kw">new</span> <span class="at">Map</span>([[<span class="st">&#39;prop&#39;</span><span class="op">,</span> <span class="st">&#39;value&#39;</span>]])<span class="op">;</span></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="va">val</span>.<span class="at">array</span> <span class="op">=</span> [<span class="op">-</span><span class="dv">0</span><span class="op">,</span> <span class="kw">Infinity</span><span class="op">,</span> <span class="kw">NaN</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb4-6" title="6"></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="va">console</span>.<span class="at">log</span>(<span class="at">prettyFormat</span>(val))<span class="op">;</span></a>
<a class="sourceLine" id="cb4-8" title="8"><span class="co">/*</span></a>
<a class="sourceLine" id="cb4-9" title="9"><span class="co">Object {</span></a>
<a class="sourceLine" id="cb4-10" title="10"><span class="co">  &quot;array&quot;: Array [</span></a>
<a class="sourceLine" id="cb4-11" title="11"><span class="co">    -0,</span></a>
<a class="sourceLine" id="cb4-12" title="12"><span class="co">    Infinity,</span></a>
<a class="sourceLine" id="cb4-13" title="13"><span class="co">    NaN,</span></a>
<a class="sourceLine" id="cb4-14" title="14"><span class="co">  ],</span></a>
<a class="sourceLine" id="cb4-15" title="15"><span class="co">  &quot;circularReference&quot;: [Circular],</span></a>
<a class="sourceLine" id="cb4-16" title="16"><span class="co">  &quot;map&quot;: Map {</span></a>
<a class="sourceLine" id="cb4-17" title="17"><span class="co">    &quot;prop&quot; =&gt; &quot;value&quot;,</span></a>
<a class="sourceLine" id="cb4-18" title="18"><span class="co">  },</span></a>
<a class="sourceLine" id="cb4-19" title="19"><span class="co">  &quot;object&quot;: Object {},</span></a>
<a class="sourceLine" id="cb4-20" title="20"><span class="co">  Symbol(foo): &quot;foo&quot;,</span></a>
<a class="sourceLine" id="cb4-21" title="21"><span class="co">}</span></a>
<a class="sourceLine" id="cb4-22" title="22"><span class="co">*/</span></a></code></pre>
    </div>
    <h2 id="usage-with-options">Usage with options</h2>
    <div class="sourceCode" id="cb5">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">function</span> <span class="at">onClick</span>() <span class="op">{}</span></a>
<a class="sourceLine" id="cb5-2" title="2"></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="va">console</span>.<span class="at">log</span>(<span class="at">prettyFormat</span>(onClick))<span class="op">;</span></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="co">/*</span></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="co">[Function onClick]</span></a>
<a class="sourceLine" id="cb5-6" title="6"><span class="co">*/</span></a>
<a class="sourceLine" id="cb5-7" title="7"></a>
<a class="sourceLine" id="cb5-8" title="8"><span class="kw">const</span> options <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb5-9" title="9">  <span class="dt">printFunctionName</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></a>
<a class="sourceLine" id="cb5-10" title="10"><span class="op">};</span></a>
<a class="sourceLine" id="cb5-11" title="11"><span class="va">console</span>.<span class="at">log</span>(<span class="at">prettyFormat</span>(onClick<span class="op">,</span> options))<span class="op">;</span></a>
<a class="sourceLine" id="cb5-12" title="12"><span class="co">/*</span></a>
<a class="sourceLine" id="cb5-13" title="13"><span class="co">[Function]</span></a>
<a class="sourceLine" id="cb5-14" title="14"><span class="co">*/</span></a></code></pre>
    </div>
    <table>
      <colgroup>
        <col style="width: 25%" />
        <col style="width: 25%" />
        <col style="width: 25%" />
        <col style="width: 25%" />
      </colgroup>
      <thead>
        <tr class="header">
          <th style="text-align: left">key</th>
          <th style="text-align: left">type</th>
          <th style="text-align: left">default</th>
          <th style="text-align: left">description</th>
        </tr>
      </thead>
      <tbody>
        <tr class="odd">
          <td style="text-align: left"><code>callToJSON</code></td>
          <td style="text-align: left"><code>boolean</code></td>
          <td style="text-align: left"><code>true</code></td>
          <td style="text-align: left">
            call <code>toJSON</code> method (if it exists) on objects
          </td>
        </tr>
        <tr class="even">
          <td style="text-align: left"><code>escapeRegex</code></td>
          <td style="text-align: left"><code>boolean</code></td>
          <td style="text-align: left"><code>false</code></td>
          <td style="text-align: left">
            escape special characters in regular expressions
          </td>
        </tr>
        <tr class="odd">
          <td style="text-align: left"><code>escapeString</code></td>
          <td style="text-align: left"><code>boolean</code></td>
          <td style="text-align: left"><code>true</code></td>
          <td style="text-align: left">escape special characters in strings</td>
        </tr>
        <tr class="even">
          <td style="text-align: left"><code>highlight</code></td>
          <td style="text-align: left"><code>boolean</code></td>
          <td style="text-align: left"><code>false</code></td>
          <td style="text-align: left">
            highlight syntax with colors in terminal (some plugins)
          </td>
        </tr>
        <tr class="odd">
          <td style="text-align: left"><code>indent</code></td>
          <td style="text-align: left"><code>number</code></td>
          <td style="text-align: left"><code>2</code></td>
          <td style="text-align: left">spaces in each level of indentation</td>
        </tr>
        <tr class="even">
          <td style="text-align: left"><code>maxDepth</code></td>
          <td style="text-align: left"><code>number</code></td>
          <td style="text-align: left"><code>Infinity</code></td>
          <td style="text-align: left">
            levels to print in arrays, objects, elements, and so on
          </td>
        </tr>
        <tr class="odd">
          <td style="text-align: left"><code>min</code></td>
          <td style="text-align: left"><code>boolean</code></td>
          <td style="text-align: left"><code>false</code></td>
          <td style="text-align: left">
            minimize added space: no indentation nor line breaks
          </td>
        </tr>
        <tr class="even">
          <td style="text-align: left"><code>plugins</code></td>
          <td style="text-align: left"><code>array</code></td>
          <td style="text-align: left"><code>[]</code></td>
          <td style="text-align: left">
            plugins to serialize application-specific data types
          </td>
        </tr>
        <tr class="odd">
          <td style="text-align: left"><code>printFunctionName</code></td>
          <td style="text-align: left"><code>boolean</code></td>
          <td style="text-align: left"><code>true</code></td>
          <td style="text-align: left">
            include or omit the name of a function
          </td>
        </tr>
        <tr class="even">
          <td style="text-align: left"><code>theme</code></td>
          <td style="text-align: left"><code>object</code></td>
          <td style="text-align: left"></td>
          <td style="text-align: left">
            colors to highlight syntax in terminal
          </td>
        </tr>
      </tbody>
    </table>
    <p>
      Property values of <code>theme</code> are from
      <a href="https://github.com/chalk/ansi-styles#colors"
        >ansi-styles colors</a
      >
    </p>
    <div class="sourceCode" id="cb6">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">const</span> DEFAULT_THEME <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb6-2" title="2">  <span class="dt">comment</span><span class="op">:</span> <span class="st">&#39;gray&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb6-3" title="3">  <span class="dt">content</span><span class="op">:</span> <span class="st">&#39;reset&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb6-4" title="4">  <span class="dt">prop</span><span class="op">:</span> <span class="st">&#39;yellow&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb6-5" title="5">  <span class="dt">tag</span><span class="op">:</span> <span class="st">&#39;cyan&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb6-6" title="6">  <span class="dt">value</span><span class="op">:</span> <span class="st">&#39;green&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb6-7" title="7"><span class="op">};</span></a></code></pre>
    </div>
    <h2 id="usage-with-plugins">Usage with plugins</h2>
    <p>
      The <code>pretty-format</code> package provides some built-in plugins,
      including:
    </p>
    <ul>
      <li><code>ReactElement</code> for elements from <code>react</code></li>
      <li>
        <code>ReactTestComponent</code> for test objects from
        <code>react-test-renderer</code>
      </li>
    </ul>
    <div class="sourceCode" id="cb7">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="co">// CommonJS</span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="kw">const</span> prettyFormat <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;pretty-format&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="kw">const</span> ReactElement <span class="op">=</span> <span class="va">prettyFormat</span>.<span class="va">plugins</span>.<span class="at">ReactElement</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="kw">const</span> ReactTestComponent <span class="op">=</span> <span class="va">prettyFormat</span>.<span class="va">plugins</span>.<span class="at">ReactTestComponent</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-5" title="5"></a>
<a class="sourceLine" id="cb7-6" title="6"><span class="kw">const</span> React <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;react&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb7-7" title="7"><span class="kw">const</span> renderer <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;react-test-renderer&#39;</span>)<span class="op">;</span></a></code></pre>
    </div>
    <div class="sourceCode" id="cb8">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1"><span class="co">// ES2015 modules and destructuring assignment</span></a>
<a class="sourceLine" id="cb8-2" title="2"><span class="im">import</span> prettyFormat <span class="im">from</span> <span class="st">&#39;pretty-format&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb8-3" title="3"><span class="kw">const</span> <span class="op">{</span>ReactElement<span class="op">,</span> ReactTestComponent<span class="op">}</span> <span class="op">=</span> <span class="va">prettyFormat</span>.<span class="at">plugins</span><span class="op">;</span></a>
<a class="sourceLine" id="cb8-4" title="4"></a>
<a class="sourceLine" id="cb8-5" title="5"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb8-6" title="6"><span class="im">import</span> renderer <span class="im">from</span> <span class="st">&#39;react-test-renderer&#39;</span><span class="op">;</span></a></code></pre>
    </div>
    <div class="sourceCode" id="cb9">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">const</span> onClick <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{};</span></a>
<a class="sourceLine" id="cb9-2" title="2"><span class="kw">const</span> element <span class="op">=</span> <span class="va">React</span>.<span class="at">createElement</span>(<span class="st">&#39;button&#39;</span><span class="op">,</span> <span class="op">{</span>onClick<span class="op">},</span> <span class="st">&#39;Hello World&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb9-3" title="3"></a>
<a class="sourceLine" id="cb9-4" title="4"><span class="kw">const</span> formatted1 <span class="op">=</span> <span class="at">prettyFormat</span>(element<span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb9-5" title="5">  <span class="dt">plugins</span><span class="op">:</span> [ReactElement]<span class="op">,</span></a>
<a class="sourceLine" id="cb9-6" title="6">  <span class="dt">printFunctionName</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></a>
<a class="sourceLine" id="cb9-7" title="7"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb9-8" title="8"><span class="kw">const</span> formatted2 <span class="op">=</span> <span class="at">prettyFormat</span>(<span class="va">renderer</span>.<span class="at">create</span>(element).<span class="at">toJSON</span>()<span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb9-9" title="9">  <span class="dt">plugins</span><span class="op">:</span> [ReactTestComponent]<span class="op">,</span></a>
<a class="sourceLine" id="cb9-10" title="10">  <span class="dt">printFunctionName</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></a>
<a class="sourceLine" id="cb9-11" title="11"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb9-12" title="12"><span class="co">/*</span></a>
<a class="sourceLine" id="cb9-13" title="13"><span class="co">&lt;button</span></a>
<a class="sourceLine" id="cb9-14" title="14"><span class="co">  onClick=[Function]</span></a>
<a class="sourceLine" id="cb9-15" title="15"><span class="co">&gt;</span></a>
<a class="sourceLine" id="cb9-16" title="16"><span class="co">  Hello World</span></a>
<a class="sourceLine" id="cb9-17" title="17"><span class="co">&lt;/button&gt;</span></a>
<a class="sourceLine" id="cb9-18" title="18"><span class="co">*/</span></a></code></pre>
    </div>
    <h2 id="usage-in-jest">Usage in Jest</h2>
    <p>
      For snapshot tests, Jest uses <code>pretty-format</code> with options that
      include some of its built-in plugins. For this purpose, plugins are also
      known as <strong>snapshot serializers</strong>.
    </p>
    <p>
      To serialize application-specific data types, you can add modules to
      <code>devDependencies</code> of a project, and then:
    </p>
    <p>
      In an <strong>individual</strong> test file, you can add a module as
      follows. It precedes any modules from Jest configuration.
    </p>
    <div class="sourceCode" id="cb10">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb10-1" title="1"><span class="im">import</span> serializer <span class="im">from</span> <span class="st">&#39;my-serializer-module&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb10-2" title="2"><span class="va">expect</span>.<span class="at">addSnapshotSerializer</span>(serializer)<span class="op">;</span></a>
<a class="sourceLine" id="cb10-3" title="3"></a>
<a class="sourceLine" id="cb10-4" title="4"><span class="co">// tests which have `expect(value).toMatchSnapshot()` assertions</span></a></code></pre>
    </div>
    <p>
      For <strong>all</strong> test files, you can specify modules in Jest
      configuration. They precede built-in plugins for React, HTML, and
      Immutable.js data types. For example, in a <code>package.json</code> file:
    </p>
    <div class="sourceCode" id="cb11">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb11-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb11-2" title="2">  <span class="dt">&quot;jest&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb11-3" title="3">    <span class="dt">&quot;snapshotSerializers&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;my-serializer-module&quot;</span><span class="ot">]</span></a>
<a class="sourceLine" id="cb11-4" title="4">  <span class="fu">}</span></a>
<a class="sourceLine" id="cb11-5" title="5"><span class="fu">}</span></a></code></pre>
    </div>
    <h2 id="writing-plugins">Writing plugins</h2>
    <p>A plugin is a JavaScript object.</p>
    <p>
      If <code>options</code> has a <code>plugins</code> array: for the first
      plugin whose <code>test(val)</code> method returns a truthy value, then
      <code>prettyFormat(val, options)</code> returns the result from either:
    </p>
    <ul>
      <li>
        <code>serialize(val, …)</code> method of the
        <strong>improved</strong> interface (available in
        <strong>version 21</strong> or later)
      </li>
      <li>
        <code>print(val, …)</code> method of the
        <strong>original</strong> interface (if plugin does not have
        <code>serialize</code> method)
      </li>
    </ul>
    <h3 id="test">test</h3>
    <p>
      Write <code>test</code> so it can receive <code>val</code> argument of any
      type. To serialize <strong>objects</strong> which have certain properties,
      then a guarded expression like <code>val != null &amp;&amp; …</code> or
      more concise <code>val &amp;&amp; …</code> prevents the following errors:
    </p>
    <ul>
      <li><code>TypeError: Cannot read property 'whatever' of null</code></li>
      <li>
        <code>TypeError: Cannot read property 'whatever' of undefined</code>
      </li>
    </ul>
    <p>
      For example, <code>test</code> method of built-in
      <code>ReactElement</code> plugin:
    </p>
    <div class="sourceCode" id="cb12">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb12-1" title="1"><span class="kw">const</span> elementSymbol <span class="op">=</span> <span class="va">Symbol</span>.<span class="at">for</span>(<span class="st">&#39;react.element&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb12-2" title="2"><span class="kw">const</span> test <span class="op">=</span> (val) <span class="kw">=&gt;</span> val <span class="op">&amp;&amp;</span> <span class="va">val</span>.<span class="at">$$typeof</span> <span class="op">===</span> elementSymbol<span class="op">;</span></a></code></pre>
    </div>
    <p>
      Pay attention to efficiency in <code>test</code> because
      <code>pretty-format</code> calls it often.
    </p>
    <h3 id="serialize">serialize</h3>
    <p>
      The <strong>improved</strong> interface is available in
      <strong>version 21</strong> or later.
    </p>
    <p>Write <code>serialize</code> to return a string, given the arguments:</p>
    <ul>
      <li><code>val</code> which “passed the test”</li>
      <li>
        unchanging <code>config</code> object: derived from <code>options</code>
      </li>
      <li>
        current <code>indentation</code> string: concatenate to
        <code>indent</code> from <code>config</code>
      </li>
      <li>
        current <code>depth</code> number: compare to <code>maxDepth</code> from
        <code>config</code>
      </li>
      <li>
        current <code>refs</code> array: find circular references in objects
      </li>
      <li><code>printer</code> callback function: serialize children</li>
    </ul>
    <h3 id="config">config</h3>
    <table>
      <thead>
        <tr class="header">
          <th style="text-align: left">key</th>
          <th style="text-align: left">type</th>
          <th style="text-align: left">description</th>
        </tr>
      </thead>
      <tbody>
        <tr class="odd">
          <td style="text-align: left"><code>callToJSON</code></td>
          <td style="text-align: left"><code>boolean</code></td>
          <td style="text-align: left">
            call <code>toJSON</code> method (if it exists) on objects
          </td>
        </tr>
        <tr class="even">
          <td style="text-align: left"><code>colors</code></td>
          <td style="text-align: left"><code>Object</code></td>
          <td style="text-align: left">
            escape codes for colors to highlight syntax
          </td>
        </tr>
        <tr class="odd">
          <td style="text-align: left"><code>escapeRegex</code></td>
          <td style="text-align: left"><code>boolean</code></td>
          <td style="text-align: left">
            escape special characters in regular expressions
          </td>
        </tr>
        <tr class="even">
          <td style="text-align: left"><code>escapeString</code></td>
          <td style="text-align: left"><code>boolean</code></td>
          <td style="text-align: left">escape special characters in strings</td>
        </tr>
        <tr class="odd">
          <td style="text-align: left"><code>indent</code></td>
          <td style="text-align: left"><code>string</code></td>
          <td style="text-align: left">spaces in each level of indentation</td>
        </tr>
        <tr class="even">
          <td style="text-align: left"><code>maxDepth</code></td>
          <td style="text-align: left"><code>number</code></td>
          <td style="text-align: left">
            levels to print in arrays, objects, elements, and so on
          </td>
        </tr>
        <tr class="odd">
          <td style="text-align: left"><code>min</code></td>
          <td style="text-align: left"><code>boolean</code></td>
          <td style="text-align: left">
            minimize added space: no indentation nor line breaks
          </td>
        </tr>
        <tr class="even">
          <td style="text-align: left"><code>plugins</code></td>
          <td style="text-align: left"><code>array</code></td>
          <td style="text-align: left">
            plugins to serialize application-specific data types
          </td>
        </tr>
        <tr class="odd">
          <td style="text-align: left"><code>printFunctionName</code></td>
          <td style="text-align: left"><code>boolean</code></td>
          <td style="text-align: left">
            include or omit the name of a function
          </td>
        </tr>
        <tr class="even">
          <td style="text-align: left"><code>spacingInner</code></td>
          <td style="text-align: left"><code>strong</code></td>
          <td style="text-align: left">spacing to separate items in a list</td>
        </tr>
        <tr class="odd">
          <td style="text-align: left"><code>spacingOuter</code></td>
          <td style="text-align: left"><code>strong</code></td>
          <td style="text-align: left">spacing to enclose a list of items</td>
        </tr>
      </tbody>
    </table>
    <p>
      Each property of <code>colors</code> in <code>config</code> corresponds to
      a property of <code>theme</code> in <code>options</code>:
    </p>
    <ul>
      <li>the key is the same (for example, <code>tag</code>)</li>
      <li>
        the value in <code>colors</code> is a object with <code>open</code> and
        <code>close</code> properties whose values are escape codes from
        <a href="https://github.com/chalk/ansi-styles">ansi-styles</a> for the
        color value in <code>theme</code> (for example, <code>'cyan'</code>)
      </li>
    </ul>
    <p>
      Some properties in <code>config</code> are derived from
      <code>min</code> in <code>options</code>:
    </p>
    <ul>
      <li>
        <code>spacingInner</code> and <code>spacingOuter</code> are
        <strong>newline</strong> if <code>min</code> is <code>false</code>
      </li>
      <li>
        <code>spacingInner</code> is <strong>space</strong> and
        <code>spacingOuter</code> is <strong>empty string</strong> if
        <code>min</code> is <code>true</code>
      </li>
    </ul>
    <h3 id="example-of-serialize-and-test">Example of serialize and test</h3>
    <p>
      This plugin is a pattern you can apply to serialize composite data types.
      Of course, <code>pretty-format</code> does not need a plugin to serialize
      arrays :)
    </p>
    <div class="sourceCode" id="cb13">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb13-1" title="1"><span class="co">// We reused more code when we factored out a function for child items</span></a>
<a class="sourceLine" id="cb13-2" title="2"><span class="co">// that is independent of depth, name, and enclosing punctuation (see below).</span></a>
<a class="sourceLine" id="cb13-3" title="3"><span class="kw">const</span> SEPARATOR <span class="op">=</span> <span class="st">&#39;,&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb13-4" title="4"><span class="kw">function</span> <span class="at">serializeItems</span>(items<span class="op">,</span> config<span class="op">,</span> indentation<span class="op">,</span> depth<span class="op">,</span> refs<span class="op">,</span> printer) <span class="op">{</span></a>
<a class="sourceLine" id="cb13-5" title="5">  <span class="cf">if</span> (<span class="va">items</span>.<span class="at">length</span> <span class="op">===</span> <span class="dv">0</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb13-6" title="6">    <span class="cf">return</span> <span class="st">&#39;&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb13-7" title="7">  <span class="op">}</span></a>
<a class="sourceLine" id="cb13-8" title="8">  <span class="kw">const</span> indentationItems <span class="op">=</span> indentation <span class="op">+</span> <span class="va">config</span>.<span class="at">indent</span><span class="op">;</span></a>
<a class="sourceLine" id="cb13-9" title="9">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb13-10" title="10">    <span class="va">config</span>.<span class="at">spacingOuter</span> <span class="op">+</span></a>
<a class="sourceLine" id="cb13-11" title="11">    items</a>
<a class="sourceLine" id="cb13-12" title="12">      .<span class="at">map</span>(</a>
<a class="sourceLine" id="cb13-13" title="13">        (item) <span class="kw">=&gt;</span></a>
<a class="sourceLine" id="cb13-14" title="14">          indentationItems <span class="op">+</span></a>
<a class="sourceLine" id="cb13-15" title="15">          <span class="at">printer</span>(item<span class="op">,</span> config<span class="op">,</span> indentationItems<span class="op">,</span> depth<span class="op">,</span> refs)<span class="op">,</span> <span class="co">// callback</span></a>
<a class="sourceLine" id="cb13-16" title="16">      )</a>
<a class="sourceLine" id="cb13-17" title="17">      .<span class="at">join</span>(SEPARATOR <span class="op">+</span> <span class="va">config</span>.<span class="at">spacingInner</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb13-18" title="18">    (<span class="va">config</span>.<span class="at">min</span> <span class="op">?</span> <span class="st">&#39;&#39;</span> : SEPARATOR) <span class="op">+</span> <span class="co">// following the last item</span></a>
<a class="sourceLine" id="cb13-19" title="19">    <span class="va">config</span>.<span class="at">spacingOuter</span> <span class="op">+</span></a>
<a class="sourceLine" id="cb13-20" title="20">    indentation</a>
<a class="sourceLine" id="cb13-21" title="21">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb13-22" title="22"><span class="op">}</span></a>
<a class="sourceLine" id="cb13-23" title="23"></a>
<a class="sourceLine" id="cb13-24" title="24"><span class="kw">const</span> plugin <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb13-25" title="25">  <span class="at">test</span>(val) <span class="op">{</span></a>
<a class="sourceLine" id="cb13-26" title="26">    <span class="cf">return</span> <span class="va">Array</span>.<span class="at">isArray</span>(val)<span class="op">;</span></a>
<a class="sourceLine" id="cb13-27" title="27">  <span class="op">},</span></a>
<a class="sourceLine" id="cb13-28" title="28">  <span class="at">serialize</span>(array<span class="op">,</span> config<span class="op">,</span> indentation<span class="op">,</span> depth<span class="op">,</span> refs<span class="op">,</span> printer) <span class="op">{</span></a>
<a class="sourceLine" id="cb13-29" title="29">    <span class="kw">const</span> name <span class="op">=</span> <span class="va">array</span>.<span class="va">constructor</span>.<span class="at">name</span><span class="op">;</span></a>
<a class="sourceLine" id="cb13-30" title="30">    <span class="cf">return</span> <span class="op">++</span>depth <span class="op">&gt;</span> <span class="va">config</span>.<span class="at">maxDepth</span></a>
<a class="sourceLine" id="cb13-31" title="31">      <span class="op">?</span> <span class="st">&#39;[&#39;</span> <span class="op">+</span> name <span class="op">+</span> <span class="st">&#39;]&#39;</span></a>
<a class="sourceLine" id="cb13-32" title="32">      : (<span class="va">config</span>.<span class="at">min</span> <span class="op">?</span> <span class="st">&#39;&#39;</span> : name <span class="op">+</span> <span class="st">&#39; &#39;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb13-33" title="33">          <span class="st">&#39;[&#39;</span> <span class="op">+</span></a>
<a class="sourceLine" id="cb13-34" title="34">          <span class="at">serializeItems</span>(array<span class="op">,</span> config<span class="op">,</span> indentation<span class="op">,</span> depth<span class="op">,</span> refs<span class="op">,</span> printer) <span class="op">+</span></a>
<a class="sourceLine" id="cb13-35" title="35">          <span class="st">&#39;]&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb13-36" title="36">  <span class="op">},</span></a>
<a class="sourceLine" id="cb13-37" title="37"><span class="op">};</span></a></code></pre>
    </div>
    <div class="sourceCode" id="cb14">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb14-1" title="1"><span class="kw">const</span> val <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb14-2" title="2">  <span class="dt">filter</span><span class="op">:</span> <span class="st">&#39;completed&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb14-3" title="3">  <span class="dt">items</span><span class="op">:</span> [</a>
<a class="sourceLine" id="cb14-4" title="4">    <span class="op">{</span></a>
<a class="sourceLine" id="cb14-5" title="5">      <span class="dt">text</span><span class="op">:</span> <span class="st">&#39;Write test&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb14-6" title="6">      <span class="dt">completed</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></a>
<a class="sourceLine" id="cb14-7" title="7">    <span class="op">},</span></a>
<a class="sourceLine" id="cb14-8" title="8">    <span class="op">{</span></a>
<a class="sourceLine" id="cb14-9" title="9">      <span class="dt">text</span><span class="op">:</span> <span class="st">&#39;Write serialize&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb14-10" title="10">      <span class="dt">completed</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></a>
<a class="sourceLine" id="cb14-11" title="11">    <span class="op">},</span></a>
<a class="sourceLine" id="cb14-12" title="12">  ]<span class="op">,</span></a>
<a class="sourceLine" id="cb14-13" title="13"><span class="op">};</span></a></code></pre>
    </div>
    <div class="sourceCode" id="cb15">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb15-1" title="1"><span class="va">console</span>.<span class="at">log</span>(</a>
<a class="sourceLine" id="cb15-2" title="2">  <span class="at">prettyFormat</span>(val<span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb15-3" title="3">    <span class="dt">plugins</span><span class="op">:</span> [plugin]<span class="op">,</span></a>
<a class="sourceLine" id="cb15-4" title="4">  <span class="op">}</span>)<span class="op">,</span></a>
<a class="sourceLine" id="cb15-5" title="5">)<span class="op">;</span></a>
<a class="sourceLine" id="cb15-6" title="6"><span class="co">/*</span></a>
<a class="sourceLine" id="cb15-7" title="7"><span class="co">Object {</span></a>
<a class="sourceLine" id="cb15-8" title="8"><span class="co">  &quot;filter&quot;: &quot;completed&quot;,</span></a>
<a class="sourceLine" id="cb15-9" title="9"><span class="co">  &quot;items&quot;: Array [</span></a>
<a class="sourceLine" id="cb15-10" title="10"><span class="co">    Object {</span></a>
<a class="sourceLine" id="cb15-11" title="11"><span class="co">      &quot;completed&quot;: true,</span></a>
<a class="sourceLine" id="cb15-12" title="12"><span class="co">      &quot;text&quot;: &quot;Write test&quot;,</span></a>
<a class="sourceLine" id="cb15-13" title="13"><span class="co">    },</span></a>
<a class="sourceLine" id="cb15-14" title="14"><span class="co">    Object {</span></a>
<a class="sourceLine" id="cb15-15" title="15"><span class="co">      &quot;completed&quot;: true,</span></a>
<a class="sourceLine" id="cb15-16" title="16"><span class="co">      &quot;text&quot;: &quot;Write serialize&quot;,</span></a>
<a class="sourceLine" id="cb15-17" title="17"><span class="co">    },</span></a>
<a class="sourceLine" id="cb15-18" title="18"><span class="co">  ],</span></a>
<a class="sourceLine" id="cb15-19" title="19"><span class="co">}</span></a>
<a class="sourceLine" id="cb15-20" title="20"><span class="co">*/</span></a></code></pre>
    </div>
    <div class="sourceCode" id="cb16">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb16-1" title="1"><span class="va">console</span>.<span class="at">log</span>(</a>
<a class="sourceLine" id="cb16-2" title="2">  <span class="at">prettyFormat</span>(val<span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb16-3" title="3">    <span class="dt">indent</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span></a>
<a class="sourceLine" id="cb16-4" title="4">    <span class="dt">plugins</span><span class="op">:</span> [plugin]<span class="op">,</span></a>
<a class="sourceLine" id="cb16-5" title="5">  <span class="op">}</span>)<span class="op">,</span></a>
<a class="sourceLine" id="cb16-6" title="6">)<span class="op">;</span></a>
<a class="sourceLine" id="cb16-7" title="7"><span class="co">/*</span></a>
<a class="sourceLine" id="cb16-8" title="8"><span class="co">Object {</span></a>
<a class="sourceLine" id="cb16-9" title="9"><span class="co">    &quot;filter&quot;: &quot;completed&quot;,</span></a>
<a class="sourceLine" id="cb16-10" title="10"><span class="co">    &quot;items&quot;: Array [</span></a>
<a class="sourceLine" id="cb16-11" title="11"><span class="co">        Object {</span></a>
<a class="sourceLine" id="cb16-12" title="12"><span class="co">            &quot;completed&quot;: true,</span></a>
<a class="sourceLine" id="cb16-13" title="13"><span class="co">            &quot;text&quot;: &quot;Write test&quot;,</span></a>
<a class="sourceLine" id="cb16-14" title="14"><span class="co">        },</span></a>
<a class="sourceLine" id="cb16-15" title="15"><span class="co">        Object {</span></a>
<a class="sourceLine" id="cb16-16" title="16"><span class="co">            &quot;completed&quot;: true,</span></a>
<a class="sourceLine" id="cb16-17" title="17"><span class="co">            &quot;text&quot;: &quot;Write serialize&quot;,</span></a>
<a class="sourceLine" id="cb16-18" title="18"><span class="co">        },</span></a>
<a class="sourceLine" id="cb16-19" title="19"><span class="co">    ],</span></a>
<a class="sourceLine" id="cb16-20" title="20"><span class="co">}</span></a>
<a class="sourceLine" id="cb16-21" title="21"><span class="co">*/</span></a></code></pre>
    </div>
    <div class="sourceCode" id="cb17">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb17-1" title="1"><span class="va">console</span>.<span class="at">log</span>(</a>
<a class="sourceLine" id="cb17-2" title="2">  <span class="at">prettyFormat</span>(val<span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb17-3" title="3">    <span class="dt">maxDepth</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></a>
<a class="sourceLine" id="cb17-4" title="4">    <span class="dt">plugins</span><span class="op">:</span> [plugin]<span class="op">,</span></a>
<a class="sourceLine" id="cb17-5" title="5">  <span class="op">}</span>)<span class="op">,</span></a>
<a class="sourceLine" id="cb17-6" title="6">)<span class="op">;</span></a>
<a class="sourceLine" id="cb17-7" title="7"><span class="co">/*</span></a>
<a class="sourceLine" id="cb17-8" title="8"><span class="co">Object {</span></a>
<a class="sourceLine" id="cb17-9" title="9"><span class="co">  &quot;filter&quot;: &quot;completed&quot;,</span></a>
<a class="sourceLine" id="cb17-10" title="10"><span class="co">  &quot;items&quot;: [Array],</span></a>
<a class="sourceLine" id="cb17-11" title="11"><span class="co">}</span></a>
<a class="sourceLine" id="cb17-12" title="12"><span class="co">*/</span></a></code></pre>
    </div>
    <div class="sourceCode" id="cb18">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb18-1" title="1"><span class="va">console</span>.<span class="at">log</span>(</a>
<a class="sourceLine" id="cb18-2" title="2">  <span class="at">prettyFormat</span>(val<span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb18-3" title="3">    <span class="dt">min</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></a>
<a class="sourceLine" id="cb18-4" title="4">    <span class="dt">plugins</span><span class="op">:</span> [plugin]<span class="op">,</span></a>
<a class="sourceLine" id="cb18-5" title="5">  <span class="op">}</span>)<span class="op">,</span></a>
<a class="sourceLine" id="cb18-6" title="6">)<span class="op">;</span></a>
<a class="sourceLine" id="cb18-7" title="7"><span class="co">/*</span></a>
<a class="sourceLine" id="cb18-8" title="8"><span class="co">{&quot;filter&quot;: &quot;completed&quot;, &quot;items&quot;: [{&quot;completed&quot;: true, &quot;text&quot;: &quot;Write test&quot;}, {&quot;completed&quot;: true, &quot;text&quot;: &quot;Write serialize&quot;}]}</span></a>
<a class="sourceLine" id="cb18-9" title="9"><span class="co">*/</span></a></code></pre>
    </div>
    <h3 id="print">print</h3>
    <p>The <strong>original</strong> interface is adequate for plugins:</p>
    <ul>
      <li>
        that <strong>do not</strong> depend on options other than
        <code>highlight</code> or <code>min</code>
      </li>
      <li>
        that <strong>do not</strong> depend on <code>depth</code> or
        <code>refs</code> in recursive traversal, and
      </li>
      <li>
        if values either
        <ul>
          <li>do <strong>not</strong> require indentation, or</li>
          <li>
            do <strong>not</strong> occur as children of JavaScript data
            structures (for example, array)
          </li>
        </ul>
      </li>
    </ul>
    <p>Write <code>print</code> to return a string, given the arguments:</p>
    <ul>
      <li><code>val</code> which “passed the test”</li>
      <li>
        current <code>printer(valChild)</code> callback function: serialize
        children
      </li>
      <li>
        current <code>indenter(lines)</code> callback function: indent lines at
        the next level
      </li>
      <li>
        unchanging <code>config</code> object: derived from <code>options</code>
      </li>
      <li>
        unchanging <code>colors</code> object: derived from <code>options</code>
      </li>
    </ul>
    <p>
      The 3 properties of <code>config</code> are <code>min</code> in
      <code>options</code> and:
    </p>
    <ul>
      <li>
        <code>spacing</code> and <code>edgeSpacing</code> are
        <strong>newline</strong> if <code>min</code> is <code>false</code>
      </li>
      <li>
        <code>spacing</code> is <strong>space</strong> and
        <code>edgeSpacing</code> is <strong>empty string</strong> if
        <code>min</code> is <code>true</code>
      </li>
    </ul>
    <p>
      Each property of <code>colors</code> corresponds to a property of
      <code>theme</code> in <code>options</code>:
    </p>
    <ul>
      <li>the key is the same (for example, <code>tag</code>)</li>
      <li>
        the value in <code>colors</code> is a object with <code>open</code> and
        <code>close</code> properties whose values are escape codes from
        <a href="https://github.com/chalk/ansi-styles">ansi-styles</a> for the
        color value in <code>theme</code> (for example, <code>'cyan'</code>)
      </li>
    </ul>
    <h3 id="example-of-print-and-test">Example of print and test</h3>
    <p>
      This plugin prints functions with the
      <strong>number of named arguments</strong> excluding rest argument.
    </p>
    <div class="sourceCode" id="cb19">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb19-1" title="1"><span class="kw">const</span> plugin <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb19-2" title="2">  <span class="at">print</span>(val) <span class="op">{</span></a>
<a class="sourceLine" id="cb19-3" title="3">    <span class="cf">return</span> <span class="vs">`[Function </span><span class="sc">${</span><span class="va">val</span>.<span class="at">name</span> <span class="op">||</span> <span class="st">&#39;anonymous&#39;</span><span class="sc">}</span><span class="vs"> </span><span class="sc">${</span><span class="va">val</span>.<span class="at">length</span><span class="sc">}</span><span class="vs">]`</span><span class="op">;</span></a>
<a class="sourceLine" id="cb19-4" title="4">  <span class="op">},</span></a>
<a class="sourceLine" id="cb19-5" title="5">  <span class="at">test</span>(val) <span class="op">{</span></a>
<a class="sourceLine" id="cb19-6" title="6">    <span class="cf">return</span> <span class="kw">typeof</span> val <span class="op">===</span> <span class="st">&#39;function&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb19-7" title="7">  <span class="op">},</span></a>
<a class="sourceLine" id="cb19-8" title="8"><span class="op">};</span></a></code></pre>
    </div>
    <div class="sourceCode" id="cb20">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb20-1" title="1"><span class="kw">const</span> val <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb20-2" title="2">  <span class="at">onClick</span>(event) <span class="op">{},</span></a>
<a class="sourceLine" id="cb20-3" title="3">  <span class="at">render</span>() <span class="op">{},</span></a>
<a class="sourceLine" id="cb20-4" title="4"><span class="op">};</span></a>
<a class="sourceLine" id="cb20-5" title="5"></a>
<a class="sourceLine" id="cb20-6" title="6"><span class="at">prettyFormat</span>(val<span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb20-7" title="7">  <span class="dt">plugins</span><span class="op">:</span> [plugin]<span class="op">,</span></a>
<a class="sourceLine" id="cb20-8" title="8"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb20-9" title="9"><span class="co">/*</span></a>
<a class="sourceLine" id="cb20-10" title="10"><span class="co">Object {</span></a>
<a class="sourceLine" id="cb20-11" title="11"><span class="co">  &quot;onClick&quot;: [Function onClick 1],</span></a>
<a class="sourceLine" id="cb20-12" title="12"><span class="co">  &quot;render&quot;: [Function render 0],</span></a>
<a class="sourceLine" id="cb20-13" title="13"><span class="co">}</span></a>
<a class="sourceLine" id="cb20-14" title="14"><span class="co">*/</span></a>
<a class="sourceLine" id="cb20-15" title="15"></a>
<a class="sourceLine" id="cb20-16" title="16"><span class="at">prettyFormat</span>(val)<span class="op">;</span></a>
<a class="sourceLine" id="cb20-17" title="17"><span class="co">/*</span></a>
<a class="sourceLine" id="cb20-18" title="18"><span class="co">Object {</span></a>
<a class="sourceLine" id="cb20-19" title="19"><span class="co">  &quot;onClick&quot;: [Function onClick],</span></a>
<a class="sourceLine" id="cb20-20" title="20"><span class="co">  &quot;render&quot;: [Function render],</span></a>
<a class="sourceLine" id="cb20-21" title="21"><span class="co">}</span></a>
<a class="sourceLine" id="cb20-22" title="22"><span class="co">*/</span></a></code></pre>
    </div>
    <p>
      This plugin <strong>ignores</strong> the
      <code>printFunctionName</code> option. That limitation of the original
      <code>print</code> interface is a reason to use the improved
      <code>serialize</code> interface, described above.
    </p>
    <div class="sourceCode" id="cb21">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb21-1" title="1"><span class="at">prettyFormat</span>(val<span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb21-2" title="2">  <span class="dt">plugins</span><span class="op">:</span> [pluginOld]<span class="op">,</span></a>
<a class="sourceLine" id="cb21-3" title="3">  <span class="dt">printFunctionName</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></a>
<a class="sourceLine" id="cb21-4" title="4"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb21-5" title="5"><span class="co">/*</span></a>
<a class="sourceLine" id="cb21-6" title="6"><span class="co">Object {</span></a>
<a class="sourceLine" id="cb21-7" title="7"><span class="co">  &quot;onClick&quot;: [Function onClick 1],</span></a>
<a class="sourceLine" id="cb21-8" title="8"><span class="co">  &quot;render&quot;: [Function render 0],</span></a>
<a class="sourceLine" id="cb21-9" title="9"><span class="co">}</span></a>
<a class="sourceLine" id="cb21-10" title="10"><span class="co">*/</span></a>
<a class="sourceLine" id="cb21-11" title="11"></a>
<a class="sourceLine" id="cb21-12" title="12"><span class="at">prettyFormat</span>(val<span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb21-13" title="13">  <span class="dt">printFunctionName</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></a>
<a class="sourceLine" id="cb21-14" title="14"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb21-15" title="15"><span class="co">/*</span></a>
<a class="sourceLine" id="cb21-16" title="16"><span class="co">Object {</span></a>
<a class="sourceLine" id="cb21-17" title="17"><span class="co">  &quot;onClick&quot;: [Function],</span></a>
<a class="sourceLine" id="cb21-18" title="18"><span class="co">  &quot;render&quot;: [Function],</span></a>
<a class="sourceLine" id="cb21-19" title="19"><span class="co">}</span></a>
<a class="sourceLine" id="cb21-20" title="20"><span class="co">*/</span></a></code></pre>
    </div>
  </body>
</html>
