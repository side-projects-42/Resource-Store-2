<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>Testing React Native Apps</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
    <style type="text/css">
      a.sourceLine {
        display: inline-block;
        line-height: 1.25;
      }
      a.sourceLine {
        pointer-events: none;
        color: inherit;
        text-decoration: inherit;
      }
      a.sourceLine:empty {
        height: 1.2em;
      }
      .sourceCode {
        overflow: visible;
      }
      code.sourceCode {
        white-space: pre;
        position: relative;
      }
      div.sourceCode {
        margin: 1em 0;
      }
      pre.sourceCode {
        margin: 0;
      }
      @media screen {
        div.sourceCode {
          overflow: auto;
        }
      }
      @media print {
        code.sourceCode {
          white-space: pre-wrap;
        }
        a.sourceLine {
          text-indent: -1em;
          padding-left: 1em;
        }
      }
      pre.numberSource a.sourceLine {
        position: relative;
        left: -4em;
      }
      pre.numberSource a.sourceLine::before {
        content: attr(title);
        position: relative;
        left: -1em;
        text-align: right;
        vertical-align: baseline;
        border: none;
        pointer-events: all;
        display: inline-block;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        padding: 0 4px;
        width: 4em;
        color: #aaaaaa;
      }
      pre.numberSource {
        margin-left: 3em;
        border-left: 1px solid #aaaaaa;
        padding-left: 4px;
      }
      div.sourceCode {
      }
      @media screen {
        a.sourceLine::before {
          text-decoration: underline;
        }
      }
      code span.al {
        color: #ff0000;
        font-weight: bold;
      } /* Alert */
      code span.an {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Annotation */
      code span.at {
        color: #7d9029;
      } /* Attribute */
      code span.bn {
        color: #40a070;
      } /* BaseN */
      code span.bu {
      } /* BuiltIn */
      code span.cf {
        color: #007020;
        font-weight: bold;
      } /* ControlFlow */
      code span.ch {
        color: #4070a0;
      } /* Char */
      code span.cn {
        color: #880000;
      } /* Constant */
      code span.co {
        color: #60a0b0;
        font-style: italic;
      } /* Comment */
      code span.cv {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* CommentVar */
      code span.do {
        color: #ba2121;
        font-style: italic;
      } /* Documentation */
      code span.dt {
        color: #902000;
      } /* DataType */
      code span.dv {
        color: #40a070;
      } /* DecVal */
      code span.er {
        color: #ff0000;
        font-weight: bold;
      } /* Error */
      code span.ex {
      } /* Extension */
      code span.fl {
        color: #40a070;
      } /* Float */
      code span.fu {
        color: #06287e;
      } /* Function */
      code span.im {
      } /* Import */
      code span.in {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Information */
      code span.kw {
        color: #007020;
        font-weight: bold;
      } /* Keyword */
      code span.op {
        color: #666666;
      } /* Operator */
      code span.ot {
        color: #007020;
      } /* Other */
      code span.pp {
        color: #bc7a00;
      } /* Preprocessor */
      code span.sc {
        color: #4070a0;
      } /* SpecialChar */
      code span.ss {
        color: #bb6688;
      } /* SpecialString */
      code span.st {
        color: #4070a0;
      } /* String */
      code span.va {
        color: #19177c;
      } /* Variable */
      code span.vs {
        color: #4070a0;
      } /* VerbatimString */
      code span.wa {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Warning */
    </style>
  </head>
  <body>
    <header id="title-block-header">
      <h1 class="title">Testing React Native Apps</h1>
    </header>
    <p>
      At Facebook, we use Jest to test
      <a href="http://facebook.github.io/react-native/">React Native</a>
      applications.
    </p>
    <p>
      Get a deeper insight into testing a working React Native app example by
      reading the following series:
      <a
        href="https://blog.callstack.io/unit-testing-react-native-with-the-new-jest-i-snapshots-come-into-play-68ba19b1b9fe#.12zbnbgwc"
        >Part 1: Jest – Snapshot come into play</a
      >
      and
      <a
        href="https://blog.callstack.io/unit-testing-react-native-with-the-new-jest-ii-redux-snapshots-for-your-actions-and-reducers-8559f6f8050b"
        >Part 2: Jest – Redux Snapshots for your Actions and Reducers</a
      >.
    </p>
    <h2 id="setup">Setup</h2>
    <p>
      Starting from react-native version 0.38, a Jest setup is included by
      default when running <code>react-native init</code>. The following
      configuration should be automatically added to your package.json file:
    </p>
    <div class="sourceCode" id="cb1">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb1-1" title="1"><span class="er">//</span> <span class="er">package.json</span></a>
<a class="sourceLine" id="cb1-2" title="2">  <span class="er">&quot;scripts&quot;:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb1-3" title="3">    <span class="dt">&quot;test&quot;</span><span class="fu">:</span> <span class="st">&quot;jest&quot;</span></a>
<a class="sourceLine" id="cb1-4" title="4">  <span class="fu">}</span><span class="er">,</span></a>
<a class="sourceLine" id="cb1-5" title="5">  <span class="er">&quot;jest&quot;:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb1-6" title="6">    <span class="dt">&quot;preset&quot;</span><span class="fu">:</span> <span class="st">&quot;react-native&quot;</span></a>
<a class="sourceLine" id="cb1-7" title="7">  <span class="fu">}</span></a></code></pre>
    </div>
    <p>
      <em
        >Note: If you are upgrading your react-native application and previously
        used the <code>jest-react-native</code> preset, remove the dependency
        from your <code>package.json</code> file and change the preset to
        <code>react-native</code> instead.</em
      >
    </p>
    <p>Simply run <code>yarn test</code> to run tests with Jest.</p>
    <h2 id="snapshot-test">Snapshot Test</h2>
    <p>
      Let’s create a <a href="SnapshotTesting.md">snapshot test</a> for a small
      intro component with a few views and text components and some styles:
    </p>
    <div class="sourceCode" id="cb2">
      <pre
        class="sourceCode javascript"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="co">// Intro.js</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="im">import</span> React<span class="op">,</span> <span class="op">{</span>Component<span class="op">}</span> <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="im">import</span> <span class="op">{</span>StyleSheet<span class="op">,</span> Text<span class="op">,</span> View<span class="op">}</span> <span class="im">from</span> <span class="st">&#39;react-native&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-4" title="4"></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="kw">const</span> styles <span class="op">=</span> <span class="va">StyleSheet</span>.<span class="at">create</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb2-6" title="6">  <span class="dt">container</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-7" title="7">    <span class="dt">alignItems</span><span class="op">:</span> <span class="st">&#39;center&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-8" title="8">    <span class="dt">backgroundColor</span><span class="op">:</span> <span class="st">&#39;#F5FCFF&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-9" title="9">    <span class="dt">flex</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-10" title="10">    <span class="dt">justifyContent</span><span class="op">:</span> <span class="st">&#39;center&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-11" title="11">  <span class="op">},</span></a>
<a class="sourceLine" id="cb2-12" title="12">  <span class="dt">instructions</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-13" title="13">    <span class="dt">color</span><span class="op">:</span> <span class="st">&#39;#333333&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-14" title="14">    <span class="dt">marginBottom</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-15" title="15">    <span class="dt">textAlign</span><span class="op">:</span> <span class="st">&#39;center&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-16" title="16">  <span class="op">},</span></a>
<a class="sourceLine" id="cb2-17" title="17">  <span class="dt">welcome</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-18" title="18">    <span class="dt">fontSize</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-19" title="19">    <span class="dt">margin</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-20" title="20">    <span class="dt">textAlign</span><span class="op">:</span> <span class="st">&#39;center&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-21" title="21">  <span class="op">},</span></a>
<a class="sourceLine" id="cb2-22" title="22"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-23" title="23"></a>
<a class="sourceLine" id="cb2-24" title="24"><span class="im">export</span> <span class="im">default</span> <span class="kw">class</span> Intro <span class="kw">extends</span> Component <span class="op">{</span></a>
<a class="sourceLine" id="cb2-25" title="25">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb2-26" title="26">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb2-27" title="27">      <span class="op">&lt;</span>View style<span class="op">={</span><span class="va">styles</span>.<span class="at">container</span><span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb2-28" title="28">        <span class="op">&lt;</span>Text style<span class="op">={</span><span class="va">styles</span>.<span class="at">welcome</span><span class="op">}&gt;</span>Welcome to React Native<span class="op">!</span>&lt;/Text<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb2-29" title="29">        <span class="op">&lt;</span>Text style<span class="op">={</span><span class="va">styles</span>.<span class="at">instructions</span><span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb2-30" title="30">          This is a React Native snapshot <span class="va">test</span>.</a>
<a class="sourceLine" id="cb2-31" title="31">        &lt;/Text<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb2-32" title="32">      &lt;/View<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb2-33" title="33">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb2-34" title="34">  <span class="op">}</span></a>
<a class="sourceLine" id="cb2-35" title="35"><span class="op">}</span></a></code></pre>
    </div>
    <p>
      Now let’s use React’s test renderer and Jest’s snapshot feature to
      interact with the component and capture the rendered output and create a
      snapshot file:
    </p>
    <div class="sourceCode" id="cb3">
      <pre
        class="sourceCode javascript"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="co">// __tests__/Intro-test.js</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="im">import</span> Intro <span class="im">from</span> <span class="st">&#39;../Intro&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb3-4" title="4"></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="im">import</span> renderer <span class="im">from</span> <span class="st">&#39;react-test-renderer&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb3-6" title="6"></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="at">test</span>(<span class="st">&#39;renders correctly&#39;</span><span class="op">,</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb3-8" title="8">  <span class="kw">const</span> tree <span class="op">=</span> <span class="va">renderer</span>.<span class="at">create</span>(<span class="op">&lt;</span>Intro /<span class="op">&gt;</span>).<span class="at">toJSON</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb3-9" title="9">  <span class="at">expect</span>(tree).<span class="at">toMatchSnapshot</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb3-10" title="10"><span class="op">}</span>)<span class="op">;</span></a></code></pre>
    </div>
    <p>
      When you run <code>yarn test</code> or <code>jest</code>, this will
      produce an output file like this:
    </p>
    <div class="sourceCode" id="cb4">
      <pre
        class="sourceCode javascript"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="co">// __tests__/__snapshots__/Intro-test.js.snap</span></a>
<a class="sourceLine" id="cb4-2" title="2">exports[<span class="vs">`Intro renders correctly 1`</span>] <span class="op">=</span> <span class="vs">`</span></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="vs">&lt;View</span></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="vs">  style={</span></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="vs">    Object {</span></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="vs">      &quot;alignItems&quot;: &quot;center&quot;,</span></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="vs">      &quot;backgroundColor&quot;: &quot;#F5FCFF&quot;,</span></a>
<a class="sourceLine" id="cb4-8" title="8"><span class="vs">      &quot;flex&quot;: 1,</span></a>
<a class="sourceLine" id="cb4-9" title="9"><span class="vs">      &quot;justifyContent&quot;: &quot;center&quot;,</span></a>
<a class="sourceLine" id="cb4-10" title="10"><span class="vs">    }</span></a>
<a class="sourceLine" id="cb4-11" title="11"><span class="vs">  }&gt;</span></a>
<a class="sourceLine" id="cb4-12" title="12"><span class="vs">  &lt;Text</span></a>
<a class="sourceLine" id="cb4-13" title="13"><span class="vs">    style={</span></a>
<a class="sourceLine" id="cb4-14" title="14"><span class="vs">      Object {</span></a>
<a class="sourceLine" id="cb4-15" title="15"><span class="vs">        &quot;fontSize&quot;: 20,</span></a>
<a class="sourceLine" id="cb4-16" title="16"><span class="vs">        &quot;margin&quot;: 10,</span></a>
<a class="sourceLine" id="cb4-17" title="17"><span class="vs">        &quot;textAlign&quot;: &quot;center&quot;,</span></a>
<a class="sourceLine" id="cb4-18" title="18"><span class="vs">      }</span></a>
<a class="sourceLine" id="cb4-19" title="19"><span class="vs">    }&gt;</span></a>
<a class="sourceLine" id="cb4-20" title="20"><span class="vs">    Welcome to React Native!</span></a>
<a class="sourceLine" id="cb4-21" title="21"><span class="vs">  &lt;/Text&gt;</span></a>
<a class="sourceLine" id="cb4-22" title="22"><span class="vs">  &lt;Text</span></a>
<a class="sourceLine" id="cb4-23" title="23"><span class="vs">    style={</span></a>
<a class="sourceLine" id="cb4-24" title="24"><span class="vs">      Object {</span></a>
<a class="sourceLine" id="cb4-25" title="25"><span class="vs">        &quot;color&quot;: &quot;#333333&quot;,</span></a>
<a class="sourceLine" id="cb4-26" title="26"><span class="vs">        &quot;marginBottom&quot;: 5,</span></a>
<a class="sourceLine" id="cb4-27" title="27"><span class="vs">        &quot;textAlign&quot;: &quot;center&quot;,</span></a>
<a class="sourceLine" id="cb4-28" title="28"><span class="vs">      }</span></a>
<a class="sourceLine" id="cb4-29" title="29"><span class="vs">    }&gt;</span></a>
<a class="sourceLine" id="cb4-30" title="30"><span class="vs">    This is a React Native snapshot test.</span></a>
<a class="sourceLine" id="cb4-31" title="31"><span class="vs">  &lt;/Text&gt;</span></a>
<a class="sourceLine" id="cb4-32" title="32"><span class="vs">&lt;/View&gt;</span></a>
<a class="sourceLine" id="cb4-33" title="33"><span class="vs">`</span><span class="op">;</span></a></code></pre>
    </div>
    <p>
      The next time you run the tests, the rendered output will be compared to
      the previously created snapshot. The snapshot should be committed along
      code changes. When a snapshot test fails, you need to inspect whether it
      is an intended or unintended change. If the change is expected you can
      invoke Jest with <code>jest -u</code> to overwrite the existing snapshot.
    </p>
    <p>
      The code for this example is available at
      <a
        href="https://github.com/facebook/jest/tree/master/examples/react-native"
        >examples/react-native</a
      >.
    </p>
    <h2 id="preset-configuration">Preset configuration</h2>
    <p>
      The preset sets up the environment and is very opinionated and based on
      what we found to be useful at Facebook. All of the configuration options
      can be overwritten just as they can be customized when no preset is used.
    </p>
    <h3 id="environment">Environment</h3>
    <p>
      <code>react-native</code> ships with a Jest preset, so the
      <code>jest.preset</code> field of your <code>package.json</code> should
      point to <code>react-native</code>. The preset is a node environment that
      mimics the environment of a React Native app. Because it doesn’t load any
      DOM or browser APIs, it greatly improves Jest’s startup time.
    </p>
    <h3 id="transformignorepatterns-customization">
      transformIgnorePatterns customization
    </h3>
    <p>
      The
      <a href="configuration.html#transformignorepatterns-array-string"
        ><code>transformIgnorePatterns</code></a
      >
      option can be used to whitelist or blacklist files from being transformed
      with babel. Many react-native npm modules unfortunately don’t pre-compile
      their source code before publishing.
    </p>
    <p>
      By default the jest-react-native preset only processes the project’s own
      source files and react-native. If you have npm dependencies that have to
      be transformed you can customize this configuration option by whitelisting
      modules other than react-native:
    </p>
    <div class="sourceCode" id="cb5">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb5-1" title="1"><span class="er">&quot;transformIgnorePatterns&quot;:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb5-2" title="2">  <span class="st">&quot;node_modules/(?!(react-native|my-project|react-native-button)/)&quot;</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="ot">]</span></a></code></pre>
    </div>
    <h3 id="setupfiles">setupFiles</h3>
    <p>
      If you’d like to provide additional configuration for every test file, the
      <a href="configuration.html#setupfiles-array"
        ><code>setupFiles</code> configuration option</a
      >
      can be used to specify setup scripts.
    </p>
    <h3 id="modulenamemapper">moduleNameMapper</h3>
    <p>
      The
      <a href="configuration.html#modulenamemapper-object-string-string"
        ><code>moduleNameMapper</code></a
      >
      can be used to map a module path to a different module. By default the
      preset maps all images to an image stub module but if a module cannot be
      found this configuration option can help:
    </p>
    <div class="sourceCode" id="cb6">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb6-1" title="1"><span class="er">&quot;moduleNameMapper&quot;:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb6-2" title="2">  <span class="dt">&quot;my-module.js&quot;</span><span class="fu">:</span> <span class="st">&quot;&lt;rootDir&gt;/path/to/my-module.js&quot;</span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="fu">}</span></a></code></pre>
    </div>
    <h2 id="tips">Tips</h2>
    <h3 id="mock-native-modules-using-jest.mock">
      Mock native modules using jest.mock
    </h3>
    <p>
      The Jest preset built into <code>react-native</code> comes with a few
      default mocks that are applied on a react-native repository. However some
      react-native components or third party components rely on native code to
      be rendered. In such cases, Jest’s manual mocking system can help to mock
      out the underlying implementation.
    </p>
    <p>
      For example, if your code depends on a third party native video component
      called <code>react-native-video</code> you might want to stub it out with
      a manual mock like this:
    </p>
    <div class="sourceCode" id="cb7">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="va">jest</span>.<span class="at">mock</span>(<span class="st">&#39;react-native-video&#39;</span><span class="op">,</span> () <span class="kw">=&gt;</span> <span class="st">&#39;Video&#39;</span>)<span class="op">;</span></a></code></pre>
    </div>
    <p>
      This will render the component as
      <code>&lt;Video {...props} /&gt;</code> with all of its props in the
      snapshot output. See also
      <a
        href="tutorial-react.html#snapshot-testing-with-mocks-enzyme-and-react-16"
        >caveats around Enzyme and React 16</a
      >.
    </p>
    <p>
      Sometimes you need to provide a more complex manual mock. For example if
      you’d like to forward the prop types or static fields of a native
      component to a mock, you can return a different React component from a
      mock through this helper from jest-react-native:
    </p>
    <div class="sourceCode" id="cb8">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1"><span class="va">jest</span>.<span class="at">mock</span>(<span class="st">&#39;path/to/MyNativeComponent&#39;</span><span class="op">,</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb8-2" title="2">  <span class="kw">const</span> mockComponent <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;react-native/jest/mockComponent&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-3" title="3">  <span class="cf">return</span> <span class="at">mockComponent</span>(<span class="st">&#39;path/to/MyNativeComponent&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-4" title="4"><span class="op">}</span>)<span class="op">;</span></a></code></pre>
    </div>
    <p>
      Or if you’d like to create your own manual mock, you can do something like
      this:
    </p>
    <div class="sourceCode" id="cb9">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="va">jest</span>.<span class="at">mock</span>(<span class="st">&#39;Text&#39;</span><span class="op">,</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb9-2" title="2">  <span class="kw">const</span> RealComponent <span class="op">=</span> <span class="va">jest</span>.<span class="at">requireActual</span>(<span class="st">&#39;Text&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb9-3" title="3">  <span class="kw">const</span> React <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;React&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb9-4" title="4">  <span class="kw">class</span> Text <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb9-5" title="5">    <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb9-6" title="6">      <span class="cf">return</span> <span class="va">React</span>.<span class="at">createElement</span>(<span class="st">&#39;Text&#39;</span><span class="op">,</span> <span class="kw">this</span>.<span class="at">props</span><span class="op">,</span> <span class="kw">this</span>.<span class="va">props</span>.<span class="at">children</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb9-7" title="7">    <span class="op">}</span></a>
<a class="sourceLine" id="cb9-8" title="8">  <span class="op">}</span></a>
<a class="sourceLine" id="cb9-9" title="9">  <span class="va">Text</span>.<span class="at">propTypes</span> <span class="op">=</span> <span class="va">RealComponent</span>.<span class="at">propTypes</span><span class="op">;</span></a>
<a class="sourceLine" id="cb9-10" title="10">  <span class="cf">return</span> Text<span class="op">;</span></a>
<a class="sourceLine" id="cb9-11" title="11"><span class="op">}</span>)<span class="op">;</span></a></code></pre>
    </div>
    <p>
      In other cases you may want to mock a native module that isn’t a React
      component. The same technique can be applied. We recommend inspecting the
      native module’s source code and logging the module when running a react
      native app on a real device and then modeling a manual mock after the real
      module.
    </p>
    <p>
      If you end up mocking the same modules over and over it is recommended to
      define these mocks in a separate file and add it to the list of
      <code>setupFiles</code>.
    </p>
    <h3 id="providesmodule"><code>@providesModule</code></h3>
    <p>
      If you’d like to use Facebook’s <code>@providesModule</code> module system
      through an npm package, the default haste config option must be
      overwritten and npm modules must be added to
      <code>providesModuleNodeModules</code>:
    </p>
    <div class="sourceCode" id="cb10">
      <pre
        class="sourceCode json"
      ><code class="sourceCode json"><a class="sourceLine" id="cb10-1" title="1"><span class="er">&quot;haste&quot;:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb10-2" title="2">  <span class="dt">&quot;defaultPlatform&quot;</span><span class="fu">:</span> <span class="st">&quot;ios&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb10-3" title="3">  <span class="dt">&quot;platforms&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;android&quot;</span><span class="ot">,</span> <span class="st">&quot;ios&quot;</span><span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb10-4" title="4">  <span class="dt">&quot;providesModuleNodeModules&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb10-5" title="5">    <span class="st">&quot;react&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb10-6" title="6">    <span class="st">&quot;react-native&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb10-7" title="7">    <span class="st">&quot;my-awesome-module&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb10-8" title="8">    <span class="st">&quot;my-text-component&quot;</span></a>
<a class="sourceLine" id="cb10-9" title="9">  <span class="ot">]</span></a>
<a class="sourceLine" id="cb10-10" title="10"><span class="fu">}</span><span class="er">,</span></a></code></pre>
    </div>
    <p>
      If you’d like to test a different default platform or if you are building
      for other platforms, the <code>defaultPlatform</code> and
      <code>platforms</code> configuration option can be updated.
    </p>
  </body>
</html>
