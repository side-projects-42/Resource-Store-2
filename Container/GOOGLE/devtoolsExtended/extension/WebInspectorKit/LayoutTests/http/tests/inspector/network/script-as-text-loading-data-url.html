<html>
  <head>
    <script src="../inspector-test.js"></script>
    <script src="../console-test.js"></script>
    <script>
      function loadScript() {
        var script = document.createElement("script");
        script.src =
          "data:text/plain;base64,dmFyIGpvaG5xdW90ZSA9ICJCZWNhdXNlIG9mIHRoZSBuYXR1cmUgb2YgTW9vcmUncyBsYXcsIGFueXRoaW5nIHRoYXQgYW4gZXh0cmVtZWx5IGNsZXZlciBncmFwaGljcyBwcm9ncmFtbWVyIGNhbiBkbyBhdCBvbmUgcG9pbnQgY2FuIGJlIHJlcGxpY2F0ZWQgYnkgYSBtZXJlbHkgY29tcGV0ZW50IHByb2dyYW1tZXIgc29tZSBudW1iZXIgb2YgeWVhcnMgbGF0ZXIuIjs=";
        document.body.appendChild(script);
      }

      function test() {
        InspectorTest.addConsoleSniffer(step1);
        InspectorTest.evaluateInPage("loadScript()");

        function step1() {
          InspectorTest.dumpConsoleMessages();
          InspectorTest.completeTest();
        }
      }
    </script>
  </head>
  <body onload="runTest()">
    <p>
      Tests that long data: URLs are correctly trimmed in MIME type console
      warnings.
    </p>
    <a href="https://bugs.webkit.org/show_bug.cgi?id=100083">Bug 100083</a>
  </body>
</html>
