<html>

<script src="chrome-extension://klmlfkibgfifmkanocmdenpieghpgifl/ChannelPlate/ChannelPlate.js"></script>
<script src="chrome-extension://klmlfkibgfifmkanocmdenpieghpgifl/ChannelPlate/RemoteMethodCall.js"></script>
<script src="chrome-extension://klmlfkibgfifmkanocmdenpieghpgifl/AsyncMachine.js"></script>
<script src="../../../DebugLogger.js"></script>
<script src="../PatientSelector.js"></script>
<script src="../panel-test.js"></script>

<script>

window.addEventListener('load', function() {
  testScript();
});

function test_lastChange() {
  console.log("------------test begins------------");
  AsyncMachine.pushOp(evaluateInPage, 'window.location="http://localhost:8686/test/transformations/test.html"');

  AsyncMachine.pushOp(openQuerypointPanel);
  AsyncMachine.pushOp(openSourceFile, 'tests.js');
  AsyncMachine.pushOp(clickSelector, '.initialOptions_reloadWithQP', '');
  AsyncMachine.pushOp(whenSelectorAll, '.currentLoadNumber', '1');
  AsyncMachine.pushOp(mouseOverSelector, 'div.turnIndicator[severity="warning"]', '');
  
  AsyncMachine.pushOp(whenSelectorAll, '.message', 'Tests complete');
  AsyncMachine.pushOp(extractText, 'p.message[severity="warning"]');

  AsyncMachine.runOp();
}

var testScript = test_lastChange;
</script>
<body>
<h1>Feature Test lastChange</h1>
</body>
</html>