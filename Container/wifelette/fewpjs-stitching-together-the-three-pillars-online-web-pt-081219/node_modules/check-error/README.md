[![ChaiJS](http://chaijs.com/img/chai-logo.png) check-error](http://chaijs.com "Chai Documentation")
====================================================================================================

Error comparison and information related utility for [node](http://nodejs.org) and the browser.

[![license:mit](https://img.shields.io/badge/license-mit-green.svg?style=flat-square)](./LICENSE) [![tag:?](https://img.shields.io/github/tag/chaijs/check-error.svg?style=flat-square)](https://github.com/chaijs/check-error/releases) [![build:?](https://img.shields.io/travis/chaijs/check-error/master.svg?style=flat-square)](https://travis-ci.org/chaijs/check-error) [![coverage:?](https://img.shields.io/coveralls/chaijs/check-error/master.svg?style=flat-square)](https://coveralls.io/r/chaijs/check-error) [![npm:?](https://img.shields.io/npm/v/check-error.svg?style=flat-square)](https://www.npmjs.com/packages/check-error) [![dependencies:?](https://img.shields.io/npm/dm/check-error.svg?style=flat-square)](https://www.npmjs.com/packages/check-error) [![devDependencies:?](https://img.shields.io/david/chaijs/check-error.svg?style=flat-square)]()  
[![Selenium Test Status](https://saucelabs.com/browser-matrix/chaijs-check-error.svg)](https://saucelabs.com/u/chaijs-check-error)  
[![Join the Slack chat](https://img.shields.io/badge/slack-join%20chat-E2206F.svg?style=flat-square)](https://chai-slack.herokuapp.com/) [![Join the Gitter chat](https://img.shields.io/badge/gitter-join%20chat-D0104D.svg?style=flat-square)](https://gitter.im/chaijs/chai)

What is Check-Error?
--------------------

Check-Error is a module which you can use to retrieve an Error’s information such as its `message` or `constructor` name and also to check whether two Errors are compatible based on their messages, constructors or even instances.

Installation
------------

### Node.js

`check-error` is available on [npm](http://npmjs.org). To install it, type:

    $ npm install check-error

### Browsers

You can also use it within the browser; install via npm and use the `check-error.js` file found within the download. For example:

    <script src="./node_modules/check-error/check-error.js"></script>

Usage
-----

The primary export of `check-error` is an object which has the following methods:

-   `compatibleInstance(err, errorLike)` - Checks if an error is compatible with another `errorLike` object. If `errorLike` is an error instance we do a strict comparison, otherwise we return `false` by default, because instances of objects can only be compatible if they’re both error instances.
-   `compatibleConstructor(err, errorLike)` - Checks if an error’s constructor is compatible with another `errorLike` object. If `err` has the same constructor as `errorLike` or if `err` is an instance of `errorLike`.
-   `compatibleMessage(err, errMatcher)` - Checks if an error message is compatible with an `errMatcher` RegExp or String (we check if the message contains the String).
-   `getConstructorName(errorLike)` - Retrieves the name of a constructor, an error’s constructor or `errorLike` itself if it’s not an error instance or constructor.
-   `getMessage(err)` - Retrieves the message of an error or `err` itself if it’s a String. If `err` or `err.message` is undefined we return an empty String.

    var checkError = require('check-error');

#### .compatibleInstance(err, errorLike)

    var checkError = require('check-error');

    var funcThatThrows = function() { throw new TypeError('I am a TypeError') };
    var caughtErr;

    try {
      funcThatThrows();
    } catch(e) {
      caughtErr = e;
    }

    var sameInstance = caughtErr;

    checkError.compatibleInstance(caughtErr, sameInstance); // true
    checkError.compatibleInstance(caughtErr, new TypeError('Another error')); // false

#### .compatibleConstructor(err, errorLike)

    var checkError = require('check-error');

    var funcThatThrows = function() { throw new TypeError('I am a TypeError') };
    var caughtErr;

    try {
      funcThatThrows();
    } catch(e) {
      caughtErr = e;
    }

    checkError.compatibleConstructor(caughtErr, Error); // true
    checkError.compatibleConstructor(caughtErr, TypeError); // true
    checkError.compatibleConstructor(caughtErr, RangeError); // false

#### .compatibleMessage(err, errMatcher)

    var checkError = require('check-error');

    var funcThatThrows = function() { throw new TypeError('I am a TypeError') };
    var caughtErr;

    try {
      funcThatThrows();
    } catch(e) {
      caughtErr = e;
    }

    var sameInstance = caughtErr;

    checkError.compatibleMessage(caughtErr, /TypeError$/); // true
    checkError.compatibleMessage(caughtErr, 'I am a'); // true
    checkError.compatibleMessage(caughtErr, /unicorn/); // false
    checkError.compatibleMessage(caughtErr, 'I do not exist'); // false

#### .getConstructorName(errorLike)

    var checkError = require('check-error');

    var funcThatThrows = function() { throw new TypeError('I am a TypeError') };
    var caughtErr;

    try {
      funcThatThrows();
    } catch(e) {
      caughtErr = e;
    }

    var sameInstance = caughtErr;

    checkError.getConstructorName(caughtErr) // 'TypeError'

#### .getMessage(err)

    var checkError = require('check-error');

    var funcThatThrows = function() { throw new TypeError('I am a TypeError') };
    var caughtErr;

    try {
      funcThatThrows();
    } catch(e) {
      caughtErr = e;
    }

    var sameInstance = caughtErr;

    checkError.getMessage(caughtErr) // 'I am a TypeError'
