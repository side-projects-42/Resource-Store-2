<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>index</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<p align="center">
<img src="https://raw.github.com/inikulin/parse5/master/docs/logo.png" alt="parse5" />
</p>
<p align="center">
<a href="https://www.npmjs.com/package/parse5"><img alt="NPM Version" src="https://img.shields.io/npm/v/parse5.svg"></a>
</p>
<p align="center">
<i>WHATWG HTML5 specification-compliant, fast and ready for production HTML parsing/serialization toolset for Node.</i>
</p>
<p><b><i>parse5</i></b> contains nearly everything what you will need to deal with the HTML. It’s the fastest spec-compliant HTML parser for Node to the date and will parse HTML the way the latest version of your browser does. It’s stable and used by such projects as <a href="https://github.com/tmpvar/jsdom">jsdom</a>, <a href="https://github.com/angular/angular">Angular2</a>, <a href="https://www.polymer-project.org/1.0/">Polymer</a> and many more.</p>
<h1 id="table-of-contents">Table of contents</h1>
<ul>
<li><a href="#install">Install</a></li>
<li><a href="#usage">Usage</a></li>
<li><a href="#api-reference">API Reference</a></li>
<li><a href="#faq">FAQ</a></li>
<li><a href="#version-history">Version history</a></li>
<li><a href="#license-and-author-information">License</a></li>
</ul>
<h1 id="install">Install</h1>
<pre><code>$ npm install parse5</code></pre>
<h1 id="usage">Usage</h1>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">var</span> parse5 <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;parse5&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-2" title="2"></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="kw">var</span> document     <span class="op">=</span> <span class="va">parse5</span>.<span class="at">parse</span>(<span class="st">&#39;&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;body&gt;Hi there!&lt;/body&gt;&lt;/html&gt;&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="kw">var</span> documentHtml <span class="op">=</span> <span class="va">parse5</span>.<span class="at">serialize</span>(document)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-5" title="5"></a>
<a class="sourceLine" id="cb2-6" title="6"></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="kw">var</span> fragment     <span class="op">=</span> <span class="va">parse5</span>.<span class="at">parseFragment</span>(<span class="st">&#39;&lt;td&gt;Yo!&lt;/td&gt;&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="kw">var</span> fragmentHtml <span class="op">=</span> <span class="va">parse5</span>.<span class="at">serialize</span>(fragment)<span class="op">;</span></a></code></pre></div>
<p>For more advanced examples see <a href="#api-reference">API reference</a> and <a href="#faq">FAQ</a>.</p>
<h1 id="api-reference">API Reference</h1>
<h2 id="objects">Objects</h2>
<dl>
<dt>
<a href="#parse5">parse5</a> : <code>object</code>
</dt>
<dd>
</dd>
</dl>
<h2 id="typedefs">Typedefs</h2>
<dl>
<dt>
<a href="#ElementLocationInfo">ElementLocationInfo</a> : <code>Object</code>
</dt>
<dd>
</dd>
<dt>
<a href="#LocationInfo">LocationInfo</a> : <code>Object</code>
</dt>
<dd>
</dd>
<dt>
<a href="#ParserOptions">ParserOptions</a> : <code>Object</code>
</dt>
<dd>
</dd>
<dt>
<a href="#SAXParserOptions">SAXParserOptions</a> : <code>Object</code>
</dt>
<dd>
</dd>
<dt>
<a href="#SerializerOptions">SerializerOptions</a> : <code>Object</code>
</dt>
<dd>
</dd>
<dt>
<a href="#TreeAdapter">TreeAdapter</a> : <code>Object</code>
</dt>
<dd>
</dd>
</dl>
<p><a name="parse5"></a> ## parse5 : <code>object</code> <strong>Kind</strong>: global namespace</p>
<ul>
<li><a href="#parse5">parse5</a> : <code>object</code>
<ul>
<li><a href="#parse5+ParserStream">.ParserStream</a> ⇐ <code>stream.Writable</code>
<ul>
<li><a href="#new_parse5+ParserStream_new">new ParserStream(options)</a></li>
<li><a href="#parse5+ParserStream+document">.document</a> : <code>ASTNode.&lt;document&gt;</code></li>
<li><a href="#parse5+ParserStream+event_script">“script” (scriptElement, documentWrite(html), resume)</a></li>
</ul></li>
<li><a href="#parse5+SAXParser">.SAXParser</a> ⇐ <code>stream.Transform</code>
<ul>
<li><a href="#new_parse5+SAXParser_new">new SAXParser(options)</a></li>
<li><a href="#parse5+SAXParser+stop">.stop()</a></li>
<li><a href="#parse5+SAXParser+event_startTag">“startTag” (name, attributes, selfClosing, [location])</a></li>
<li><a href="#parse5+SAXParser+event_endTag">“endTag” (name, [location])</a></li>
<li><a href="#parse5+SAXParser+event_comment">“comment” (text, [location])</a></li>
<li><a href="#parse5+SAXParser+event_doctype">“doctype” (name, publicId, systemId, [location])</a></li>
<li><a href="#parse5+SAXParser+event_text">“text” (text, [location])</a></li>
</ul></li>
<li><a href="#parse5+SerializerStream">.SerializerStream</a> ⇐ <code>stream.Readable</code>
<ul>
<li><a href="#new_parse5+SerializerStream_new">new SerializerStream(node, [options])</a></li>
</ul></li>
<li><a href="#parse5+treeAdapters">.treeAdapters</a></li>
<li><a href="#parse5+parse">.parse(html, [options])</a> ⇒ <code>ASTNode.&lt;Document&gt;</code></li>
<li><a href="#parse5+parseFragment">.parseFragment([fragmentContext], html, [options])</a> ⇒ <code>ASTNode.&lt;DocumentFragment&gt;</code></li>
<li><a href="#parse5+serialize">.serialize(node, [options])</a> ⇒ <code>String</code></li>
</ul></li>
</ul>
<p><a name="parse5+ParserStream"></a> ### parse5.ParserStream ⇐ <code>stream.Writable</code> <strong>Kind</strong>: instance class of <code><a href="#parse5">parse5</a></code> <strong>Extends:</strong> <code>stream.Writable</code></p>
<ul>
<li><a href="#parse5+ParserStream">.ParserStream</a> ⇐ <code>stream.Writable</code>
<ul>
<li><a href="#new_parse5+ParserStream_new">new ParserStream(options)</a></li>
<li><a href="#parse5+ParserStream+document">.document</a> : <code>ASTNode.&lt;document&gt;</code></li>
<li><a href="#parse5+ParserStream+event_script">“script” (scriptElement, documentWrite(html), resume)</a></li>
</ul></li>
</ul>
<p><a name="new_parse5+ParserStream_new"></a> #### new ParserStream(options) Streaming HTML parser with the scripting support. <a href="https://nodejs.org/api/stream.html#stream_class_stream_writable">Writable stream</a>.</p>
<table>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>options</td>
<td><code><a href="#ParserOptions">ParserOptions</a></code></td>
<td>Parsing options.</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">var</span> parse5 <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;parse5&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw">var</span> http <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;http&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-3" title="3"></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="co">// Fetch google.com content and obtain it&#39;s &lt;body&gt; node</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="va">http</span>.<span class="at">get</span>(<span class="st">&#39;http://google.com&#39;</span><span class="op">,</span> <span class="kw">function</span>(res) <span class="op">{</span></a>
<a class="sourceLine" id="cb3-6" title="6"> <span class="kw">var</span> parser <span class="op">=</span> <span class="kw">new</span> <span class="va">parse5</span>.<span class="at">ParserStream</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb3-7" title="7"></a>
<a class="sourceLine" id="cb3-8" title="8"> <span class="va">parser</span>.<span class="at">on</span>(<span class="st">&#39;finish&#39;</span><span class="op">,</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb3-9" title="9">     <span class="kw">var</span> body <span class="op">=</span> <span class="va">parser</span>.<span class="va">document</span>.<span class="at">childNodes</span>[<span class="dv">0</span>].<span class="at">childNodes</span>[<span class="dv">1</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb3-10" title="10"> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-11" title="11"></a>
<a class="sourceLine" id="cb3-12" title="12"> <span class="va">res</span>.<span class="at">pipe</span>(parser)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-13" title="13"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p><a name="parse5+ParserStream+document"></a> #### parserStream.document : <code>ASTNode.&lt;document&gt;</code> Resulting document node.</p>
<p><strong>Kind</strong>: instance property of <code><a href="#parse5+ParserStream">ParserStream</a></code> <a name="parse5+ParserStream+event_script"></a> #### “script” (scriptElement, documentWrite(html), resume) Raised then parser encounters <code>&lt;script&gt;</code> element. If event has listeners then parsing will be suspended on event emission. So, if <code>&lt;script&gt;</code> has <code>src</code> attribute you can fetch it, execute and then resume parser like browsers do.</p>
<p><strong>Kind</strong>: event emitted by <code><a href="#parse5+ParserStream">ParserStream</a></code></p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>scriptElement</td>
<td><code>ASTNode</code></td>
<td>Script element that caused the event.</td>
</tr>
<tr class="even">
<td>documentWrite(html)</td>
<td><code>function</code></td>
<td>Write additional <code>html</code> at the current parsing position. Suitable for the DOM <code>document.write</code> and <code>document.writeln</code> methods implementation.</td>
</tr>
<tr class="odd">
<td>resume</td>
<td><code>function</code></td>
<td>Resumes the parser.</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">var</span> parse <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;parse5&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">var</span> http <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;http&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-3" title="3"></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="kw">var</span> parser <span class="op">=</span> <span class="kw">new</span> <span class="va">parse5</span>.<span class="at">ParserStream</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb4-5" title="5"></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="va">parser</span>.<span class="at">on</span>(<span class="st">&#39;script&#39;</span><span class="op">,</span> <span class="kw">function</span>(scriptElement<span class="op">,</span> documentWrite<span class="op">,</span> resume) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-7" title="7">  <span class="kw">var</span> src <span class="op">=</span> <span class="va">parse5</span>.<span class="va">treeAdapters</span>.<span class="va">default</span>.<span class="at">getAttrList</span>(scriptElement)[<span class="dv">0</span>].<span class="at">value</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-8" title="8"></a>
<a class="sourceLine" id="cb4-9" title="9">  <span class="va">http</span>.<span class="at">get</span>(src<span class="op">,</span> <span class="kw">function</span>(res) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-10" title="10">     <span class="co">// Fetch script content, execute it with DOM built around `parser.document` and</span></a>
<a class="sourceLine" id="cb4-11" title="11">     <span class="co">// `document.write` implemented using `documentWrite`</span></a>
<a class="sourceLine" id="cb4-12" title="12">     ...</a>
<a class="sourceLine" id="cb4-13" title="13">     <span class="co">// Then resume the parser</span></a>
<a class="sourceLine" id="cb4-14" title="14">     <span class="at">resume</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb4-15" title="15">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-16" title="16"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-17" title="17"></a>
<a class="sourceLine" id="cb4-18" title="18"><span class="va">parser</span>.<span class="at">end</span>(<span class="st">&#39;&lt;script src=&quot;example.com/script.js&quot;&gt;&lt;/script&gt;&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p><a name="parse5+SAXParser"></a> ### parse5.SAXParser ⇐ <code>stream.Transform</code> <strong>Kind</strong>: instance class of <code><a href="#parse5">parse5</a></code> <strong>Extends:</strong> <code>stream.Transform</code></p>
<ul>
<li><a href="#parse5+SAXParser">.SAXParser</a> ⇐ <code>stream.Transform</code>
<ul>
<li><a href="#new_parse5+SAXParser_new">new SAXParser(options)</a></li>
<li><a href="#parse5+SAXParser+stop">.stop()</a></li>
<li><a href="#parse5+SAXParser+event_startTag">“startTag” (name, attributes, selfClosing, [location])</a></li>
<li><a href="#parse5+SAXParser+event_endTag">“endTag” (name, [location])</a></li>
<li><a href="#parse5+SAXParser+event_comment">“comment” (text, [location])</a></li>
<li><a href="#parse5+SAXParser+event_doctype">“doctype” (name, publicId, systemId, [location])</a></li>
<li><a href="#parse5+SAXParser+event_text">“text” (text, [location])</a></li>
</ul></li>
</ul>
<p><a name="new_parse5+SAXParser_new"></a> #### new SAXParser(options) Streaming <a href="https://en.wikipedia.org/wiki/Simple_API_for_XML">SAX</a>-style HTML parser. <a href="https://nodejs.org/api/stream.html#stream_class_stream_transform">Transform stream</a> (which means you can pipe <em>through</em> it, see example).</p>
<table>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>options</td>
<td><code><a href="#SAXParserOptions">SAXParserOptions</a></code></td>
<td>Parsing options.</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">var</span> parse5 <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;parse5&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw">var</span> http <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;http&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="kw">var</span> fs <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;fs&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-4" title="4"></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="kw">var</span> file <span class="op">=</span> <span class="va">fs</span>.<span class="at">createWriteStream</span>(<span class="st">&#39;/home/google.com.html&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-6" title="6"><span class="kw">var</span> parser <span class="op">=</span> <span class="kw">new</span> <span class="at">SAXParser</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb5-7" title="7"></a>
<a class="sourceLine" id="cb5-8" title="8"><span class="va">parser</span>.<span class="at">on</span>(<span class="st">&#39;text&#39;</span><span class="op">,</span> <span class="kw">function</span>(text) <span class="op">{</span></a>
<a class="sourceLine" id="cb5-9" title="9"> <span class="co">// Handle page text content</span></a>
<a class="sourceLine" id="cb5-10" title="10"> ...</a>
<a class="sourceLine" id="cb5-11" title="11"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-12" title="12"></a>
<a class="sourceLine" id="cb5-13" title="13"><span class="va">http</span>.<span class="at">get</span>(<span class="st">&#39;http://google.com&#39;</span><span class="op">,</span> <span class="kw">function</span>(res) <span class="op">{</span></a>
<a class="sourceLine" id="cb5-14" title="14"> <span class="co">// SAXParser is the Transform stream, which means you can pipe</span></a>
<a class="sourceLine" id="cb5-15" title="15"> <span class="co">// through it. So you can analyze page content and e.g. save it</span></a>
<a class="sourceLine" id="cb5-16" title="16"> <span class="co">// to the file at the same time:</span></a>
<a class="sourceLine" id="cb5-17" title="17"> <span class="va">res</span>.<span class="at">pipe</span>(parser).<span class="at">pipe</span>(file)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-18" title="18"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p><a name="parse5+SAXParser+stop"></a> #### saxParser.stop() Stops parsing. Useful if you want parser to stop consume CPU time once you’ve obtained desired info from input stream. Doesn’t prevents piping, so data will flow through parser as usual.</p>
<p><strong>Kind</strong>: instance method of <code><a href="#parse5+SAXParser">SAXParser</a></code> <strong>Example</strong></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">var</span> parse5 <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;parse5&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="kw">var</span> http <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;http&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="kw">var</span> fs <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;fs&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-4" title="4"></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="kw">var</span> file <span class="op">=</span> <span class="va">fs</span>.<span class="at">createWriteStream</span>(<span class="st">&#39;/home/google.com.html&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-6" title="6"><span class="kw">var</span> parser <span class="op">=</span> <span class="kw">new</span> <span class="va">parse5</span>.<span class="at">SAXParser</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb6-7" title="7"></a>
<a class="sourceLine" id="cb6-8" title="8"><span class="va">parser</span>.<span class="at">on</span>(<span class="st">&#39;doctype&#39;</span><span class="op">,</span> <span class="kw">function</span>(name<span class="op">,</span> publicId<span class="op">,</span> systemId) <span class="op">{</span></a>
<a class="sourceLine" id="cb6-9" title="9"> <span class="co">// Process doctype info ans stop parsing</span></a>
<a class="sourceLine" id="cb6-10" title="10"> ...</a>
<a class="sourceLine" id="cb6-11" title="11"> <span class="va">parser</span>.<span class="at">stop</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb6-12" title="12"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-13" title="13"></a>
<a class="sourceLine" id="cb6-14" title="14"><span class="va">http</span>.<span class="at">get</span>(<span class="st">&#39;http://google.com&#39;</span><span class="op">,</span> <span class="kw">function</span>(res) <span class="op">{</span></a>
<a class="sourceLine" id="cb6-15" title="15"> <span class="co">// Despite the fact that parser.stop() was called whole</span></a>
<a class="sourceLine" id="cb6-16" title="16"> <span class="co">// content of the page will be written to the file</span></a>
<a class="sourceLine" id="cb6-17" title="17"> <span class="va">res</span>.<span class="at">pipe</span>(parser).<span class="at">pipe</span>(file)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-18" title="18"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p><a name="parse5+SAXParser+event_startTag"></a> #### “startTag” (name, attributes, selfClosing, [location]) Raised then parser encounters start tag.</p>
<p><strong>Kind</strong>: event emitted by <code><a href="#parse5+SAXParser">SAXParser</a></code></p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>name</td>
<td><code>String</code></td>
<td>Tag name.</td>
</tr>
<tr class="even">
<td>attributes</td>
<td><code>String</code></td>
<td>List of attributes in <code>{ key: String, value: String }</code> form.</td>
</tr>
<tr class="odd">
<td>selfClosing</td>
<td><code>Boolean</code></td>
<td>Indicates if tag is self-closing.</td>
</tr>
<tr class="even">
<td>[location]</td>
<td><code><a href="#LocationInfo">LocationInfo</a></code></td>
<td>Start tag source code location info. Available if location info is enabled in <a href="#SAXParserOptions">SAXParserOptions</a>.</td>
</tr>
</tbody>
</table>
<p><a name="parse5+SAXParser+event_endTag"></a> #### “endTag” (name, [location]) Raised then parser encounters end tag.</p>
<p><strong>Kind</strong>: event emitted by <code><a href="#parse5+SAXParser">SAXParser</a></code></p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>name</td>
<td><code>String</code></td>
<td>Tag name.</td>
</tr>
<tr class="even">
<td>[location]</td>
<td><code><a href="#LocationInfo">LocationInfo</a></code></td>
<td>End tag source code location info. Available if location info is enabled in <a href="#SAXParserOptions">SAXParserOptions</a>.</td>
</tr>
</tbody>
</table>
<p><a name="parse5+SAXParser+event_comment"></a> #### “comment” (text, [location]) Raised then parser encounters comment.</p>
<p><strong>Kind</strong>: event emitted by <code><a href="#parse5+SAXParser">SAXParser</a></code></p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>text</td>
<td><code>String</code></td>
<td>Comment text.</td>
</tr>
<tr class="even">
<td>[location]</td>
<td><code><a href="#LocationInfo">LocationInfo</a></code></td>
<td>Comment source code location info. Available if location info is enabled in <a href="#SAXParserOptions">SAXParserOptions</a>.</td>
</tr>
</tbody>
</table>
<p><a name="parse5+SAXParser+event_doctype"></a> #### “doctype” (name, publicId, systemId, [location]) Raised then parser encounters <a href="https://en.wikipedia.org/wiki/Document_type_declaration">document type declaration</a>.</p>
<p><strong>Kind</strong>: event emitted by <code><a href="#parse5+SAXParser">SAXParser</a></code></p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>name</td>
<td><code>String</code></td>
<td>Document type name.</td>
</tr>
<tr class="even">
<td>publicId</td>
<td><code>String</code></td>
<td>Document type public identifier.</td>
</tr>
<tr class="odd">
<td>systemId</td>
<td><code>String</code></td>
<td>Document type system identifier.</td>
</tr>
<tr class="even">
<td>[location]</td>
<td><code><a href="#LocationInfo">LocationInfo</a></code></td>
<td>Document type declaration source code location info. Available if location info is enabled in <a href="#SAXParserOptions">SAXParserOptions</a>.</td>
</tr>
</tbody>
</table>
<p><a name="parse5+SAXParser+event_text"></a> #### “text” (text, [location]) Raised then parser encounters text content.</p>
<p><strong>Kind</strong>: event emitted by <code><a href="#parse5+SAXParser">SAXParser</a></code></p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>text</td>
<td><code>String</code></td>
<td>Text content.</td>
</tr>
<tr class="even">
<td>[location]</td>
<td><code><a href="#LocationInfo">LocationInfo</a></code></td>
<td>Text content code location info. Available if location info is enabled in <a href="#SAXParserOptions">SAXParserOptions</a>.</td>
</tr>
</tbody>
</table>
<p><a name="parse5+SerializerStream"></a> ### parse5.SerializerStream ⇐ <code>stream.Readable</code> <strong>Kind</strong>: instance class of <code><a href="#parse5">parse5</a></code> <strong>Extends:</strong> <code>stream.Readable</code> <a name="new_parse5+SerializerStream_new"></a> #### new SerializerStream(node, [options]) Streaming AST node to HTML serializer. <a href="https://nodejs.org/api/stream.html#stream_class_stream_readable">Readable stream</a>.</p>
<table>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>node</td>
<td><code>ASTNode</code></td>
<td>Node to serialize.</td>
</tr>
<tr class="even">
<td>[options]</td>
<td><code><a href="#SerializerOptions">SerializerOptions</a></code></td>
<td>Serialization options.</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">var</span> parse5 <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;parse5&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="kw">var</span> fs <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;fs&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb7-3" title="3"></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="kw">var</span> file <span class="op">=</span> <span class="va">fs</span>.<span class="at">createWriteStream</span>(<span class="st">&#39;/home/index.html&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb7-5" title="5"></a>
<a class="sourceLine" id="cb7-6" title="6"><span class="co">// Serialize parsed document to the HTML and write it to file</span></a>
<a class="sourceLine" id="cb7-7" title="7"><span class="kw">var</span> document <span class="op">=</span> <span class="va">parse5</span>.<span class="at">parse</span>(<span class="st">&#39;&lt;body&gt;Who is John Galt?&lt;/body&gt;&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb7-8" title="8"><span class="kw">var</span> serializer <span class="op">=</span> <span class="kw">new</span> <span class="va">parse5</span>.<span class="at">SerializerStream</span>(document)<span class="op">;</span></a>
<a class="sourceLine" id="cb7-9" title="9"></a>
<a class="sourceLine" id="cb7-10" title="10"><span class="va">serializer</span>.<span class="at">pipe</span>(file)<span class="op">;</span></a></code></pre></div>
<p><a name="parse5+treeAdapters"></a> ### parse5.treeAdapters Provides built-in tree adapters which can be used for parsing and serialization.</p>
<p><strong>Kind</strong>: instance property of <code><a href="#parse5">parse5</a></code> <strong>Properties</strong></p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>default</td>
<td><code><a href="#TreeAdapter">TreeAdapter</a></code></td>
<td>Default tree format for parse5.</td>
</tr>
<tr class="even">
<td>htmlparser2</td>
<td><code><a href="#TreeAdapter">TreeAdapter</a></code></td>
<td>Quite popular <a href="https://github.com/fb55/htmlparser2">htmlparser2</a> tree format (e.g. used by <a href="https://github.com/MatthewMueller/cheerio">cheerio</a> and <a href="https://github.com/tmpvar/jsdom">jsdom</a>).</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1"><span class="kw">var</span> parse5 <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;parse5&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-2" title="2"></a>
<a class="sourceLine" id="cb8-3" title="3"><span class="co">// Use default tree adapter for parsing</span></a>
<a class="sourceLine" id="cb8-4" title="4"><span class="kw">var</span> document <span class="op">=</span> <span class="va">parse5</span>.<span class="at">parse</span>(<span class="st">&#39;&lt;div&gt;&lt;/div&gt;&#39;</span><span class="op">,</span> <span class="op">{</span> <span class="dt">treeAdapter</span><span class="op">:</span> <span class="va">parse5</span>.<span class="va">treeAdapters</span>.<span class="at">default</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-5" title="5"></a>
<a class="sourceLine" id="cb8-6" title="6"><span class="co">// Use htmlparser2 tree adapter with SerializerStream</span></a>
<a class="sourceLine" id="cb8-7" title="7"><span class="kw">var</span> serializer <span class="op">=</span> <span class="kw">new</span> <span class="va">parse5</span>.<span class="at">SerializerStream</span>(node<span class="op">,</span> <span class="op">{</span> <span class="dt">treeAdapter</span><span class="op">:</span> <span class="va">parse5</span>.<span class="va">treeAdapters</span>.<span class="at">htmlparser2</span> <span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p><a name="parse5+parse"></a> ### parse5.parse(html, [options]) ⇒ <code>ASTNode.&lt;Document&gt;</code> Parses HTML string.</p>
<p><strong>Kind</strong>: instance method of <code><a href="#parse5">parse5</a></code> <strong>Returns</strong>: <code>ASTNode.&lt;Document&gt;</code> - document</p>
<table>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>html</td>
<td><code>string</code></td>
<td>Input HTML string.</td>
</tr>
<tr class="even">
<td>[options]</td>
<td><code><a href="#ParserOptions">ParserOptions</a></code></td>
<td>Parsing options.</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">var</span> parse5 <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;parse5&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb9-2" title="2"></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="kw">var</span> document <span class="op">=</span> <span class="va">parse5</span>.<span class="at">parse</span>(<span class="st">&#39;&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;Hi there!&lt;/body&gt;&lt;/html&gt;&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p><a name="parse5+parseFragment"></a> ### parse5.parseFragment([fragmentContext], html, [options]) ⇒ <code>ASTNode.&lt;DocumentFragment&gt;</code> Parses HTML fragment.</p>
<p><strong>Kind</strong>: instance method of <code><a href="#parse5">parse5</a></code> <strong>Returns</strong>: <code>ASTNode.&lt;DocumentFragment&gt;</code> - documentFragment</p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>[fragmentContext]</td>
<td><code>ASTNode</code></td>
<td>Parsing context element. If specified, given fragment will be parsed as if it was set to the context element’s <code>innerHTML</code> property.</td>
</tr>
<tr class="even">
<td>html</td>
<td><code>string</code></td>
<td>Input HTML fragment string.</td>
</tr>
<tr class="odd">
<td>[options]</td>
<td><code><a href="#ParserOptions">ParserOptions</a></code></td>
<td>Parsing options.</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">var</span> parse5 <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;parse5&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb10-2" title="2"></a>
<a class="sourceLine" id="cb10-3" title="3"><span class="kw">var</span> documentFragment <span class="op">=</span> <span class="va">parse5</span>.<span class="at">parseFragment</span>(<span class="st">&#39;&lt;table&gt;&lt;/table&gt;&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb10-4" title="4"></a>
<a class="sourceLine" id="cb10-5" title="5"><span class="co">//Parse html fragment in context of the parsed &lt;table&gt; element</span></a>
<a class="sourceLine" id="cb10-6" title="6"><span class="kw">var</span> trFragment <span class="op">=</span> <span class="va">parser</span>.<span class="at">parseFragment</span>(<span class="va">documentFragment</span>.<span class="at">childNodes</span>[<span class="dv">0</span>]<span class="op">,</span> <span class="st">&#39;&lt;tr&gt;&lt;td&gt;Shake it, baby&lt;/td&gt;&lt;/tr&gt;&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p><a name="parse5+serialize"></a> ### parse5.serialize(node, [options]) ⇒ <code>String</code> Serializes AST node to HTML string.</p>
<p><strong>Kind</strong>: instance method of <code><a href="#parse5">parse5</a></code> <strong>Returns</strong>: <code>String</code> - html</p>
<table>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>node</td>
<td><code>ASTNode</code></td>
<td>Node to serialize.</td>
</tr>
<tr class="even">
<td>[options]</td>
<td><code><a href="#SerializerOptions">SerializerOptions</a></code></td>
<td>Serialization options.</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">var</span> parse5 <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;parse5&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-2" title="2"></a>
<a class="sourceLine" id="cb11-3" title="3"><span class="kw">var</span> document <span class="op">=</span> <span class="va">parse5</span>.<span class="at">parse</span>(<span class="st">&#39;&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;Hi there!&lt;/body&gt;&lt;/html&gt;&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-4" title="4"></a>
<a class="sourceLine" id="cb11-5" title="5"><span class="co">//Serialize document</span></a>
<a class="sourceLine" id="cb11-6" title="6"><span class="kw">var</span> html <span class="op">=</span> <span class="va">parse5</span>.<span class="at">serialize</span>(document)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-7" title="7"></a>
<a class="sourceLine" id="cb11-8" title="8"><span class="co">//Serialize &lt;body&gt; element content</span></a>
<a class="sourceLine" id="cb11-9" title="9"><span class="kw">var</span> bodyInnerHtml <span class="op">=</span> <span class="va">parse5</span>.<span class="at">serialize</span>(<span class="va">document</span>.<span class="at">childNodes</span>[<span class="dv">0</span>].<span class="at">childNodes</span>[<span class="dv">1</span>])<span class="op">;</span></a></code></pre></div>
<p><a name="ElementLocationInfo"></a> ## ElementLocationInfo : <code>Object</code> <strong>Kind</strong>: global typedef <strong>Extends:</strong> <code><a href="#LocationInfo">LocationInfo</a></code> <strong>Properties</strong></p>
<table>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>startTag</td>
<td><code><a href="#LocationInfo">LocationInfo</a></code></td>
<td>Element’s start tag <a href="#LocationInfo">LocationInfo</a>.</td>
</tr>
<tr class="even">
<td>endTag</td>
<td><code><a href="#LocationInfo">LocationInfo</a></code></td>
<td>Element’s end tag <a href="#LocationInfo">LocationInfo</a>.</td>
</tr>
</tbody>
</table>
<p><a name="LocationInfo"></a> ## LocationInfo : <code>Object</code> <strong>Kind</strong>: global typedef <strong>Properties</strong></p>
<table>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>line</td>
<td><code>Number</code></td>
<td>One-based line index</td>
</tr>
<tr class="even">
<td>col</td>
<td><code>Number</code></td>
<td>One-based column index</td>
</tr>
<tr class="odd">
<td>startOffset</td>
<td><code>Number</code></td>
<td>Zero-based first character index</td>
</tr>
<tr class="even">
<td>endOffset</td>
<td><code>Number</code></td>
<td>Zero-based last character index</td>
</tr>
</tbody>
</table>
<p><a name="ParserOptions"></a> ## ParserOptions : <code>Object</code> <strong>Kind</strong>: global typedef <strong>Properties</strong></p>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>locationInfo</td>
<td><code>Boolean</code></td>
<td><code>false</code></td>
<td>Enables source code location information for the nodes. When enabled, each node (except root node) has <code>__location</code> property. In case the node is not an empty element, <code>__location</code> will be <a href="#ElementLocationInfo">ElementLocationInfo</a> object, otherwise it’s <a href="#LocationInfo">LocationInfo</a>. If element was implicitly created by the parser it’s <code>__location</code> property will be <code>null</code>.</td>
</tr>
<tr class="even">
<td>treeAdapter</td>
<td><code><a href="#TreeAdapter">TreeAdapter</a></code></td>
<td><code>parse5.treeAdapters.default</code></td>
<td>Specifies resulting tree format.</td>
</tr>
</tbody>
</table>
<p><a name="SAXParserOptions"></a> ## SAXParserOptions : <code>Object</code> <strong>Kind</strong>: global typedef <strong>Properties</strong></p>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>locationInfo</td>
<td><code>Boolean</code></td>
<td><code>false</code></td>
<td>Enables source code location information for the tokens. When enabled, each token event handler will receive <a href="#LocationInfo">LocationInfo</a> object as the last argument.</td>
</tr>
</tbody>
</table>
<p><a name="SerializerOptions"></a> ## SerializerOptions : <code>Object</code> <strong>Kind</strong>: global typedef <strong>Properties</strong></p>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>treeAdapter</td>
<td><code><a href="#TreeAdapter">TreeAdapter</a></code></td>
<td><code>parse5.treeAdapters.default</code></td>
<td>Specifies input tree format.</td>
</tr>
</tbody>
</table>
<p><a name="TreeAdapter"></a> ## TreeAdapter : <code>Object</code> <strong>Kind</strong>: global typedef</p>
<ul>
<li><a href="#TreeAdapter">TreeAdapter</a> : <code>Object</code>
<ul>
<li><a href="#TreeAdapter.createDocument">.createDocument()</a> ⇒ <code>ASTNode.&lt;Document&gt;</code></li>
<li><a href="#TreeAdapter.createDocumentFragment">.createDocumentFragment()</a> ⇒ <code>ASTNode.&lt;DocumentFragment&gt;</code></li>
<li><a href="#TreeAdapter.createElement">.createElement(tagName, namespaceURI, attrs)</a> ⇒ <code>ASTNode.&lt;Element&gt;</code></li>
<li><a href="#TreeAdapter.createElement">.createElement(data)</a> ⇒ <code>ASTNode.&lt;CommentNode&gt;</code></li>
<li><a href="#TreeAdapter.setDocumentType">.setDocumentType(document, name, publicId, systemId)</a></li>
<li><a href="#TreeAdapter.setQuirksMode">.setQuirksMode(document)</a></li>
<li><a href="#TreeAdapter.setQuirksMode">.setQuirksMode(document)</a> ⇒ <code>Boolean</code></li>
<li><a href="#TreeAdapter.detachNode">.detachNode(node)</a></li>
<li><a href="#TreeAdapter.insertText">.insertText(parentNode, text)</a></li>
<li><a href="#TreeAdapter.insertTextBefore">.insertTextBefore(parentNode, text, referenceNode)</a></li>
<li><a href="#TreeAdapter.adoptAttributes">.adoptAttributes(recipientNode, attrs)</a></li>
<li><a href="#TreeAdapter.getFirstChild">.getFirstChild(node)</a> ⇒ <code>ASTNode</code></li>
<li><a href="#TreeAdapter.getChildNodes">.getChildNodes(node)</a> ⇒ <code>Array</code></li>
<li><a href="#TreeAdapter.getParentNode">.getParentNode(node)</a> ⇒ <code>ASTNode</code></li>
<li><a href="#TreeAdapter.getAttrList">.getAttrList(node)</a> ⇒ <code>Array</code></li>
<li><a href="#TreeAdapter.getTagName">.getTagName(element)</a> ⇒ <code>String</code></li>
<li><a href="#TreeAdapter.getNamespaceURI">.getNamespaceURI(element)</a> ⇒ <code>String</code></li>
<li><a href="#TreeAdapter.getTextNodeContent">.getTextNodeContent(textNode)</a> ⇒ <code>String</code></li>
<li><a href="#TreeAdapter.getTextNodeContent">.getTextNodeContent(commentNode)</a> ⇒ <code>String</code></li>
<li><a href="#TreeAdapter.getDocumentTypeNodeName">.getDocumentTypeNodeName(doctypeNode)</a> ⇒ <code>String</code></li>
<li><a href="#TreeAdapter.getDocumentTypeNodePublicId">.getDocumentTypeNodePublicId(doctypeNode)</a> ⇒ <code>String</code></li>
<li><a href="#TreeAdapter.getDocumentTypeNodeSystemId">.getDocumentTypeNodeSystemId(doctypeNode)</a> ⇒ <code>String</code></li>
<li><a href="#TreeAdapter.isTextNode">.isTextNode(node)</a> ⇒ <code>Boolean</code></li>
<li><a href="#TreeAdapter.isCommentNode">.isCommentNode(node)</a> ⇒ <code>Boolean</code></li>
<li><a href="#TreeAdapter.isDocumentTypeNode">.isDocumentTypeNode(node)</a> ⇒ <code>Boolean</code></li>
<li><a href="#TreeAdapter.isElementNode">.isElementNode(node)</a> ⇒ <code>Boolean</code></li>
</ul></li>
</ul>
<p><a name="TreeAdapter.createDocument"></a> ### TreeAdapter.createDocument() ⇒ <code>ASTNode.&lt;Document&gt;</code> Creates document node</p>
<p><strong>Kind</strong>: static method of <code><a href="#TreeAdapter">TreeAdapter</a></code> <strong>Returns</strong>: <code>ASTNode.&lt;Document&gt;</code> - document <strong>See</strong>: <a href="https://github.com/inikulin/parse5/blob/tree-adapter-docs-rev/lib/tree_adapters/default.js#L19">default implementation.</a> <a name="TreeAdapter.createDocumentFragment"></a> ### TreeAdapter.createDocumentFragment() ⇒ <code>ASTNode.&lt;DocumentFragment&gt;</code> Creates document fragment node</p>
<p><strong>Kind</strong>: static method of <code><a href="#TreeAdapter">TreeAdapter</a></code> <strong>Returns</strong>: <code>ASTNode.&lt;DocumentFragment&gt;</code> - fragment <strong>See</strong>: <a href="https://github.com/inikulin/parse5/blob/tree-adapter-docs-rev/lib/tree_adapters/default.js#L37">default implementation.</a> <a name="TreeAdapter.createElement"></a> ### TreeAdapter.createElement(tagName, namespaceURI, attrs) ⇒ <code>ASTNode.&lt;Element&gt;</code> Creates element node</p>
<p><strong>Kind</strong>: static method of <code><a href="#TreeAdapter">TreeAdapter</a></code> <strong>Returns</strong>: <code>ASTNode.&lt;Element&gt;</code> - element <strong>See</strong>: <a href="https://github.com/inikulin/parse5/blob/tree-adapter-docs-rev/lib/tree_adapters/default.js#L61">default implementation.</a></p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>tagName</td>
<td><code>String</code></td>
<td>Tag name of the element.</td>
</tr>
<tr class="even">
<td>namespaceURI</td>
<td><code>String</code></td>
<td>Namespace of the element.</td>
</tr>
<tr class="odd">
<td>attrs</td>
<td><code>Array</code></td>
<td>Attribute name-value pair array. Foreign attributes may contain <code>namespace</code> and <code>prefix</code> fields as well.</td>
</tr>
</tbody>
</table>
<p><a name="TreeAdapter.createElement"></a> ### TreeAdapter.createElement(data) ⇒ <code>ASTNode.&lt;CommentNode&gt;</code> Creates comment node</p>
<p><strong>Kind</strong>: static method of <code><a href="#TreeAdapter">TreeAdapter</a></code> <strong>Returns</strong>: <code>ASTNode.&lt;CommentNode&gt;</code> - comment <strong>See</strong>: <a href="https://github.com/inikulin/parse5/blob/tree-adapter-docs-rev/lib/tree_adapters/default.js#L85">default implementation.</a></p>
<table>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>data</td>
<td><code>String</code></td>
<td>Comment text.</td>
</tr>
</tbody>
</table>
<p><a name="TreeAdapter.setDocumentType"></a> ### TreeAdapter.setDocumentType(document, name, publicId, systemId) Sets document type. If <code>document</code> already have document type node in it then <code>name</code>, <code>publicId</code> and <code>systemId</code> properties of the node will be updated with the provided values. Otherwise, creates new document type node with the given properties and inserts it into <code>document</code>.</p>
<p><strong>Kind</strong>: static method of <code><a href="#TreeAdapter">TreeAdapter</a></code> <strong>See</strong>: <a href="https://github.com/inikulin/parse5/blob/tree-adapter-docs-rev/lib/tree_adapters/default.js#L131">default implementation.</a></p>
<table>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>document</td>
<td><code>ASTNode.&lt;Document&gt;</code></td>
<td>Document node.</td>
</tr>
<tr class="even">
<td>name</td>
<td><code>String</code></td>
<td>Document type name.</td>
</tr>
<tr class="odd">
<td>publicId</td>
<td><code>String</code></td>
<td>Document type public identifier.</td>
</tr>
<tr class="even">
<td>systemId</td>
<td><code>String</code></td>
<td>Document type system identifier.</td>
</tr>
</tbody>
</table>
<p><a name="TreeAdapter.setQuirksMode"></a> ### TreeAdapter.setQuirksMode(document) Sets document quirks mode flag.</p>
<p><strong>Kind</strong>: static method of <code><a href="#TreeAdapter">TreeAdapter</a></code> <strong>See</strong>: <a href="https://github.com/inikulin/parse5/blob/tree-adapter-docs-rev/lib/tree_adapters/default.js#L167">default implementation.</a></p>
<table>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>document</td>
<td><code>ASTNode.&lt;Document&gt;</code></td>
<td>Document node.</td>
</tr>
</tbody>
</table>
<p><a name="TreeAdapter.setQuirksMode"></a> ### TreeAdapter.setQuirksMode(document) ⇒ <code>Boolean</code> Determines if document quirks mode flag is set.</p>
<p><strong>Kind</strong>: static method of <code><a href="#TreeAdapter">TreeAdapter</a></code> <strong>See</strong>: <a href="https://github.com/inikulin/parse5/blob/tree-adapter-docs-rev/lib/tree_adapters/default.js#L183">default implementation.</a></p>
<table>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>document</td>
<td><code>ASTNode.&lt;Document&gt;</code></td>
<td>Document node.</td>
</tr>
</tbody>
</table>
<p><a name="TreeAdapter.detachNode"></a> ### TreeAdapter.detachNode(node) Removes node from it’s parent.</p>
<p><strong>Kind</strong>: static method of <code><a href="#TreeAdapter">TreeAdapter</a></code> <strong>See</strong>: <a href="https://github.com/inikulin/parse5/blob/tree-adapter-docs-rev/lib/tree_adapters/default.js#L197">default implementation.</a></p>
<table>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>node</td>
<td><code>ASTNode</code></td>
<td>Node.</td>
</tr>
</tbody>
</table>
<p><a name="TreeAdapter.insertText"></a> ### TreeAdapter.insertText(parentNode, text) Inserts text into node. If the last child of the node is the text node then provided text will be appended to the text node content. Otherwise, inserts new text node with the given text.</p>
<p><strong>Kind</strong>: static method of <code><a href="#TreeAdapter">TreeAdapter</a></code> <strong>See</strong>: <a href="https://github.com/inikulin/parse5/blob/tree-adapter-docs-rev/lib/tree_adapters/default.js#L220">default implementation.</a></p>
<table>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>parentNode</td>
<td><code>ASTNode</code></td>
<td>Node to insert text into.</td>
</tr>
<tr class="even">
<td>text</td>
<td><code>String</code></td>
<td>Text to insert.</td>
</tr>
</tbody>
</table>
<p><a name="TreeAdapter.insertTextBefore"></a> ### TreeAdapter.insertTextBefore(parentNode, text, referenceNode) Inserts text into node before the referenced child node. If node before the referenced child node is the text node then provided text will be appended to the text node content. Otherwise, inserts new text node with the given text before the referenced child node.</p>
<p><strong>Kind</strong>: static method of <code><a href="#TreeAdapter">TreeAdapter</a></code> <strong>See</strong>: <a href="https://github.com/inikulin/parse5/blob/tree-adapter-docs-rev/lib/tree_adapters/default.js#L249">default implementation.</a></p>
<table>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>parentNode</td>
<td><code>ASTNode</code></td>
<td>Node to insert text into.</td>
</tr>
<tr class="even">
<td>text</td>
<td><code>String</code></td>
<td>Text to insert.</td>
</tr>
<tr class="odd">
<td>referenceNode</td>
<td><code>ASTNode</code></td>
<td>Node to insert text before.</td>
</tr>
</tbody>
</table>
<p><a name="TreeAdapter.adoptAttributes"></a> ### TreeAdapter.adoptAttributes(recipientNode, attrs) Copies attributes to the given node. Only those nodes which are not yet present in the node are copied.</p>
<p><strong>Kind</strong>: static method of <code><a href="#TreeAdapter">TreeAdapter</a></code> <strong>See</strong>: <a href="https://github.com/inikulin/parse5/blob/tree-adapter-docs-rev/lib/tree_adapters/default.js#L270">default implementation.</a></p>
<table>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>recipientNode</td>
<td><code>ASTNode</code></td>
<td>Node to copy attributes into.</td>
</tr>
<tr class="even">
<td>attrs</td>
<td><code>Array</code></td>
<td>Attributes to copy.</td>
</tr>
</tbody>
</table>
<p><a name="TreeAdapter.getFirstChild"></a> ### TreeAdapter.getFirstChild(node) ⇒ <code>ASTNode</code> Returns first child of the given node.</p>
<p><strong>Kind</strong>: static method of <code><a href="#TreeAdapter">TreeAdapter</a></code> <strong>Returns</strong>: <code>ASTNode</code> - firstChild <strong>See</strong>: <a href="https://github.com/inikulin/parse5/blob/tree-adapter-docs-rev/lib/tree_adapters/default.js#L297">default implementation.</a></p>
<table>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>node</td>
<td><code>ASTNode</code></td>
<td>Node.</td>
</tr>
</tbody>
</table>
<p><a name="TreeAdapter.getChildNodes"></a> ### TreeAdapter.getChildNodes(node) ⇒ <code>Array</code> Returns array of the given node’s children.</p>
<p><strong>Kind</strong>: static method of <code><a href="#TreeAdapter">TreeAdapter</a></code> <strong>Returns</strong>: <code>Array</code> - children <strong>See</strong>: <a href="https://github.com/inikulin/parse5/blob/tree-adapter-docs-rev/lib/tree_adapters/default.js#L313">default implementation.</a></p>
<table>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>node</td>
<td><code>ASTNode</code></td>
<td>Node.</td>
</tr>
</tbody>
</table>
<p><a name="TreeAdapter.getParentNode"></a> ### TreeAdapter.getParentNode(node) ⇒ <code>ASTNode</code> Returns given node’s parent.</p>
<p><strong>Kind</strong>: static method of <code><a href="#TreeAdapter">TreeAdapter</a></code> <strong>Returns</strong>: <code>ASTNode</code> - parent <strong>See</strong>: <a href="https://github.com/inikulin/parse5/blob/tree-adapter-docs-rev/lib/tree_adapters/default.js#L329">default implementation.</a></p>
<table>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>node</td>
<td><code>ASTNode</code></td>
<td>Node.</td>
</tr>
</tbody>
</table>
<p><a name="TreeAdapter.getAttrList"></a> ### TreeAdapter.getAttrList(node) ⇒ <code>Array</code> Returns array of the given node’s attributes in form of the name-value pair. Foreign attributes may contain <code>namespace</code> and <code>prefix</code> fields as well.</p>
<p><strong>Kind</strong>: static method of <code><a href="#TreeAdapter">TreeAdapter</a></code> <strong>Returns</strong>: <code>Array</code> - attributes <strong>See</strong>: <a href="https://github.com/inikulin/parse5/blob/tree-adapter-docs-rev/lib/tree_adapters/default.js#L346">default implementation.</a></p>
<table>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>node</td>
<td><code>ASTNode</code></td>
<td>Node.</td>
</tr>
</tbody>
</table>
<p><a name="TreeAdapter.getTagName"></a> ### TreeAdapter.getTagName(element) ⇒ <code>String</code> Returns given element’s tag name.</p>
<p><strong>Kind</strong>: static method of <code><a href="#TreeAdapter">TreeAdapter</a></code> <strong>Returns</strong>: <code>String</code> - tagName <strong>See</strong>: <a href="https://github.com/inikulin/parse5/blob/tree-adapter-docs-rev/lib/tree_adapters/default.js#L364">default implementation.</a></p>
<table>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>element</td>
<td><code>ASTNode.&lt;Element&gt;</code></td>
<td>Element.</td>
</tr>
</tbody>
</table>
<p><a name="TreeAdapter.getNamespaceURI"></a> ### TreeAdapter.getNamespaceURI(element) ⇒ <code>String</code> Returns given element’s namespace.</p>
<p><strong>Kind</strong>: static method of <code><a href="#TreeAdapter">TreeAdapter</a></code> <strong>Returns</strong>: <code>String</code> - namespaceURI <strong>See</strong>: <a href="https://github.com/inikulin/parse5/blob/tree-adapter-docs-rev/lib/tree_adapters/default.js#L380">default implementation.</a></p>
<table>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>element</td>
<td><code>ASTNode.&lt;Element&gt;</code></td>
<td>Element.</td>
</tr>
</tbody>
</table>
<p><a name="TreeAdapter.getTextNodeContent"></a> ### TreeAdapter.getTextNodeContent(textNode) ⇒ <code>String</code> Returns given text node’s content.</p>
<p><strong>Kind</strong>: static method of <code><a href="#TreeAdapter">TreeAdapter</a></code> <strong>Returns</strong>: <code>String</code> - text <strong>See</strong>: <a href="https://github.com/inikulin/parse5/blob/tree-adapter-docs-rev/lib/tree_adapters/default.js#L396">default implementation.</a></p>
<table>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>textNode</td>
<td><code>ASTNode.&lt;Text&gt;</code></td>
<td>Text node.</td>
</tr>
</tbody>
</table>
<p><a name="TreeAdapter.getTextNodeContent"></a> ### TreeAdapter.getTextNodeContent(commentNode) ⇒ <code>String</code> Returns given comment node’s content.</p>
<p><strong>Kind</strong>: static method of <code><a href="#TreeAdapter">TreeAdapter</a></code> <strong>Returns</strong>: <code>String</code> - commentText <strong>See</strong>: <a href="https://github.com/inikulin/parse5/blob/tree-adapter-docs-rev/lib/tree_adapters/default.js#L412">default implementation.</a></p>
<table>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>commentNode</td>
<td><code>ASTNode.&lt;Comment&gt;</code></td>
<td>Comment node.</td>
</tr>
</tbody>
</table>
<p><a name="TreeAdapter.getDocumentTypeNodeName"></a> ### TreeAdapter.getDocumentTypeNodeName(doctypeNode) ⇒ <code>String</code> Returns given document type node’s name.</p>
<p><strong>Kind</strong>: static method of <code><a href="#TreeAdapter">TreeAdapter</a></code> <strong>Returns</strong>: <code>String</code> - name <strong>See</strong>: <a href="https://github.com/inikulin/parse5/blob/tree-adapter-docs-rev/lib/tree_adapters/default.js#L428">default implementation.</a></p>
<table>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>doctypeNode</td>
<td><code>ASTNode.&lt;DocumentType&gt;</code></td>
<td>Document type node.</td>
</tr>
</tbody>
</table>
<p><a name="TreeAdapter.getDocumentTypeNodePublicId"></a> ### TreeAdapter.getDocumentTypeNodePublicId(doctypeNode) ⇒ <code>String</code> Returns given document type node’s public identifier.</p>
<p><strong>Kind</strong>: static method of <code><a href="#TreeAdapter">TreeAdapter</a></code> <strong>Returns</strong>: <code>String</code> - publicId <strong>See</strong>: <a href="https://github.com/inikulin/parse5/blob/tree-adapter-docs-rev/lib/tree_adapters/default.js#L444">default implementation.</a></p>
<table>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>doctypeNode</td>
<td><code>ASTNode.&lt;DocumentType&gt;</code></td>
<td>Document type node.</td>
</tr>
</tbody>
</table>
<p><a name="TreeAdapter.getDocumentTypeNodeSystemId"></a> ### TreeAdapter.getDocumentTypeNodeSystemId(doctypeNode) ⇒ <code>String</code> Returns given document type node’s system identifier.</p>
<p><strong>Kind</strong>: static method of <code><a href="#TreeAdapter">TreeAdapter</a></code> <strong>Returns</strong>: <code>String</code> - systemId <strong>See</strong>: <a href="https://github.com/inikulin/parse5/blob/tree-adapter-docs-rev/lib/tree_adapters/default.js#L460">default implementation.</a></p>
<table>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>doctypeNode</td>
<td><code>ASTNode.&lt;DocumentType&gt;</code></td>
<td>Document type node.</td>
</tr>
</tbody>
</table>
<p><a name="TreeAdapter.isTextNode"></a> ### TreeAdapter.isTextNode(node) ⇒ <code>Boolean</code> Determines if given node is a text node.</p>
<p><strong>Kind</strong>: static method of <code><a href="#TreeAdapter">TreeAdapter</a></code> <strong>See</strong>: <a href="https://github.com/inikulin/parse5/blob/tree-adapter-docs-rev/lib/tree_adapters/default.js#L477">default implementation.</a></p>
<table>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>node</td>
<td><code>ASTNode</code></td>
<td>Node.</td>
</tr>
</tbody>
</table>
<p><a name="TreeAdapter.isCommentNode"></a> ### TreeAdapter.isCommentNode(node) ⇒ <code>Boolean</code> Determines if given node is a comment node.</p>
<p><strong>Kind</strong>: static method of <code><a href="#TreeAdapter">TreeAdapter</a></code> <strong>See</strong>: <a href="https://github.com/inikulin/parse5/blob/tree-adapter-docs-rev/lib/tree_adapters/default.js#L493">default implementation.</a></p>
<table>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>node</td>
<td><code>ASTNode</code></td>
<td>Node.</td>
</tr>
</tbody>
</table>
<p><a name="TreeAdapter.isDocumentTypeNode"></a> ### TreeAdapter.isDocumentTypeNode(node) ⇒ <code>Boolean</code> Determines if given node is a document type node.</p>
<p><strong>Kind</strong>: static method of <code><a href="#TreeAdapter">TreeAdapter</a></code> <strong>See</strong>: <a href="https://github.com/inikulin/parse5/blob/tree-adapter-docs-rev/lib/tree_adapters/default.js#L509">default implementation.</a></p>
<table>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>node</td>
<td><code>ASTNode</code></td>
<td>Node.</td>
</tr>
</tbody>
</table>
<p><a name="TreeAdapter.isElementNode"></a> ### TreeAdapter.isElementNode(node) ⇒ <code>Boolean</code> Determines if given node is an element.</p>
<p><strong>Kind</strong>: static method of <code><a href="#TreeAdapter">TreeAdapter</a></code> <strong>See</strong>: <a href="https://github.com/inikulin/parse5/blob/tree-adapter-docs-rev/lib/tree_adapters/default.js#L525">default implementation.</a></p>
<table>
<thead>
<tr class="header">
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>node</td>
<td><code>ASTNode</code></td>
<td>Node.</td>
</tr>
</tbody>
</table>
<h1 id="faq">FAQ</h1>
<h2 id="q-i-want-to-work-with-my-own-document-tree-format.-how-can-i-achieve-this">Q: I want to work with my own document tree format. How can I achieve this?</h2>
<p>You can create a custom tree adapter so parse5 can work with your own DOM-tree implementation. Then just pass it to the parser or serializer via option:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb12-1" title="1"><span class="kw">var</span> parse5 <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;parse5&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb12-2" title="2"></a>
<a class="sourceLine" id="cb12-3" title="3"><span class="kw">var</span> myTreeAdapter <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb12-4" title="4">   <span class="co">//Adapter methods...</span></a>
<a class="sourceLine" id="cb12-5" title="5"><span class="op">};</span></a>
<a class="sourceLine" id="cb12-6" title="6"></a>
<a class="sourceLine" id="cb12-7" title="7"><span class="kw">var</span> document <span class="op">=</span> <span class="va">parse5</span>.<span class="at">parse</span>(<span class="st">&#39;&lt;div&gt;&lt;/div&gt;&#39;</span><span class="op">,</span> <span class="op">{</span> <span class="dt">treeAdapter</span><span class="op">:</span> myTreeAdapter <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb12-8" title="8"></a>
<a class="sourceLine" id="cb12-9" title="9"><span class="kw">var</span> html <span class="op">=</span> <span class="va">parse5</span>.<span class="at">serialize</span>(document<span class="op">,</span> <span class="op">{</span> <span class="dt">treeAdapter</span><span class="op">:</span> myTreeAdapter <span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>You can find description of the methods which should be exposed by tree adapter and links to their default implementation in the <a href="#TreeAdapter">API reference</a>.</p>
<h2 id="q-how-can-i-use-parse5-in-the-browser">Q: How can I use parse5 in the browser?</h2>
<p>Just compile it with <a href="http://browserify.org/">browserify</a> and you’re set.</p>
<h2 id="q-im-parsing-img-srcfoo-with-the-saxparser-and-i-expect-selfclosing-flag-to-be-true-for-the-img-tag.-but-its-not.-is-there-something-wrong-with-parser">Q: I’m parsing <code>&lt;img src="foo"&gt;</code> with the <code>SAXParser</code> and I expect <code>selfClosing</code> flag to be <code>true</code> for the <code>&lt;img&gt;</code> tag. But it’s not. Is there something wrong with parser?</h2>
<p>No. Self-closing tag is the tag that has <code>/</code> before the closing bracket. E.g: <code>&lt;br/&gt;</code>, <code>&lt;meta/&gt;</code>. In the provided example tag just doesn’t have end tag. Self-closing tags and tags without end tags are differently treated by the parser: in case of self-closing tag parser will not lookup for the appropriate closing tag and expects element to not have any content. But if start tag is not self-closing parser will treat everything after it (with the few exceptions) as the element content. However, if the start tag is in the list of <a href="https://html.spec.whatwg.org/multipage/syntax.html#void-elements">void elements</a> parser expects corresponding element to not have content and behaves the same way as the if element is self-closing. So, semantically if element is the void element self-closing tags and tags without closing tags are equivalent, but it’s not true for all other tags.</p>
<p><strong>TL;DR</strong>: <code>selfClosing</code> is the part of the lexical information and will be set only if the tag in source code has <code>/</code> before the closing bracket.</p>
<h2 id="q-i-have-some-weird-output-from-the-parser-seems-like-its-a-bug.">Q: I have some weird output from the parser, seems like it’s a bug.</h2>
<p>More likely, it’s not. There are a lot of weird edge cases in HTML5 parsing algorithm, e.g.:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb13-1" title="1"><span class="kw">&lt;b&gt;</span>1<span class="kw">&lt;p&gt;</span>2<span class="kw">&lt;/b&gt;</span>3<span class="kw">&lt;/p&gt;</span></a></code></pre></div>
<p>will be parsed as</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb14-1" title="1"><span class="kw">&lt;b&gt;</span>1<span class="kw">&lt;/b&gt;&lt;p&gt;&lt;b&gt;</span>2<span class="kw">&lt;/b&gt;</span>3<span class="kw">&lt;/p&gt;</span></a></code></pre></div>
<p>Just try it in the latest version of your browser before submitting the issue.</p>
<h1 id="version-history">Version history</h1>
<h2 id="section">2.0.0</h2>
<ul>
<li>Add: <a href="http://inikulin.github.io/parse5/#parse5+ParserStream">ParserStream</a> with the scripting support.</li>
<li>Add: <a href="http://inikulin.github.io/parse5/#parse5+SerializerStream">SerializerStream</a></li>
<li>Add: Line/column location info.</li>
<li>Update (<strong>breaking</strong>): <code>SimpleApiParser</code> was renamed to <a href="http://inikulin.github.io/parse5/#parse5+SAXParser">SAXParser</a>.</li>
<li>Update (<strong>breaking</strong>): <a href="http://inikulin.github.io/parse5/#parse5+SAXParser">SAXParser</a> is the <a href="https://nodejs.org/api/stream.html#stream_class_stream_transform">transform stream</a> now.</li>
<li>Update (<strong>breaking</strong>): <a href="http://inikulin.github.io/parse5/#parse5+SAXParser">SAXParser</a> handler subscription is done via events now.</li>
<li>Add: <a href="http://inikulin.github.io/parse5/#parse5+SAXParser+stop">SAXParser.stop()</a></li>
<li>Add (<strong>breaking</strong>): <a href="http://inikulin.github.io/parse5/#parse5+parse">parse5.parse()</a> and <a href="http://inikulin.github.io/parse5/#parse5+parseFragment">parse5.parseFragment()</a> methods as replacement for the <code>Parser</code> class.</li>
<li>Add (<strong>breaking</strong>): <a href="http://inikulin.github.io/parse5/#parse5+serialized">parse5.serialize()</a> method as replacement for the <code>Serializer</code> class.</li>
<li>Update: parsing algorithm was updated with the latest <a href="https://html.spec.whatwg.org/">HTML spec</a> changes.</li>
<li>Remove (<strong>breaking</strong>): <code>decodeHtmlEntities</code> and <code>encodeHtmlEntities</code> options. <a href="https://github.com/inikulin/parse5/issues/75">Discussion</a>.</li>
</ul>
<h2 id="section-1">1.5.0</h2>
<ul>
<li>Add: Location info for the element start and end tags (by <span class="citation" data-cites="sakagg">@sakagg</span>).</li>
</ul>
<h2 id="section-2">1.4.2</h2>
<ul>
<li>Fix: htmlparser2 tree adapter <code>DocumentType.data</code> property rendering (GH <a href="https://github.com/inikulin/parse5/issues/45">#45</a>).</li>
</ul>
<h2 id="section-3">1.4.1</h2>
<ul>
<li>Fix: Location info handling for the implicitly generated <code>&lt;html&gt;</code> and <code>&lt;body&gt;</code> elements (GH <a href="https://github.com/inikulin/parse5/issues/44">#44</a>).</li>
</ul>
<h2 id="section-4">1.4.0</h2>
<ul>
<li>Add: Parser <a href="https://github.com/inikulin/parse5#optionsdecodehtmlentities">decodeHtmlEntities</a> option.</li>
<li>Add: SimpleApiParser <a href="https://github.com/inikulin/parse5#optionsdecodehtmlentities-1">decodeHtmlEntities</a> option.</li>
<li>Add: Parser <a href="https://github.com/inikulin/parse5#optionslocationinfo">locationInfo</a> option.</li>
<li>Add: SimpleApiParser <a href="https://github.com/inikulin/parse5#optionslocationinfo-1">locationInfo</a> option.</li>
</ul>
<h2 id="section-5">1.3.2</h2>
<ul>
<li>Fix: <code>&lt;form&gt;</code> processing in <code>&lt;template&gt;</code> (GH <a href="https://github.com/inikulin/parse5/issues/40">#40</a>).</li>
</ul>
<h2 id="section-6">1.3.1</h2>
<ul>
<li>Fix: text node in <code>&lt;template&gt;</code> serialization problem with custom tree adapter (GH <a href="https://github.com/inikulin/parse5/issues/38">#38</a>).</li>
</ul>
<h2 id="section-7">1.3.0</h2>
<ul>
<li>Add: Serializer <code>encodeHtmlEntities</code> option.</li>
</ul>
<h2 id="section-8">1.2.0</h2>
<ul>
<li>Add: <code>&lt;template&gt;</code> support</li>
<li><code>parseFragment</code> now uses <code>&lt;template&gt;</code> as default <code>contextElement</code>. This leads to the more “forgiving” parsing manner.</li>
<li><code>TreeSerializer</code> was renamed to <code>Serializer</code>. However, serializer is accessible as <code>parse5.TreeSerializer</code> for backward compatibility .</li>
</ul>
<h2 id="section-9">1.1.6</h2>
<ul>
<li>Fix: apply latest changes to the <code>htmlparser2</code> tree format (DOM Level1 node emulation).</li>
</ul>
<h2 id="section-10">1.1.5</h2>
<ul>
<li>Add: <a href="https://github.com/tmpvar/jsdom">jsdom</a>-specific parser with scripting support. Undocumented for <code>jsdom</code> internal use only.</li>
</ul>
<h2 id="section-11">1.1.4</h2>
<ul>
<li>Add: logo</li>
<li>Fix: use fake <code>document</code> element for fragment parsing (required by <a href="https://github.com/tmpvar/jsdom">jsdom</a>).</li>
</ul>
<h2 id="section-12">1.1.3</h2>
<ul>
<li>Development files (e.g. <code>.travis.yml</code>, <code>.editorconfig</code>) are removed from NPM package.</li>
</ul>
<h2 id="section-13">1.1.2</h2>
<ul>
<li>Fix: crash on Linux due to upper-case leading character in module name used in <code>require()</code>.</li>
</ul>
<h2 id="section-14">1.1.1</h2>
<ul>
<li>Add: <a href="https://github.com/inikulin/parse5/#class-simpleapiparser">SimpleApiParser</a>.</li>
<li>Fix: new line serialization in <code>&lt;pre&gt;</code>.</li>
<li>Fix: <code>SYSTEM</code>-only <code>DOCTYPE</code> serialization.</li>
<li>Fix: quotes serialization in <code>DOCTYPE</code> IDs.</li>
</ul>
<h2 id="section-15">1.0.0</h2>
<ul>
<li>First stable release, switch to semantic versioning.</li>
</ul>
<h2 id="section-16">0.8.3</h2>
<ul>
<li>Fix: siblings calculation bug in <code>appendChild</code> in <code>htmlparser2</code> tree adapter.</li>
</ul>
<h2 id="section-17">0.8.1</h2>
<ul>
<li>Add: <a href="https://github.com/inikulin/parse5/#class-serializer">TreeSerializer</a>.</li>
<li>Add: <a href="https://github.com/inikulin/parse5/#-treeadaptershtmlparser2">htmlparser2 tree adapter</a>.</li>
</ul>
<h2 id="section-18">0.6.1</h2>
<ul>
<li>Fix: incorrect <code>&lt;menuitem&gt;</code> handling in <code>&lt;body&gt;</code>.</li>
</ul>
<h2 id="section-19">0.6.0</h2>
<ul>
<li>Initial release.</li>
</ul>
<h1 id="license">License</h1>
<p>Copyright (c) 2013-2015 Ivan Nikulin (ifaaan@gmail.com, https://github.com/inikulin)</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the “Software”), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>
</body>
</html>
