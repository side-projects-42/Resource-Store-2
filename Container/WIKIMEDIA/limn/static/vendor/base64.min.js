/*
<<<<<<< HEAD
 * $Id: base64.js,v 0.9 2009/03/01 20:51:18 dankogai Exp dankogai $
=======
 * $Id: base64.js,v 1.2 2011/12/27 14:34:49 dankogai Exp dankogai $
 *
 *  Licensed under the MIT license.
 *  http://www.opensource.org/licenses/mit-license.php
 *
>>>>>>> 66d1be6938828efa7d3dceec31c46012a67f9386
 */(function(a){if(a.Base64)return;var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=function(a){var b={};for(var c=0,d=a.length;c<d;c++)b[a.charAt(c)]=c;return b}(b),d=function(a){var c=a.charCodeAt(0)<<16|a.charCodeAt(1)<<8|a.charCodeAt(2);return b.charAt(c>>>18)+b.charAt(c>>>12&63)+b.charAt(c>>>6&63)+b.charAt(c&63)},e=function(a){if(a.match(/[^\x00-\xFF]/))throw"unsupported character found";var b=0;while(a.length%3)a+="\0",b++;var c=a.replace(/[\x00-\xFF]{3}/g,d);if(!b)return c;c=c.substr(0,c.length-b);while(b--)c+="=";return c},f=a.btoa||e,g=function(a){var b=c[a.charAt(0)]<<18|c[a.charAt(1)]<<12|c[a.charAt(2)]<<6|c[a.charAt(3)];return String.fromCharCode(b>>16)+String.fromCharCode(b>>8&255)+String.fromCharCode(b&255)},h=function(a){a=a.replace(/[^A-Za-z0-9\+\/]/g,"");var b=0;while(a.length%4)a+="A",b++;var c=a.replace(/[A-Za-z0-9\+\/]{4}/g,g);return b>=2&&(c=c.substring(0,c.length-[0,0,2,1][b])),c},i=a.atob||h,j=/[^\x00-\x7F]/g,k=function(a){var b=a.charCodeAt(0);return b<2048?String.fromCharCode(192|b>>>6)+String.fromCharCode(128|b&63):String.fromCharCode(224|b>>>12&15)+String.fromCharCode(128|b>>>6&63)+String.fromCharCode(128|b&63)},l=function(a){return a.replace(j,k)},m=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,n=function(a){var b=a.charCodeAt(0),c=a.charCodeAt(1);if(b<224)return String.fromCharCode((b&31)<<6|c&63);var d=a.charCodeAt(2);return String.fromCharCode((b&15)<<12|(c&63)<<6|d&63)},o=function(a){return a.replace(m,n)};a.Base64={fromBase64:h,toBase64:e,atob:i,btoa:f,utob:l,btou:o,encode:function(a){return f(l(a))},encodeURI:function(a){return f(l(a)).replace(/[+\/]/g,function(a){return a=="+"?"-":"_"}).replace(/=+$/,"")},decode:function(a){return o(i(a.replace(/[-_]/g,function(a){return a=="-"?"+":"/"})))}}})(this);