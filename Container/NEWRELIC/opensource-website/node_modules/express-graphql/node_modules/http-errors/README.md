http-errors
===========

[![NPM Version](https://badgen.net/npm/v/http-errors)](https://npmjs.org/package/http-errors) [![NPM Downloads](https://badgen.net/npm/dm/http-errors)](https://nodejs.org/en/download) [![Node.js Version](https://badgen.net/npm/node/http-errors)](https://nodejs.org/en/download) [![Build Status](https://badgen.net/travis/jshttp/http-errors/master)](https://travis-ci.org/jshttp/http-errors) [![Test Coverage](https://badgen.net/coveralls/c/github/jshttp/http-errors/master)](https://coveralls.io/r/jshttp/http-errors?branch=master)

Create HTTP errors for Express, Koa, Connect, etc. with ease.

Install
-------

This is a [Node.js](https://nodejs.org/en/) module available through the [npm registry](https://www.npmjs.com/). Installation is done using the [`npm install` command](https://docs.npmjs.com/getting-started/installing-npm-packages-locally):

    $ npm install http-errors

Example
-------

    var createError = require('http-errors')
    var express = require('express')
    var app = express()

    app.use(function (req, res, next) {
      if (!req.user) return next(createError(401, 'Please login to view this page.'))
      next()
    })

API
---

This is the current API, currently extracted from Koa and subject to change.

### Error Properties

-   `expose` - can be used to signal if `message` should be sent to the client, defaulting to `false` when `status` &gt;= 500
-   `headers` - can be an object of header names to values to be sent to the client, defaulting to `undefined`. When defined, the key names should all be lower-cased
-   `message` - the traditional error message, which should be kept short and all single line
-   `status` - the status code of the error, mirroring `statusCode` for general compatibility
-   `statusCode` - the status code of the error, defaulting to `500`

### createError(\[status\], \[message\], \[properties\])

Create a new error object with the given message `msg`. The error object inherits from `createError.HttpError`.

    var err = createError(404, 'This video does not exist!')

-   `status: 500` - the status code as a number
-   `message` - the message of the error, defaulting to node’s text for that status code.
-   `properties` - custom properties to attach to the object

### createError(\[status\], \[error\], \[properties\])

Extend the given `error` object with `createError.HttpError` properties. This will not alter the inheritance of the given `error` object, and the modified `error` object is the return value.

    fs.readFile('foo.txt', function (err, buf) {
      if (err) {
        if (err.code === 'ENOENT') {
          var httpError = createError(404, err, { expose: false })
        } else {
          var httpError = createError(500, err)
        }
      }
    })

-   `status` - the status code as a number
-   `error` - the error object to extend
-   `properties` - custom properties to attach to the object

### createError.isHttpError(val)

Determine if the provided `val` is an `HttpError`. This will return `true` if the error inherits from the `HttpError` constructor of this module or matches the “duck type” for an error this module creates. All outputs from the `createError` factory will return `true` for this function, including if an non-`HttpError` was passed into the factory.

### new createError\[code || name\](\[msg\]))

Create a new error object with the given message `msg`. The error object inherits from `createError.HttpError`.

    var err = new createError.NotFound()

-   `code` - the status code as a number
-   `name` - the name of the error as a “bumpy case”, i.e. `NotFound` or `InternalServerError`.

#### List of all constructors

<table><thead><tr class="header"><th>Status Code</th><th>Constructor Name</th></tr></thead><tbody><tr class="odd"><td>400</td><td>BadRequest</td></tr><tr class="even"><td>401</td><td>Unauthorized</td></tr><tr class="odd"><td>402</td><td>PaymentRequired</td></tr><tr class="even"><td>403</td><td>Forbidden</td></tr><tr class="odd"><td>404</td><td>NotFound</td></tr><tr class="even"><td>405</td><td>MethodNotAllowed</td></tr><tr class="odd"><td>406</td><td>NotAcceptable</td></tr><tr class="even"><td>407</td><td>ProxyAuthenticationRequired</td></tr><tr class="odd"><td>408</td><td>RequestTimeout</td></tr><tr class="even"><td>409</td><td>Conflict</td></tr><tr class="odd"><td>410</td><td>Gone</td></tr><tr class="even"><td>411</td><td>LengthRequired</td></tr><tr class="odd"><td>412</td><td>PreconditionFailed</td></tr><tr class="even"><td>413</td><td>PayloadTooLarge</td></tr><tr class="odd"><td>414</td><td>URITooLong</td></tr><tr class="even"><td>415</td><td>UnsupportedMediaType</td></tr><tr class="odd"><td>416</td><td>RangeNotSatisfiable</td></tr><tr class="even"><td>417</td><td>ExpectationFailed</td></tr><tr class="odd"><td>418</td><td>ImATeapot</td></tr><tr class="even"><td>421</td><td>MisdirectedRequest</td></tr><tr class="odd"><td>422</td><td>UnprocessableEntity</td></tr><tr class="even"><td>423</td><td>Locked</td></tr><tr class="odd"><td>424</td><td>FailedDependency</td></tr><tr class="even"><td>425</td><td>UnorderedCollection</td></tr><tr class="odd"><td>426</td><td>UpgradeRequired</td></tr><tr class="even"><td>428</td><td>PreconditionRequired</td></tr><tr class="odd"><td>429</td><td>TooManyRequests</td></tr><tr class="even"><td>431</td><td>RequestHeaderFieldsTooLarge</td></tr><tr class="odd"><td>451</td><td>UnavailableForLegalReasons</td></tr><tr class="even"><td>500</td><td>InternalServerError</td></tr><tr class="odd"><td>501</td><td>NotImplemented</td></tr><tr class="even"><td>502</td><td>BadGateway</td></tr><tr class="odd"><td>503</td><td>ServiceUnavailable</td></tr><tr class="even"><td>504</td><td>GatewayTimeout</td></tr><tr class="odd"><td>505</td><td>HTTPVersionNotSupported</td></tr><tr class="even"><td>506</td><td>VariantAlsoNegotiates</td></tr><tr class="odd"><td>507</td><td>InsufficientStorage</td></tr><tr class="even"><td>508</td><td>LoopDetected</td></tr><tr class="odd"><td>509</td><td>BandwidthLimitExceeded</td></tr><tr class="even"><td>510</td><td>NotExtended</td></tr><tr class="odd"><td>511</td><td>NetworkAuthenticationRequired</td></tr></tbody></table>

License
-------

[MIT](LICENSE)
