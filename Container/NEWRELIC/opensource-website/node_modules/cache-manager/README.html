<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<p><a href="http://travis-ci.org/BryanDonovan/node-cache-manager"><img src="https://secure.travis-ci.org/BryanDonovan/node-cache-manager.svg" alt="build status" /></a> <a href="https://coveralls.io/r/BryanDonovan/node-cache-manager?branch=master"><img src="https://coveralls.io/repos/BryanDonovan/node-cache-manager/badge.svg?branch=master" alt="Coverage Status" /></a></p>
<h1 id="node-cache-manager">node-cache-manager</h1>
<h1 id="flexible-nodejs-cache-module">Flexible NodeJS cache module</h1>
<p>A cache module for nodejs that allows easy wrapping of functions in cache, tiered caches, and a consistent interface.</p>
<h2 id="features">Features</h2>
<ul>
<li>Easy way to wrap any function in cache.</li>
<li>Tiered caches – data gets stored in each cache and fetched from the highest priority cache(s) first.</li>
<li>Use any cache you want, as long as it has the same API.</li>
<li>100% test coverage via <a href="https://github.com/visionmedia/mocha">mocha</a>, <a href="https://github.com/yahoo/istanbul">istanbul</a>, and <a href="http://sinonjs.org">sinon</a>.</li>
</ul>
<h2 id="express.js-example">Express.js Example</h2>
<p>See the <a href="https://github.com/BryanDonovan/node-cache-manager-express-example">Express.js cache-manager example app</a> to see how to use <code>node-cache-manager</code> in your applications.</p>
<h2 id="installation">Installation</h2>
<pre><code>npm install cache-manager</code></pre>
<h2 id="store-engines">Store Engines</h2>
<ul>
<li><p><a href="https://github.com/dial-once/node-cache-manager-redis">node-cache-manager-redis</a> (uses <a href="https://github.com/joshuah/sol-redis-pool">sol-redis-pool</a>)</p></li>
<li><p><a href="https://github.com/dabroek/node-cache-manager-redis-store">node-cache-manager-redis-store</a> (uses <a href="https://github.com/NodeRedis/node_redis">node_redis</a>)</p></li>
<li><p><a href="https://github.com/dabroek/node-cache-manager-ioredis">node-cache-manager-ioredis</a> (uses <a href="https://github.com/luin/ioredis">ioredis</a>)</p></li>
<li><p><a href="https://github.com/v4l3r10/node-cache-manager-mongodb">node-cache-manager-mongodb</a></p></li>
<li><p><a href="https://github.com/disjunction/node-cache-manager-mongoose">node-cache-manager-mongoose</a></p></li>
<li><p><a href="https://github.com/hotelde/node-cache-manager-fs">node-cache-manager-fs</a></p></li>
<li><p><a href="https://github.com/sheershoff/node-cache-manager-fs-binary">node-cache-manager-fs-binary</a></p></li>
<li><p><a href="https://github.com/rolandstarke/node-cache-manager-fs-hash">node-cache-manager-fs-hash</a></p></li>
<li><p><a href="https://github.com/marudor/node-cache-manager-hazelcast">node-cache-manager-hazelcast</a></p></li>
<li><p><a href="https://github.com/theogravity/node-cache-manager-memcached-store">node-cache-manager-memcached-store</a></p></li>
<li><p><a href="https://github.com/theogravity/node-cache-manager-memory-store">node-cache-manager-memory-store</a></p></li>
</ul>
<h2 id="overview">Overview</h2>
<p><strong>First</strong>, it includes a <code>wrap</code> function that lets you wrap any function in cache. (Note, this was inspired by <a href="https://github.com/mape/node-caching">node-caching</a>.) This is probably the feature you’re looking for. As an example, where you might have to do this:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">function</span> <span class="at">getCachedUser</span>(id<span class="op">,</span> cb) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" title="2">    <span class="va">memoryCache</span>.<span class="at">get</span>(id<span class="op">,</span> <span class="kw">function</span> (err<span class="op">,</span> result) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-3" title="3">        <span class="cf">if</span> (err) <span class="op">{</span> <span class="cf">return</span> <span class="at">cb</span>(err)<span class="op">;</span> <span class="op">}</span></a>
<a class="sourceLine" id="cb2-4" title="4"></a>
<a class="sourceLine" id="cb2-5" title="5">        <span class="cf">if</span> (result) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-6" title="6">            <span class="cf">return</span> <span class="at">cb</span>(<span class="kw">null</span><span class="op">,</span> result)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-7" title="7">        <span class="op">}</span></a>
<a class="sourceLine" id="cb2-8" title="8"></a>
<a class="sourceLine" id="cb2-9" title="9">        <span class="at">getUser</span>(id<span class="op">,</span> <span class="kw">function</span> (err<span class="op">,</span> result) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-10" title="10">            <span class="cf">if</span> (err) <span class="op">{</span> <span class="cf">return</span> <span class="at">cb</span>(err)<span class="op">;</span> <span class="op">}</span></a>
<a class="sourceLine" id="cb2-11" title="11">            <span class="va">memoryCache</span>.<span class="at">set</span>(id<span class="op">,</span> result)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-12" title="12">            <span class="at">cb</span>(<span class="kw">null</span><span class="op">,</span> result)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-13" title="13">        <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-14" title="14">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-15" title="15"><span class="op">}</span></a></code></pre></div>
<p>… you can instead use the <code>wrap</code> function:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">function</span> <span class="at">getCachedUser</span>(id<span class="op">,</span> cb) <span class="op">{</span></a>
<a class="sourceLine" id="cb3-2" title="2">    <span class="va">memoryCache</span>.<span class="at">wrap</span>(id<span class="op">,</span> <span class="kw">function</span> (cacheCallback) <span class="op">{</span></a>
<a class="sourceLine" id="cb3-3" title="3">        <span class="at">getUser</span>(id<span class="op">,</span> cacheCallback)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-4" title="4">    <span class="op">},</span> <span class="op">{</span><span class="dt">ttl</span><span class="op">:</span> ttl<span class="op">},</span> cb)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="op">}</span></a></code></pre></div>
<p><strong>Second</strong>, node-cache-manager features a built-in memory cache (using <a href="https://github.com/isaacs/node-lru-cache">node-lru-cache</a>), with the standard functions you’d expect in most caches:</p>
<pre><code>set(key, val, {ttl: ttl}, cb) // * see note below
get(key, cb)
del(key, cb)
mset(key1, val1, key2, val2, {ttl: ttl}, cb) // set several keys at once
mget(key1, key2, key3, cb) // get several keys at once

// * Note that depending on the underlying store, you may be able to pass the
// ttl as the third param, like this:
set(key, val, ttl, cb)
// ... or pass no ttl at all:
set(key, val, cb)</code></pre>
<p><strong>Third</strong>, node-cache-manager lets you set up a tiered cache strategy. This may be of limited use in most cases, but imagine a scenario where you expect tons of traffic, and don’t want to hit your primary cache (like Redis) for every request. You decide to store the most commonly-requested data in an in-memory cache, perhaps with a very short timeout and/or a small data size limit. But you still want to store the data in Redis for backup, and for the requests that aren’t as common as the ones you want to store in memory. This is something node-cache-manager handles easily and transparently.</p>
<p><strong>Fourth</strong>, it allows you to get and set multiple keys at once for caching store that support it. This means that when getting muliple keys it will go through the different caches starting from the highest priority one (see multi store below) and merge the values it finds at each level.</p>
<h2 id="usage-examples">Usage Examples</h2>
<p>See examples below and in the examples directory. See <code>examples/redis_example</code> for an example of how to implement a Redis cache store with connection pooling.</p>
<h3 id="single-store">Single Store</h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">var</span> cacheManager <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;cache-manager&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw">var</span> memoryCache <span class="op">=</span> <span class="va">cacheManager</span>.<span class="at">caching</span>(<span class="op">{</span><span class="dt">store</span><span class="op">:</span> <span class="st">&#39;memory&#39;</span><span class="op">,</span> <span class="dt">max</span><span class="op">:</span> <span class="dv">100</span><span class="op">,</span> <span class="dt">ttl</span><span class="op">:</span> <span class="dv">10</span><span class="co">/*seconds*/</span><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="kw">var</span> ttl <span class="op">=</span> <span class="dv">5</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="co">// Note: callback is optional in set() and del().</span></a>
<a class="sourceLine" id="cb5-5" title="5"></a>
<a class="sourceLine" id="cb5-6" title="6"><span class="va">memoryCache</span>.<span class="at">set</span>(<span class="st">&#39;foo&#39;</span><span class="op">,</span> <span class="st">&#39;bar&#39;</span><span class="op">,</span> <span class="op">{</span><span class="dt">ttl</span><span class="op">:</span> ttl<span class="op">},</span> <span class="kw">function</span>(err) <span class="op">{</span></a>
<a class="sourceLine" id="cb5-7" title="7">    <span class="cf">if</span> (err) <span class="op">{</span> <span class="cf">throw</span> err<span class="op">;</span> <span class="op">}</span></a>
<a class="sourceLine" id="cb5-8" title="8"></a>
<a class="sourceLine" id="cb5-9" title="9">    <span class="va">memoryCache</span>.<span class="at">get</span>(<span class="st">&#39;foo&#39;</span><span class="op">,</span> <span class="kw">function</span>(err<span class="op">,</span> result) <span class="op">{</span></a>
<a class="sourceLine" id="cb5-10" title="10">        <span class="va">console</span>.<span class="at">log</span>(result)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-11" title="11">        <span class="co">// &gt;&gt; &#39;bar&#39;</span></a>
<a class="sourceLine" id="cb5-12" title="12">        <span class="va">memoryCache</span>.<span class="at">del</span>(<span class="st">&#39;foo&#39;</span><span class="op">,</span> <span class="kw">function</span>(err) <span class="op">{}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-13" title="13">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-14" title="14"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-15" title="15"></a>
<a class="sourceLine" id="cb5-16" title="16"><span class="kw">function</span> <span class="at">getUser</span>(id<span class="op">,</span> cb) <span class="op">{</span></a>
<a class="sourceLine" id="cb5-17" title="17">    <span class="at">setTimeout</span>(<span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb5-18" title="18">        <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;Returning user from slow database.&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-19" title="19">        <span class="at">cb</span>(<span class="kw">null</span><span class="op">,</span> <span class="op">{</span><span class="dt">id</span><span class="op">:</span> id<span class="op">,</span> <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;Bob&#39;</span><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-20" title="20">    <span class="op">},</span> <span class="dv">100</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-21" title="21"><span class="op">}</span></a>
<a class="sourceLine" id="cb5-22" title="22"></a>
<a class="sourceLine" id="cb5-23" title="23"><span class="kw">var</span> userId <span class="op">=</span> <span class="dv">123</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-24" title="24"><span class="kw">var</span> key <span class="op">=</span> <span class="st">&#39;user_&#39;</span> <span class="op">+</span> userId<span class="op">;</span></a>
<a class="sourceLine" id="cb5-25" title="25"></a>
<a class="sourceLine" id="cb5-26" title="26"><span class="co">// Note: ttl is optional in wrap()</span></a>
<a class="sourceLine" id="cb5-27" title="27"><span class="va">memoryCache</span>.<span class="at">wrap</span>(key<span class="op">,</span> <span class="kw">function</span> (cb) <span class="op">{</span></a>
<a class="sourceLine" id="cb5-28" title="28">    <span class="at">getUser</span>(userId<span class="op">,</span> cb)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-29" title="29"><span class="op">},</span> <span class="op">{</span><span class="dt">ttl</span><span class="op">:</span> ttl<span class="op">},</span> <span class="kw">function</span> (err<span class="op">,</span> user) <span class="op">{</span></a>
<a class="sourceLine" id="cb5-30" title="30">    <span class="va">console</span>.<span class="at">log</span>(user)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-31" title="31"></a>
<a class="sourceLine" id="cb5-32" title="32">    <span class="co">// Second time fetches user from memoryCache</span></a>
<a class="sourceLine" id="cb5-33" title="33">    <span class="va">memoryCache</span>.<span class="at">wrap</span>(key<span class="op">,</span> <span class="kw">function</span> (cb) <span class="op">{</span></a>
<a class="sourceLine" id="cb5-34" title="34">        <span class="at">getUser</span>(userId<span class="op">,</span> cb)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-35" title="35">    <span class="op">},</span> <span class="kw">function</span> (err<span class="op">,</span> user) <span class="op">{</span></a>
<a class="sourceLine" id="cb5-36" title="36">        <span class="va">console</span>.<span class="at">log</span>(user)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-37" title="37">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-38" title="38"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-39" title="39"></a>
<a class="sourceLine" id="cb5-40" title="40"><span class="co">// Outputs:</span></a>
<a class="sourceLine" id="cb5-41" title="41"><span class="co">// Returning user from slow database.</span></a>
<a class="sourceLine" id="cb5-42" title="42"><span class="co">// { id: 123, name: &#39;Bob&#39; }</span></a>
<a class="sourceLine" id="cb5-43" title="43"><span class="co">// { id: 123, name: &#39;Bob&#39; }</span></a></code></pre></div>
<p>The <code>ttl</code> can also be computed dynamically by passing in a function. E.g.,</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">var</span> opts <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb6-2" title="2">    <span class="dt">ttl</span><span class="op">:</span> <span class="kw">function</span>(user) <span class="op">{</span></a>
<a class="sourceLine" id="cb6-3" title="3">        <span class="cf">if</span> (<span class="va">user</span>.<span class="at">id</span> <span class="op">===</span> <span class="dv">1</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb6-4" title="4">            <span class="cf">return</span> <span class="fl">0.1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb6-5" title="5">        <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb6-6" title="6">            <span class="cf">return</span> <span class="fl">0.5</span><span class="op">;</span></a>
<a class="sourceLine" id="cb6-7" title="7">        <span class="op">}</span></a>
<a class="sourceLine" id="cb6-8" title="8">    <span class="op">}</span></a>
<a class="sourceLine" id="cb6-9" title="9"><span class="op">};</span></a>
<a class="sourceLine" id="cb6-10" title="10"></a>
<a class="sourceLine" id="cb6-11" title="11"><span class="va">memoryCache</span>.<span class="at">wrap</span>(key<span class="op">,</span> <span class="kw">function</span>(cb) <span class="op">{</span></a>
<a class="sourceLine" id="cb6-12" title="12">    <span class="at">getUser</span>(userId<span class="op">,</span> cb)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-13" title="13"><span class="op">},</span> opts<span class="op">,</span> <span class="kw">function</span>(err<span class="op">,</span> user) <span class="op">{</span></a>
<a class="sourceLine" id="cb6-14" title="14">    <span class="va">console</span>.<span class="at">log</span>(user)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-15" title="15"><span class="op">}</span></a></code></pre></div>
<p>You can get several keys at once. Note that this will return whatever records it finds in the cache and it is up to the user to check the results against the supplied keys and make any calls to the underlying data store to fill in missing records. In practice, this should not be much of a concern if you are only using the <code>wrap</code> function to set these records in cache.</p>
<p>Side note: Ideally the <code>wrap</code> function would get what it can from the cache and fill in the missing records from the data store, but I can’t think of a way to do this that is generic to all situations. Another option is to only return the data from the cache if all records are found, but this woul break multi-caching.</p>
<p>See unit tests in <code>caching.unit.js</code> for more information.</p>
<p>Example:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="kw">var</span> key1 <span class="op">=</span> <span class="st">&#39;user_1&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="kw">var</span> key2 <span class="op">=</span> <span class="st">&#39;user_1&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-4" title="4"></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="va">memoryCache</span>.<span class="at">wrap</span>(key1<span class="op">,</span> key2<span class="op">,</span> <span class="kw">function</span> (cb) <span class="op">{</span></a>
<a class="sourceLine" id="cb7-6" title="6">    <span class="at">getManyUser</span>([key1<span class="op">,</span> key2]<span class="op">,</span> cb)<span class="op">;</span></a>
<a class="sourceLine" id="cb7-7" title="7"><span class="op">},</span> <span class="kw">function</span> (err<span class="op">,</span> users) <span class="op">{</span></a>
<a class="sourceLine" id="cb7-8" title="8">    <span class="va">console</span>.<span class="at">log</span>(users[<span class="dv">0</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb7-9" title="9">    <span class="va">console</span>.<span class="at">log</span>(users[<span class="dv">1</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb7-10" title="10"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<h4 id="example-settinggetting-several-keys-with-mset-and-mget">Example setting/getting several keys with mset() and mget()</h4>
<div class="sourceCode" id="cb8"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1"><span class="va">memoryCache</span>.<span class="at">mset</span>(<span class="st">&#39;foo&#39;</span><span class="op">,</span> <span class="st">&#39;bar&#39;</span><span class="op">,</span> <span class="st">&#39;foo2&#39;</span><span class="op">,</span> <span class="st">&#39;bar2&#39;</span> <span class="op">{</span><span class="dt">ttl</span><span class="op">:</span> ttl<span class="op">},</span> <span class="kw">function</span>(err) <span class="op">{</span></a>
<a class="sourceLine" id="cb8-2" title="2">    <span class="cf">if</span> (err) <span class="op">{</span> <span class="cf">throw</span> err<span class="op">;</span> <span class="op">}</span></a>
<a class="sourceLine" id="cb8-3" title="3"></a>
<a class="sourceLine" id="cb8-4" title="4">    <span class="va">memoryCache</span>.<span class="at">mget</span>(<span class="st">&#39;foo&#39;</span><span class="op">,</span> <span class="st">&#39;foo2&#39;</span><span class="op">,</span> <span class="kw">function</span>(err<span class="op">,</span> result) <span class="op">{</span></a>
<a class="sourceLine" id="cb8-5" title="5">        <span class="va">console</span>.<span class="at">log</span>(result)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-6" title="6">        <span class="co">// &gt;&gt; [&#39;bar&#39;, &#39;bar2&#39;]</span></a>
<a class="sourceLine" id="cb8-7" title="7"></a>
<a class="sourceLine" id="cb8-8" title="8">        <span class="co">// Delete keys with del() passing arguments...</span></a>
<a class="sourceLine" id="cb8-9" title="9">        <span class="va">memoryCache</span>.<span class="at">del</span>(<span class="st">&#39;foo&#39;</span><span class="op">,</span> <span class="st">&#39;foo2&#39;</span><span class="op">,</span> <span class="kw">function</span>(err) <span class="op">{}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-10" title="10"></a>
<a class="sourceLine" id="cb8-11" title="11">        <span class="co">// ...passing an Array of keys</span></a>
<a class="sourceLine" id="cb8-12" title="12">        <span class="va">memoryCache</span>.<span class="at">del</span>([<span class="st">&#39;foo&#39;</span><span class="op">,</span> <span class="st">&#39;foo2&#39;</span>]<span class="op">,</span> <span class="kw">function</span>(err) <span class="op">{}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-13" title="13">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-14" title="14"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<h4 id="example-using-promises">Example Using Promises</h4>
<div class="sourceCode" id="cb9"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="va">memoryCache</span>.<span class="at">wrap</span>(key<span class="op">,</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb9-2" title="2">    <span class="cf">return</span> <span class="at">getUserPromise</span>(userId)<span class="op">;</span></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="op">}</span>)</a>
<a class="sourceLine" id="cb9-4" title="4">.<span class="at">then</span>(<span class="kw">function</span>(user) <span class="op">{</span></a>
<a class="sourceLine" id="cb9-5" title="5">    <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;User:&#39;</span><span class="op">,</span> user)<span class="op">;</span></a>
<a class="sourceLine" id="cb9-6" title="6"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>If you are using a Node version that does not include native promises, you can specify your promise dependency in the options passed to the cache module. E.g.,</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb10-1" title="1"></a>
<a class="sourceLine" id="cb10-2" title="2"><span class="kw">var</span> Promise <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;es6-promise&#39;</span>).<span class="at">Promise</span><span class="op">;</span></a>
<a class="sourceLine" id="cb10-3" title="3">cache <span class="op">=</span> <span class="at">caching</span>(<span class="op">{</span><span class="dt">store</span><span class="op">:</span> store<span class="op">,</span> <span class="dt">promiseDependency</span><span class="op">:</span> Promise<span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<h4 id="example-using-asyncawait">Example Using async/await</h4>
<div class="sourceCode" id="cb11"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb11-1" title="1"></a>
<a class="sourceLine" id="cb11-2" title="2"><span class="cf">try</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb11-3" title="3">  <span class="kw">let</span> user <span class="op">=</span> <span class="cf">await</span> <span class="va">memoryCache</span>.<span class="at">wrap</span>(key<span class="op">,</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb11-4" title="4">    <span class="cf">return</span> <span class="at">getUserPromise</span>(userId)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-5" title="5">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-6" title="6"><span class="op">}</span> <span class="cf">catch</span> (err) <span class="op">{</span></a>
<a class="sourceLine" id="cb11-7" title="7">  <span class="co">// error handling</span></a>
<a class="sourceLine" id="cb11-8" title="8"><span class="op">}</span></a></code></pre></div>
<p>Hint: should wrap <code>await</code> call with <code>try</code> - <code>catch</code> to handle <code>promise</code> error.</p>
<h4 id="example-express-app-usage">Example Express App Usage</h4>
<p>(Also see the <a href="https://github.com/BryanDonovan/node-cache-manager-express-example">Express.js cache-manager example app</a>).</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb12-1" title="1"><span class="kw">function</span> <span class="at">respond</span>(res<span class="op">,</span> err<span class="op">,</span> data) <span class="op">{</span></a>
<a class="sourceLine" id="cb12-2" title="2">    <span class="cf">if</span> (err) <span class="op">{</span></a>
<a class="sourceLine" id="cb12-3" title="3">        <span class="va">res</span>.<span class="at">json</span>(<span class="dv">500</span><span class="op">,</span> err)<span class="op">;</span></a>
<a class="sourceLine" id="cb12-4" title="4">    <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb12-5" title="5">        <span class="va">res</span>.<span class="at">json</span>(<span class="dv">200</span><span class="op">,</span> data)<span class="op">;</span></a>
<a class="sourceLine" id="cb12-6" title="6">    <span class="op">}</span></a>
<a class="sourceLine" id="cb12-7" title="7"><span class="op">}</span></a>
<a class="sourceLine" id="cb12-8" title="8"></a>
<a class="sourceLine" id="cb12-9" title="9"><span class="va">app</span>.<span class="at">get</span>(<span class="st">&#39;/foo/bar&#39;</span><span class="op">,</span> <span class="kw">function</span>(req<span class="op">,</span> res) <span class="op">{</span></a>
<a class="sourceLine" id="cb12-10" title="10">    <span class="kw">var</span> cacheKey <span class="op">=</span> <span class="st">&#39;foo-bar:&#39;</span> <span class="op">+</span> <span class="va">JSON</span>.<span class="at">stringify</span>(<span class="va">req</span>.<span class="at">query</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb12-11" title="11">    <span class="kw">var</span> ttl <span class="op">=</span> <span class="dv">10</span><span class="op">;</span></a>
<a class="sourceLine" id="cb12-12" title="12">    <span class="va">memoryCache</span>.<span class="at">wrap</span>(cacheKey<span class="op">,</span> <span class="kw">function</span>(cacheCallback) <span class="op">{</span></a>
<a class="sourceLine" id="cb12-13" title="13">        <span class="va">DB</span>.<span class="at">find</span>(<span class="va">req</span>.<span class="at">query</span><span class="op">,</span> cacheCallback)<span class="op">;</span></a>
<a class="sourceLine" id="cb12-14" title="14">    <span class="op">},</span> <span class="op">{</span><span class="dt">ttl</span><span class="op">:</span> ttl<span class="op">},</span> <span class="kw">function</span>(err<span class="op">,</span> result) <span class="op">{</span></a>
<a class="sourceLine" id="cb12-15" title="15">        <span class="at">respond</span>(res<span class="op">,</span> err<span class="op">,</span> result)<span class="op">;</span></a>
<a class="sourceLine" id="cb12-16" title="16">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb12-17" title="17"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<h4 id="custom-stores">Custom Stores</h4>
<p>You can use your own custom store by creating one with the same API as the built-in memory stores (such as a redis or memcached store). To use your own store just pass in an instance of it.</p>
<p>E.g.,</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb13-1" title="1"><span class="kw">var</span> myStore <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;your-homemade-store&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb13-2" title="2"><span class="kw">var</span> cache <span class="op">=</span> <span class="va">cacheManager</span>.<span class="at">caching</span>(<span class="op">{</span><span class="dt">store</span><span class="op">:</span> myStore<span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<h3 id="multi-store">Multi-Store</h3>
<div class="sourceCode" id="cb14"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb14-1" title="1"><span class="kw">var</span> multiCache <span class="op">=</span> <span class="va">cacheManager</span>.<span class="at">multiCaching</span>([memoryCache<span class="op">,</span> someOtherCache])<span class="op">;</span></a>
<a class="sourceLine" id="cb14-2" title="2">userId2 <span class="op">=</span> <span class="dv">456</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-3" title="3">key2 <span class="op">=</span> <span class="st">&#39;user_&#39;</span> <span class="op">+</span> userId<span class="op">;</span></a>
<a class="sourceLine" id="cb14-4" title="4">ttl <span class="op">=</span> <span class="dv">5</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-5" title="5"></a>
<a class="sourceLine" id="cb14-6" title="6"><span class="co">// Sets in all caches.</span></a>
<a class="sourceLine" id="cb14-7" title="7"><span class="co">// The &quot;ttl&quot; option can also be a function (see example below)</span></a>
<a class="sourceLine" id="cb14-8" title="8"><span class="va">multiCache</span>.<span class="at">set</span>(<span class="st">&#39;foo2&#39;</span><span class="op">,</span> <span class="st">&#39;bar2&#39;</span><span class="op">,</span> <span class="op">{</span><span class="dt">ttl</span><span class="op">:</span> ttl<span class="op">},</span> <span class="kw">function</span>(err) <span class="op">{</span></a>
<a class="sourceLine" id="cb14-9" title="9">    <span class="cf">if</span> (err) <span class="op">{</span> <span class="cf">throw</span> err<span class="op">;</span> <span class="op">}</span></a>
<a class="sourceLine" id="cb14-10" title="10"></a>
<a class="sourceLine" id="cb14-11" title="11">    <span class="co">// Fetches from highest priority cache that has the key.</span></a>
<a class="sourceLine" id="cb14-12" title="12">    <span class="va">multiCache</span>.<span class="at">get</span>(<span class="st">&#39;foo2&#39;</span><span class="op">,</span> <span class="kw">function</span>(err<span class="op">,</span> result) <span class="op">{</span></a>
<a class="sourceLine" id="cb14-13" title="13">        <span class="va">console</span>.<span class="at">log</span>(result)<span class="op">;</span></a>
<a class="sourceLine" id="cb14-14" title="14">        <span class="co">// &gt;&gt; &#39;bar2&#39;</span></a>
<a class="sourceLine" id="cb14-15" title="15"></a>
<a class="sourceLine" id="cb14-16" title="16">        <span class="co">// Delete from all caches</span></a>
<a class="sourceLine" id="cb14-17" title="17">        <span class="va">multiCache</span>.<span class="at">del</span>(<span class="st">&#39;foo2&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb14-18" title="18">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb14-19" title="19"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb14-20" title="20"></a>
<a class="sourceLine" id="cb14-21" title="21"><span class="co">// Set the ttl value by context depending on the store.</span></a>
<a class="sourceLine" id="cb14-22" title="22"><span class="kw">function</span> <span class="at">getTTL</span>(data<span class="op">,</span> store) <span class="op">{</span></a>
<a class="sourceLine" id="cb14-23" title="23">    <span class="cf">if</span> (store <span class="op">===</span> <span class="st">&#39;redis&#39;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb14-24" title="24">        <span class="cf">return</span> <span class="dv">6000</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-25" title="25">    <span class="op">}</span></a>
<a class="sourceLine" id="cb14-26" title="26">    <span class="cf">return</span> <span class="dv">3000</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-27" title="27"><span class="op">}</span></a>
<a class="sourceLine" id="cb14-28" title="28"></a>
<a class="sourceLine" id="cb14-29" title="29"><span class="co">// Sets multiple keys in all caches.</span></a>
<a class="sourceLine" id="cb14-30" title="30"><span class="co">// You can pass as many key,value pair as you want</span></a>
<a class="sourceLine" id="cb14-31" title="31"><span class="va">multiCache</span>.<span class="at">mset</span>(<span class="st">&#39;key&#39;</span><span class="op">,</span> <span class="st">&#39;value&#39;</span><span class="op">,</span> <span class="st">&#39;key2&#39;</span><span class="op">,</span> <span class="st">&#39;value2&#39;</span><span class="op">,</span> <span class="op">{</span><span class="dt">ttl</span><span class="op">:</span> getTTL<span class="op">},</span> <span class="kw">function</span>(err) <span class="op">{</span></a>
<a class="sourceLine" id="cb14-32" title="32">    <span class="cf">if</span> (err) <span class="op">{</span> <span class="cf">throw</span> err<span class="op">;</span> <span class="op">}</span></a>
<a class="sourceLine" id="cb14-33" title="33"></a>
<a class="sourceLine" id="cb14-34" title="34">    <span class="co">// mget() fetches from highest priority cache.</span></a>
<a class="sourceLine" id="cb14-35" title="35">    <span class="co">// If the first cache does not return all the keys,</span></a>
<a class="sourceLine" id="cb14-36" title="36">    <span class="co">// the next cache is fetched with the keys that were not found.</span></a>
<a class="sourceLine" id="cb14-37" title="37">    <span class="co">// This is done recursively until either:</span></a>
<a class="sourceLine" id="cb14-38" title="38">    <span class="co">// - all have been found</span></a>
<a class="sourceLine" id="cb14-39" title="39">    <span class="co">// - all caches has been fetched</span></a>
<a class="sourceLine" id="cb14-40" title="40">    <span class="va">multiCache</span>.<span class="at">mget</span>(<span class="st">&#39;key&#39;</span><span class="op">,</span> <span class="st">&#39;key2&#39;</span><span class="op">,</span> <span class="kw">function</span>(err<span class="op">,</span> result) <span class="op">{</span></a>
<a class="sourceLine" id="cb14-41" title="41">        <span class="va">console</span>.<span class="at">log</span>(result[<span class="dv">0</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb14-42" title="42">        <span class="va">console</span>.<span class="at">log</span>(result[<span class="dv">1</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb14-43" title="43">        <span class="co">// &gt;&gt; &#39;bar2&#39;</span></a>
<a class="sourceLine" id="cb14-44" title="44">        <span class="co">// &gt;&gt; &#39;bar3&#39;</span></a>
<a class="sourceLine" id="cb14-45" title="45"></a>
<a class="sourceLine" id="cb14-46" title="46">        <span class="co">// Delete from all caches</span></a>
<a class="sourceLine" id="cb14-47" title="47">        <span class="va">multiCache</span>.<span class="at">del</span>(<span class="st">&#39;key&#39;</span><span class="op">,</span> <span class="st">&#39;key2&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb14-48" title="48">        <span class="co">// ...or with an Array</span></a>
<a class="sourceLine" id="cb14-49" title="49">        <span class="va">multiCache</span>.<span class="at">del</span>([<span class="st">&#39;key&#39;</span><span class="op">,</span> <span class="st">&#39;key2&#39;</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb14-50" title="50">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb14-51" title="51"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb14-52" title="52"></a>
<a class="sourceLine" id="cb14-53" title="53"><span class="co">// Note: options with ttl are optional in wrap()</span></a>
<a class="sourceLine" id="cb14-54" title="54"><span class="va">multiCache</span>.<span class="at">wrap</span>(key2<span class="op">,</span> <span class="kw">function</span> (cb) <span class="op">{</span></a>
<a class="sourceLine" id="cb14-55" title="55">    <span class="at">getUser</span>(userId2<span class="op">,</span> cb)<span class="op">;</span></a>
<a class="sourceLine" id="cb14-56" title="56"><span class="op">},</span> <span class="op">{</span><span class="dt">ttl</span><span class="op">:</span> ttl<span class="op">},</span> <span class="kw">function</span> (err<span class="op">,</span> user) <span class="op">{</span></a>
<a class="sourceLine" id="cb14-57" title="57">    <span class="va">console</span>.<span class="at">log</span>(user)<span class="op">;</span></a>
<a class="sourceLine" id="cb14-58" title="58"></a>
<a class="sourceLine" id="cb14-59" title="59">    <span class="co">// Second time fetches user from memoryCache, since it&#39;s highest priority.</span></a>
<a class="sourceLine" id="cb14-60" title="60">    <span class="co">// If the data expires in the memory cache, the next fetch would pull it from</span></a>
<a class="sourceLine" id="cb14-61" title="61">    <span class="co">// the &#39;someOtherCache&#39;, and set the data in memory again.</span></a>
<a class="sourceLine" id="cb14-62" title="62">    <span class="va">multiCache</span>.<span class="at">wrap</span>(key2<span class="op">,</span> <span class="kw">function</span> (cb) <span class="op">{</span></a>
<a class="sourceLine" id="cb14-63" title="63">        <span class="at">getUser</span>(userId2<span class="op">,</span> cb)<span class="op">;</span></a>
<a class="sourceLine" id="cb14-64" title="64">    <span class="op">},</span> <span class="kw">function</span> (err<span class="op">,</span> user) <span class="op">{</span></a>
<a class="sourceLine" id="cb14-65" title="65">        <span class="va">console</span>.<span class="at">log</span>(user)<span class="op">;</span></a>
<a class="sourceLine" id="cb14-66" title="66">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb14-67" title="67"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb14-68" title="68"></a>
<a class="sourceLine" id="cb14-69" title="69"><span class="co">// Multiple keys</span></a>
<a class="sourceLine" id="cb14-70" title="70"><span class="va">multiCache</span>.<span class="at">wrap</span>(<span class="st">&#39;key1&#39;</span><span class="op">,</span> <span class="st">&#39;key2&#39;</span><span class="op">,</span> <span class="kw">function</span> (cb) <span class="op">{</span></a>
<a class="sourceLine" id="cb14-71" title="71">    <span class="at">getManyUser</span>([<span class="st">&#39;key1&#39;</span><span class="op">,</span> <span class="st">&#39;key2&#39;</span>]<span class="op">,</span> cb)<span class="op">;</span></a>
<a class="sourceLine" id="cb14-72" title="72"><span class="op">},</span> <span class="op">{</span><span class="dt">ttl</span><span class="op">:</span> ttl<span class="op">},</span> <span class="kw">function</span> (err<span class="op">,</span> users) <span class="op">{</span></a>
<a class="sourceLine" id="cb14-73" title="73">    <span class="va">console</span>.<span class="at">log</span>(users[<span class="dv">0</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb14-74" title="74">    <span class="va">console</span>.<span class="at">log</span>(users[<span class="dv">1</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb14-75" title="75"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<h3 id="specifying-what-to-cache-in-wrap-function">Specifying What to Cache in <code>wrap</code> Function</h3>
<p>Both the <code>caching</code> and <code>multicaching</code> modules allow you to pass in a callback function named <code>isCacheableValue</code> which is called by the <code>wrap</code> function with every value returned from cache or from the wrapped function. This lets you specify which values should and should not be cached by <code>wrap</code>. If the function returns true, it will be stored in cache. By default the caches cache everything except <code>undefined</code>.</p>
<p>NOTE: The <code>set</code> functions in <code>caching</code> and <code>multicaching</code> do <em>not</em> use <code>isCacheableValue</code>.</p>
<p>For example, if you don’t want to cache <code>false</code> and <code>null</code>, you can pass in a function like this:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb15-1" title="1"></a>
<a class="sourceLine" id="cb15-2" title="2"><span class="kw">var</span> isCacheableValue <span class="op">=</span> <span class="kw">function</span>(value) <span class="op">{</span></a>
<a class="sourceLine" id="cb15-3" title="3">    <span class="cf">return</span> value <span class="op">!==</span> <span class="kw">null</span> <span class="op">&amp;&amp;</span> value <span class="op">!==</span> <span class="kw">false</span> <span class="op">&amp;&amp;</span> value <span class="op">!==</span> <span class="kw">undefined</span><span class="op">;</span></a>
<a class="sourceLine" id="cb15-4" title="4"><span class="op">};</span></a></code></pre></div>
<p>Then pass it to <code>caching</code> like this:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb16-1" title="1"></a>
<a class="sourceLine" id="cb16-2" title="2"><span class="kw">var</span> memoryCache <span class="op">=</span> <span class="va">cacheManager</span>.<span class="at">caching</span>(<span class="op">{</span><span class="dt">store</span><span class="op">:</span> <span class="st">&#39;memory&#39;</span><span class="op">,</span> <span class="dt">isCacheableValue</span><span class="op">:</span> isCacheableValue<span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>And pass it to <code>multicaching</code> like this:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb17-1" title="1"></a>
<a class="sourceLine" id="cb17-2" title="2"><span class="kw">var</span> multiCache <span class="op">=</span> <span class="va">cacheManager</span>.<span class="at">multiCaching</span>([memoryCache<span class="op">,</span> someOtherCache]<span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb17-3" title="3">    <span class="dt">isCacheableValue</span><span class="op">:</span> isCacheableValue</a>
<a class="sourceLine" id="cb17-4" title="4"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<h3 id="development-environment">Development environment</h3>
<p>You may disable real caching but still get all the callback functionality working by setting <code>none</code> store.</p>
<h2 id="docs">Docs</h2>
<p>To generate JSDOC 3 documentation:</p>
<pre><code>make docs</code></pre>
<h2 id="tests">Tests</h2>
<p>To run tests, first run:</p>
<pre><code>npm install -d</code></pre>
<p>Run the tests and JShint:</p>
<pre><code>make</code></pre>
<h2 id="contribute">Contribute</h2>
<p>If you would like to contribute to the project, please fork it and send us a pull request. Please add tests for any new features or bug fixes. Also run <code>make</code> before submitting the pull request.</p>
<h2 id="license">License</h2>
<p>node-cache-manager is licensed under the MIT license.</p>
</body>
</html>
