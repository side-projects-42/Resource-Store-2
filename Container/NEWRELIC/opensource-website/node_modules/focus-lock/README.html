<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="focus-lock">focus-lock</h1>
<p>It is a trap! We got your focus and will not let him out!</p>
<p><a href="https://nodei.co/npm/react-focus-lock/"><img src="https://nodei.co/npm/focus-lock.png?downloads=true&amp;stars=true" alt="NPM" /></a></p>
<h1 id="consumers">Consumers</h1>
<p>This is a base package for:</p>
<ul>
<li><a href="https://github.com/theKashey/react-focus-lock">react-focus-lock</a> <a href="https://www.npmtrends.com/react-focus-lock"><img src="https://badgen.net/npm/dm/react-focus-lock" alt="downloads" /></a></li>
<li><a href="https://github.com/theKashey/vue-focus-lock">vue-focus-lock</a> <a href="https://www.npmtrends.com/vue-focus-lock"><img src="https://badgen.net/npm/dm/vue-focus-lock" alt="downloads" /></a></li>
<li><a href="https://github.com/theKashey/dom-focus-lock">dom-focus-lock</a> <a href="https://www.npmtrends.com/dom-focus-lock"><img src="https://badgen.net/npm/dm/dom-focus-lock" alt="downloads" /></a></li>
</ul>
<p>Provides a low level API, to be used by final realization. Usually everything can be solved in 3 lines</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="im">import</span> moveFocusInside<span class="op">,</span> <span class="op">{</span> focusInside <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;focus-lock&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-2" title="2"></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="cf">if</span> (topNode <span class="op">&amp;&amp;</span> <span class="op">!</span><span class="at">focusInside</span>(topNode)) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-4" title="4">  <span class="at">moveFocusInside</span>(topNode<span class="op">,</span> lastActiveFocus)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="op">}</span></a></code></pre></div>
<h2 id="additional-api">Additional API</h2>
<h3 id="programmatic-focus-management">Programmatic focus management</h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode ts"><code class="sourceCode typescript"><a class="sourceLine" id="cb2-1" title="1"><span class="im">import</span> <span class="op">{</span> focusNextElement<span class="op">,</span> focusPrevElement <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;focus-lock&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="fu">focusNextElement</span>(sourceElement<span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-3" title="3">  scope<span class="op">:</span> theBoundingDOMNode<span class="op">,</span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="op">}</span>)<span class="op">;</span> <span class="co">// -&gt; next tabbable element</span></a></code></pre></div>
<h1 id="why">WHY?</h1>
<p>From <a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Techniques/Using_the_dialog_role">MDN Article about accessible dialogs</a>:</p>
<ul>
<li>The dialog must be properly labeled</li>
<li>Keyboard <strong>focus must be managed</strong> correctly</li>
</ul>
<p>This one is about managing the focus.</p>
<p>I’v got a good <a href="https://medium.com/@antonkorzunov/its-a-focus-trap-699a04d66fb5">article about focus management, dialogs and WAI-ARIA</a>.</p>
<h1 id="focus-fighting">Focus fighting</h1>
<p>It is possible, that more that one “focus management system” is present on the site. For example, you are using FocusLock for your content, and also using some Modal dialog, with FocusTrap inside.</p>
<p>Both system will try to do their best, and move focus into their managed areas. Stack overflow. Both are dead.</p>
<p>Focus Lock(React-Focus-Lock, Vue-Focus-Lock and so on) implements anti-fighting protection - once the battle is detected focus-lock will surrender(as long there is no way to win this fight).</p>
<p>You may also land a peace by special data attribute - <code>data-no-focus-lock</code>(constants.FOCUS_ALLOW). It will remove focus management from all nested elements, letting you open modals, forms, or use any third party component safely. Focus lock will just do nothing, while focus is on the marked elements.</p>
<h1 id="api">API</h1>
<p><code>default(topNode, lastNode)</code> (aka setFocus), moves focus inside topNode, keeping in mind that last focus inside was - lastNode</p>
<h1 id="licence">Licence</h1>
<p>MIT</p>
</body>
</html>
