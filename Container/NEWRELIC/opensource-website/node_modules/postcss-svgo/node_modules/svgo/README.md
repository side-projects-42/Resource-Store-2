<img src="./logo/logo-web.svg" alt="SVGO logo" width="348" height="100" />

SVGO [![npm version](https://img.shields.io/npm/v/svgo)](https://npmjs.org/package/svgo) [![Discord](https://img.shields.io/discord/815166721315831868)](https://discord.gg/z8jX8NYxrE)
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

**SVG O**ptimizer is a Node.js-based tool for optimizing SVG vector graphics files.

Why?
----

SVG files, especially those exported from various editors, usually contain a lot of redundant and useless information. This can include editor metadata, comments, hidden elements, default or non-optimal values and other stuff that can be safely removed or converted without affecting the SVG rendering result.

Installation
------------

    npm -g install svgo

or

    yarn global add svgo

CLI usage
---------

    svgo one.svg two.svg -o one.min.svg two.min.svg

Or use the `--folder`/`-f` flag to optimize a whole folder of SVG icons

    svgo -f ./path/to/folder/with/svg/files -o ./path/to/folder/with/svg/output

See help for advanced usage

    svgo --help

Configuration
-------------

Some options can be configured with CLI though it may be easier to have the configuration in a separate file. SVGO automatically loads configuration from `svgo.config.js` or module specified with `--config` flag.

    module.exports = {
      multipass: true, // boolean. false by default
      datauri: 'enc', // 'base64', 'enc' or 'unenc'. 'base64' by default
      js2svg: {
        indent: 2, // string with spaces or number of spaces. 4 by default
        pretty: true, // boolean, false by default
      }
    }

SVGO has a plugin-based architecture, so almost every optimization is a separate plugin. There is a set of [built-in plugins](#built-in-plugins). See how to configure them:

    module.exports = {
      plugins: [
        // enable a built-in plugin by name
        'builtinPluginName',
        // or by expanded version
        {
          name: 'builtinPluginName'
        },
        // some plugins allow/require to pass options
        {
          name: 'builtinPluginName',
          params: {
            optionName: 'optionValue'
          }
        }
      ]
    }

The default list is fully overridden if the `plugins` field is specified. To extend the default list use the `extendDefaultPlugins` utility:

    const { extendDefaultPlugins } = require('svgo');
    module.exports = {
      plugins: extendDefaultPlugins([
        {
          name: 'builtinPluginName',
          params: {
            optionName: 'optionValue'
          }
        }
      ])
    }

To disable one of the default plugins use the `active` field:

    const { extendDefaultPlugins } = require('svgo');
    module.exports = {
      plugins: extendDefaultPlugins([
        {
          name: 'builtinPluginName',
          active: false
        }
      ])
    }

See the list of the default plugins:

    module.exports = {
      plugins: [
        'removeDoctype',
        'removeXMLProcInst',
        'removeComments',
        'removeMetadata',
        'removeEditorsNSData',
        'cleanupAttrs',
        'mergeStyles',
        'inlineStyles',
        'minifyStyles',
        'cleanupIDs',
        'removeUselessDefs',
        'cleanupNumericValues',
        'convertColors',
        'removeUnknownsAndDefaults',
        'removeNonInheritableGroupAttrs',
        'removeUselessStrokeAndFill',
        'removeViewBox',
        'cleanupEnableBackground',
        'removeHiddenElems',
        'removeEmptyText',
        'convertShapeToPath',
        'convertEllipseToCircle',
        'moveElemsAttrsToGroup',
        'moveGroupAttrsToElems',
        'collapseGroups',
        'convertPathData',
        'convertTransform',
        'removeEmptyAttrs',
        'removeEmptyContainers',
        'mergePaths',
        'removeUnusedNS',
        'sortDefsChildren',
        'removeTitle',
        'removeDesc'
      ]
    }

It’s also possible to specify a custom plugin:

    const anotherCustomPlugin = require('./another-custom-plugin.js')
    module.exports = {
      plugins: [
        {
          name: 'customPluginName',
          type: 'perItem', // 'perItem', 'perItemReverse' or 'full'
          params: {
            optionName: 'optionValue',
          },
          fn: (ast, params, info) => {}
        },
        anotherCustomPlugin
      ]
    }

API usage
---------

SVGO provides a few low level utilities. `extendDefaultPlugins` is described above.

### optimize

The core of SVGO is `optimize` function.

    const { optimize } = require('svgo');
    const result = optimize(svgString, {
      // optional but recommended field
      path: 'path-to.svg',
      // all config fields are also available here
      multipass: true
    })
    const optimizedSvgString = result.data

### loadConfig

If you write a tool on top of SVGO you might need a way to load SVGO config.

    const { loadConfig } = require('svgo');
    const config = await loadConfig()

    // you can also specify a relative or absolute path and customize the current working directory
    const config = await loadConfig(configFile, cwd)

Built-in plugins
----------------

<table style="width:99%;"><colgroup><col style="width: 25%" /><col style="width: 45%" /><col style="width: 28%" /></colgroup><thead><tr class="header"><th>Plugin</th><th>Description</th><th>Default</th></tr></thead><tbody><tr class="odd"><td><a href="https://github.com/svg/svgo/blob/master/plugins/cleanupAttrs.js">cleanupAttrs</a></td><td>cleanup attributes from newlines, trailing, and repeating spaces</td><td><code>enabled</code></td></tr><tr class="even"><td><a href="https://github.com/svg/svgo/blob/master/plugins/mergeStyles.js">mergeStyles</a></td><td>merge multiple style elements into one</td><td><code>enabled</code></td></tr><tr class="odd"><td><a href="https://github.com/svg/svgo/blob/master/plugins/inlineStyles.js">inlineStyles</a></td><td>move and merge styles from <code>&lt;style&gt;</code> elements to element <code>style</code> attributes</td><td><code>enabled</code></td></tr><tr class="even"><td><a href="https://github.com/svg/svgo/blob/master/plugins/removeDoctype.js">removeDoctype</a></td><td>remove <code>doctype</code> declaration</td><td><code>enabled</code></td></tr><tr class="odd"><td><a href="https://github.com/svg/svgo/blob/master/plugins/removeXMLProcInst.js">removeXMLProcInst</a></td><td>remove XML processing instructions</td><td><code>enabled</code></td></tr><tr class="even"><td><a href="https://github.com/svg/svgo/blob/master/plugins/removeComments.js">removeComments</a></td><td>remove comments</td><td><code>enabled</code></td></tr><tr class="odd"><td><a href="https://github.com/svg/svgo/blob/master/plugins/removeMetadata.js">removeMetadata</a></td><td>remove <code>&lt;metadata&gt;</code></td><td><code>enabled</code></td></tr><tr class="even"><td><a href="https://github.com/svg/svgo/blob/master/plugins/removeTitle.js">removeTitle</a></td><td>remove <code>&lt;title&gt;</code></td><td><code>enabled</code></td></tr><tr class="odd"><td><a href="https://github.com/svg/svgo/blob/master/plugins/removeDesc.js">removeDesc</a></td><td>remove <code>&lt;desc&gt;</code></td><td><code>enabled</code></td></tr><tr class="even"><td><a href="https://github.com/svg/svgo/blob/master/plugins/removeUselessDefs.js">removeUselessDefs</a></td><td>remove elements of <code>&lt;defs&gt;</code> without <code>id</code></td><td><code>enabled</code></td></tr><tr class="odd"><td><a href="https://github.com/svg/svgo/blob/master/plugins/removeXMLNS.js">removeXMLNS</a></td><td>removes the <code>xmlns</code> attribute (for inline SVG)</td><td><code>disabled</code></td></tr><tr class="even"><td><a href="https://github.com/svg/svgo/blob/master/plugins/removeEditorsNSData.js">removeEditorsNSData</a></td><td>remove editors namespaces, elements, and attributes</td><td><code>enabled</code></td></tr><tr class="odd"><td><a href="https://github.com/svg/svgo/blob/master/plugins/removeEmptyAttrs.js">removeEmptyAttrs</a></td><td>remove empty attributes</td><td><code>enabled</code></td></tr><tr class="even"><td><a href="https://github.com/svg/svgo/blob/master/plugins/removeHiddenElems.js">removeHiddenElems</a></td><td>remove hidden elements</td><td><code>enabled</code></td></tr><tr class="odd"><td><a href="https://github.com/svg/svgo/blob/master/plugins/removeEmptyText.js">removeEmptyText</a></td><td>remove empty Text elements</td><td><code>enabled</code></td></tr><tr class="even"><td><a href="https://github.com/svg/svgo/blob/master/plugins/removeEmptyContainers.js">removeEmptyContainers</a></td><td>remove empty Container elements</td><td><code>enabled</code></td></tr><tr class="odd"><td><a href="https://github.com/svg/svgo/blob/master/plugins/removeViewBox.js">removeViewBox</a></td><td>remove <code>viewBox</code> attribute when possible</td><td><code>enabled</code></td></tr><tr class="even"><td><a href="https://github.com/svg/svgo/blob/master/plugins/cleanupEnableBackground.js">cleanupEnableBackground</a></td><td>remove or cleanup <code>enable-background</code> attribute when possible</td><td><code>enabled</code></td></tr><tr class="odd"><td><a href="https://github.com/svg/svgo/blob/master/plugins/minifyStyles.js">minifyStyles</a></td><td>minify <code>&lt;style&gt;</code> elements content with <a href="https://github.com/css/csso">CSSO</a></td><td><code>enabled</code></td></tr><tr class="even"><td><a href="https://github.com/svg/svgo/blob/master/plugins/convertStyleToAttrs.js">convertStyleToAttrs</a></td><td>convert styles into attributes</td><td><code>enabled</code></td></tr><tr class="odd"><td><a href="https://github.com/svg/svgo/blob/master/plugins/convertColors.js">convertColors</a></td><td>convert colors (from <code>rgb()</code> to <code>#rrggbb</code>, from <code>#rrggbb</code> to <code>#rgb</code>)</td><td><code>enabled</code></td></tr><tr class="even"><td><a href="https://github.com/svg/svgo/blob/master/plugins/convertPathData.js">convertPathData</a></td><td>convert Path data to relative or absolute (whichever is shorter), convert one segment to another, trim useless delimiters, smart rounding, and much more</td><td><code>enabled</code></td></tr><tr class="odd"><td><a href="https://github.com/svg/svgo/blob/master/plugins/convertTransform.js">convertTransform</a></td><td>collapse multiple transforms into one, convert matrices to the short aliases, and much more</td><td><code>enabled</code></td></tr><tr class="even"><td><a href="https://github.com/svg/svgo/blob/master/plugins/removeUnknownsAndDefaults.js">removeUnknownsAndDefaults</a></td><td>remove unknown elements content and attributes, remove attributes with default values</td><td><code>enabled</code></td></tr><tr class="odd"><td><a href="https://github.com/svg/svgo/blob/master/plugins/removeNonInheritableGroupAttrs.js">removeNonInheritableGroupAttrs</a></td><td>remove non-inheritable group’s “presentation” attributes</td><td><code>enabled</code></td></tr><tr class="even"><td><a href="https://github.com/svg/svgo/blob/master/plugins/removeUselessStrokeAndFill.js">removeUselessStrokeAndFill</a></td><td>remove useless <code>stroke</code> and <code>fill</code> attributes</td><td><code>enabled</code></td></tr><tr class="odd"><td><a href="https://github.com/svg/svgo/blob/master/plugins/removeUnusedNS.js">removeUnusedNS</a></td><td>remove unused namespaces declaration</td><td><code>enabled</code></td></tr><tr class="even"><td><a href="https://github.com/svg/svgo/blob/master/plugins/prefixIds.js">prefixIds</a></td><td>prefix IDs and classes with the SVG filename or an arbitrary string</td><td><code>disabled</code></td></tr><tr class="odd"><td><a href="https://github.com/svg/svgo/blob/master/plugins/cleanupIDs.js">cleanupIDs</a></td><td>remove unused and minify used IDs</td><td><code>enabled</code></td></tr><tr class="even"><td><a href="https://github.com/svg/svgo/blob/master/plugins/cleanupNumericValues.js">cleanupNumericValues</a></td><td>round numeric values to the fixed precision, remove default <code>px</code> units</td><td><code>enabled</code></td></tr><tr class="odd"><td><a href="https://github.com/svg/svgo/blob/master/plugins/cleanupListOfValues.js">cleanupListOfValues</a></td><td>round numeric values in attributes that take a list of numbers (like <code>viewBox</code> or <code>enable-background</code>)</td><td><code>disabled</code></td></tr><tr class="even"><td><a href="https://github.com/svg/svgo/blob/master/plugins/moveElemsAttrsToGroup.js">moveElemsAttrsToGroup</a></td><td>move elements’ attributes to their enclosing group</td><td><code>enabled</code></td></tr><tr class="odd"><td><a href="https://github.com/svg/svgo/blob/master/plugins/moveGroupAttrsToElems.js">moveGroupAttrsToElems</a></td><td>move some group attributes to the contained elements</td><td><code>enabled</code></td></tr><tr class="even"><td><a href="https://github.com/svg/svgo/blob/master/plugins/collapseGroups.js">collapseGroups</a></td><td>collapse useless groups</td><td><code>enabled</code></td></tr><tr class="odd"><td><a href="https://github.com/svg/svgo/blob/master/plugins/removeRasterImages.js">removeRasterImages</a></td><td>remove raster images</td><td><code>disabled</code></td></tr><tr class="even"><td><a href="https://github.com/svg/svgo/blob/master/plugins/mergePaths.js">mergePaths</a></td><td>merge multiple Paths into one</td><td><code>enabled</code></td></tr><tr class="odd"><td><a href="https://github.com/svg/svgo/blob/master/plugins/convertShapeToPath.js">convertShapeToPath</a></td><td>convert some basic shapes to <code>&lt;path&gt;</code></td><td><code>enabled</code></td></tr><tr class="even"><td><a href="https://github.com/svg/svgo/blob/master/plugins/convertEllipseToCircle.js">convertEllipseToCircle</a></td><td>convert non-eccentric <code>&lt;ellipse&gt;</code> to <code>&lt;circle&gt;</code></td><td><code>enabled</code></td></tr><tr class="odd"><td><a href="https://github.com/svg/svgo/blob/master/plugins/sortAttrs.js">sortAttrs</a></td><td>sort element attributes for epic readability</td><td><code>disabled</code></td></tr><tr class="even"><td><a href="https://github.com/svg/svgo/blob/master/plugins/sortDefsChildren.js">sortDefsChildren</a></td><td>sort children of <code>&lt;defs&gt;</code> in order to improve compression</td><td><code>enabled</code></td></tr><tr class="odd"><td><a href="https://github.com/svg/svgo/blob/master/plugins/removeDimensions.js">removeDimensions</a></td><td>remove <code>width</code>/<code>height</code> and add <code>viewBox</code> if it’s missing (opposite to removeViewBox, disable it first)</td><td><code>disabled</code></td></tr><tr class="even"><td><a href="https://github.com/svg/svgo/blob/master/plugins/removeAttrs.js">removeAttrs</a></td><td>remove attributes by pattern</td><td><code>disabled</code></td></tr><tr class="odd"><td><a href="https://github.com/svg/svgo/blob/master/plugins/removeAttributesBySelector.js">removeAttributesBySelector</a></td><td>removes attributes of elements that match a CSS selector</td><td><code>disabled</code></td></tr><tr class="even"><td><a href="https://github.com/svg/svgo/blob/master/plugins/removeElementsByAttr.js">removeElementsByAttr</a></td><td>remove arbitrary elements by <code>ID</code> or <code>className</code></td><td><code>disabled</code></td></tr><tr class="odd"><td><a href="https://github.com/svg/svgo/blob/master/plugins/addClassesToSVGElement.js">addClassesToSVGElement</a></td><td>add classnames to an outer <code>&lt;svg&gt;</code> element</td><td><code>disabled</code></td></tr><tr class="even"><td><a href="https://github.com/svg/svgo/blob/master/plugins/addAttributesToSVGElement.js">addAttributesToSVGElement</a></td><td>adds attributes to an outer <code>&lt;svg&gt;</code> element</td><td><code>disabled</code></td></tr><tr class="odd"><td><a href="https://github.com/svg/svgo/blob/master/plugins/removeOffCanvasPaths.js">removeOffCanvasPaths</a></td><td>removes elements that are drawn outside of the viewbox</td><td><code>disabled</code></td></tr><tr class="even"><td><a href="https://github.com/svg/svgo/blob/master/plugins/removeStyleElement.js">removeStyleElement</a></td><td>remove <code>&lt;style&gt;</code> elements</td><td><code>disabled</code></td></tr><tr class="odd"><td><a href="https://github.com/svg/svgo/blob/master/plugins/removeScriptElement.js">removeScriptElement</a></td><td>remove <code>&lt;script&gt;</code> elements</td><td><code>disabled</code></td></tr><tr class="even"><td><a href="https://github.com/svg/svgo/blob/master/plugins/reusePaths.js">reusePaths</a></td><td>Find duplicated elements and replace them with links</td><td><code>disabled</code></td></tr></tbody></table>

Other Ways to Use SVGO
----------------------

-   as a web app – [SVGOMG](https://jakearchibald.github.io/svgomg/)
-   as a GitHub Action – [SVGO Action](https://github.com/marketplace/actions/svgo-action)
-   as a Node.js module – [examples](https://github.com/svg/svgo/tree/master/examples)
-   as a Grunt task – [grunt-svgmin](https://github.com/sindresorhus/grunt-svgmin)
-   as a Gulp task – [gulp-svgmin](https://github.com/ben-eb/gulp-svgmin)
-   as a Mimosa module – [mimosa-minify-svg](https://github.com/dbashford/mimosa-minify-svg)
-   as an OSX Folder Action – [svgo-osx-folder-action](https://github.com/svg/svgo-osx-folder-action)
-   as a webpack loader – [image-webpack-loader](https://github.com/tcoopman/image-webpack-loader)
-   as a Telegram Bot – [svgo\_bot](https://github.com/maksugr/svgo_bot)
-   as a PostCSS plugin – [postcss-svgo](https://github.com/ben-eb/postcss-svgo)
-   as an Inkscape plugin – [inkscape-svgo](https://github.com/konsumer/inkscape-svgo)
-   as a Sketch plugin - [svgo-compressor](https://github.com/BohemianCoding/svgo-compressor)
-   as macOS app - [Image Shrinker](https://image-shrinker.com)
-   as a Rollup plugin - [rollup-plugin-svgo](https://github.com/porsager/rollup-plugin-svgo)
-   as a VS Code plugin - [vscode-svgo](https://github.com/1000ch/vscode-svgo)
-   as a Atom plugin - [atom-svgo](https://github.com/1000ch/atom-svgo)
-   as a Sublime plugin - [Sublime-svgo](https://github.com/1000ch/Sublime-svgo)
-   as a Figma plugin - [Advanced SVG Export](https://www.figma.com/c/plugin/782713260363070260/Advanced-SVG-Export)

Donators
--------

<table><thead><tr class="header"><th style="text-align: center;"><a href="https://sheetjs.com/"><img src="https://sheetjs.com/sketch128.png" width="80" /></a></th><th style="text-align: center;"><a href="https://fontello.com/"><img src="https://raw.githubusercontent.com/fontello/fontello/master/fontello-image.svg" width="80" /></a></th></tr></thead><tbody><tr class="odd"><td style="text-align: center;"><a href="https://sheetjs.com/">SheetJS LLC</a></td><td style="text-align: center;"><a href="https://fontello.com/">Fontello</a></td></tr></tbody></table>

License and Copyright
---------------------

This software is released under the terms of the [MIT license](https://github.com/svg/svgo/blob/master/LICENSE).

Logo by [André Castillo](https://github.com/DerianAndre).
