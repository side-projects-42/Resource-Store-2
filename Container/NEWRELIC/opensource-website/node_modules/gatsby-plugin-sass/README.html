<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="gatsby-plugin-sass">gatsby-plugin-sass</h1>
<p>Provides drop-in support for Sass/SCSS stylesheets</p>
<h2 id="install">Install</h2>
<p><code>npm install sass gatsby-plugin-sass</code></p>
<h2 id="how-to-use">How to use</h2>
<ol type="1">
<li>Include the plugin in your <code>gatsby-config.js</code> file.</li>
</ol>
<div class="sourceCode" id="cb1"><pre class="sourceCode javascript:title=gatsby-config.js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1">plugins<span class="op">:</span> [<span class="vs">`gatsby-plugin-sass`</span>]</a></code></pre></div>
<ol start="2" type="1">
<li>Write your stylesheets in Sass/SCSS and require or import them as normal.</li>
</ol>
<pre class="scss:title=src/index.scss"><code>html {
  background-color: rebeccapurple;
  p {
    color: white;
  }
}</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode javascript:title=gatsby-browser.js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="im">import</span> <span class="st">&quot;./src/index.scss&quot;</span></a></code></pre></div>
<h2 id="other-options">Other options</h2>
<p>If you need to pass options to Sass use the plugins options, see <a href="https://github.com/sass/node-sass"><code>node-sass</code></a>/<a href="https://github.com/sass/dart-sass"><code>dart-sass</code></a> docs for all available options.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode javascript:title=gatsby-config.js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1">plugins<span class="op">:</span> [</a>
<a class="sourceLine" id="cb4-2" title="2">  <span class="op">{</span></a>
<a class="sourceLine" id="cb4-3" title="3">    <span class="dt">resolve</span><span class="op">:</span> <span class="vs">`gatsby-plugin-sass`</span><span class="op">,</span></a>
<a class="sourceLine" id="cb4-4" title="4">    <span class="dt">options</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-5" title="5">      <span class="dt">sassOptions</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-6" title="6">        <span class="dt">includePaths</span><span class="op">:</span> [<span class="st">&quot;absolute/path/a&quot;</span><span class="op">,</span> <span class="st">&quot;absolute/path/b&quot;</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb4-7" title="7">        ...</a>
<a class="sourceLine" id="cb4-8" title="8">      <span class="op">}</span></a>
<a class="sourceLine" id="cb4-9" title="9">    <span class="op">},</span></a>
<a class="sourceLine" id="cb4-10" title="10">  <span class="op">},</span></a>
<a class="sourceLine" id="cb4-11" title="11">]</a></code></pre></div>
<p>If you need to override the default options passed into <a href="https://github.com/webpack-contrib/css-loader"><code>css-loader</code></a>. <strong>Note:</strong> Gatsby is using <code>css-loader@^5.0.0</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode javascript:title=gatsby-config.js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1">plugins<span class="op">:</span> [</a>
<a class="sourceLine" id="cb5-2" title="2">  <span class="op">{</span></a>
<a class="sourceLine" id="cb5-3" title="3">    <span class="dt">resolve</span><span class="op">:</span> <span class="vs">`gatsby-plugin-sass`</span><span class="op">,</span></a>
<a class="sourceLine" id="cb5-4" title="4">    <span class="dt">options</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb5-5" title="5">      <span class="dt">cssLoaderOptions</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb5-6" title="6">        <span class="dt">camelCase</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></a>
<a class="sourceLine" id="cb5-7" title="7">      <span class="op">},</span></a>
<a class="sourceLine" id="cb5-8" title="8">    <span class="op">},</span></a>
<a class="sourceLine" id="cb5-9" title="9">  <span class="op">},</span></a>
<a class="sourceLine" id="cb5-10" title="10">]</a></code></pre></div>
<h3 id="alternative-sass-implementations">Alternative Sass Implementations</h3>
<p>By default, the Dart implementation of Sass (<code>sass</code>) is used. To use the implementation written in Node (<code>node-sass</code>), you can install <code>node-sass</code> instead of <code>sass</code> and pass it into the options as the implementation:</p>
<pre class="shell"><code>npm install node-sass</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode javascript:title=gatsby-config.js"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1">plugins<span class="op">:</span> [</a>
<a class="sourceLine" id="cb7-2" title="2">  <span class="op">{</span></a>
<a class="sourceLine" id="cb7-3" title="3">    <span class="dt">resolve</span><span class="op">:</span> <span class="vs">`gatsby-plugin-sass`</span><span class="op">,</span></a>
<a class="sourceLine" id="cb7-4" title="4">    <span class="dt">options</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb7-5" title="5">      <span class="dt">implementation</span><span class="op">:</span> <span class="at">require</span>(<span class="st">&quot;node-sass&quot;</span>)<span class="op">,</span></a>
<a class="sourceLine" id="cb7-6" title="6">    <span class="op">},</span></a>
<a class="sourceLine" id="cb7-7" title="7">  <span class="op">},</span></a>
<a class="sourceLine" id="cb7-8" title="8">]</a></code></pre></div>
<h3 id="sass-precision">Sass Precision</h3>
<p><code>sass</code> intentionally doesn’t have support for setting a custom <code>precision</code>. <code>node-sass</code> defaults to <a href="https://github.com/sass/node-sass#precision">5 digits of precision</a>. If you want some other level of precision (e.g. if you use Bootstrap), you may configure it as follows:</p>
<h4 id="bootstrap-4">Bootstrap 4</h4>
<p>See <a href="https://getbootstrap.com/docs/4.3/getting-started/theming/#sass">Bootstrap’s documentation on theming</a> for reference.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode javascript:title=gatsby-config.js"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1">plugins<span class="op">:</span> [</a>
<a class="sourceLine" id="cb8-2" title="2">  <span class="op">{</span></a>
<a class="sourceLine" id="cb8-3" title="3">    <span class="dt">resolve</span><span class="op">:</span> <span class="vs">`gatsby-plugin-sass`</span><span class="op">,</span></a>
<a class="sourceLine" id="cb8-4" title="4">    <span class="dt">options</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb8-5" title="5">      <span class="dt">implementation</span><span class="op">:</span> <span class="at">require</span>(<span class="st">&quot;node-sass&quot;</span>)<span class="op">,</span></a>
<a class="sourceLine" id="cb8-6" title="6">      <span class="dt">postCssPlugins</span><span class="op">:</span> [<span class="at">somePostCssPlugin</span>()]<span class="op">,</span></a>
<a class="sourceLine" id="cb8-7" title="7">      <span class="dt">sassOptions</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb8-8" title="8">        <span class="dt">precision</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span></a>
<a class="sourceLine" id="cb8-9" title="9">      <span class="op">},</span></a>
<a class="sourceLine" id="cb8-10" title="10">    <span class="op">},</span></a>
<a class="sourceLine" id="cb8-11" title="11">  <span class="op">},</span></a>
<a class="sourceLine" id="cb8-12" title="12">]</a></code></pre></div>
<h4 id="bootstrap-3-with-bootstrap-sass">Bootstrap 3 (with <code>bootstrap-sass</code>)</h4>
<p>See <a href="https://github.com/twbs/bootstrap-sass/blob/master/README.md#sass-number-precision"><code>bootstrap-sass</code></a> for reference.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode javascript:title=gatsby-config.js"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1">plugins<span class="op">:</span> [</a>
<a class="sourceLine" id="cb9-2" title="2">  <span class="op">{</span></a>
<a class="sourceLine" id="cb9-3" title="3">    <span class="dt">resolve</span><span class="op">:</span> <span class="vs">`gatsby-plugin-sass`</span><span class="op">,</span></a>
<a class="sourceLine" id="cb9-4" title="4">    <span class="dt">options</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb9-5" title="5">      <span class="dt">implementation</span><span class="op">:</span> <span class="at">require</span>(<span class="st">&quot;node-sass&quot;</span>)<span class="op">,</span></a>
<a class="sourceLine" id="cb9-6" title="6">      <span class="dt">postCssPlugins</span><span class="op">:</span> [<span class="at">somePostCssPlugin</span>()]<span class="op">,</span></a>
<a class="sourceLine" id="cb9-7" title="7">      <span class="dt">sassOptions</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb9-8" title="8">        <span class="dt">precision</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span></a>
<a class="sourceLine" id="cb9-9" title="9">      <span class="op">},</span></a>
<a class="sourceLine" id="cb9-10" title="10">    <span class="op">},</span></a>
<a class="sourceLine" id="cb9-11" title="11">  <span class="op">},</span></a>
<a class="sourceLine" id="cb9-12" title="12">]</a></code></pre></div>
<h3 id="with-css-modules">With CSS Modules</h3>
<p>Using CSS Modules requires no additional configuration. Simply prepend <code>.module</code> to the extension. For example: <code>app.scss</code> -&gt; <code>app.module.scss</code>. Any file with the <code>module</code> extension will use CSS Modules. CSS modules are imported as ES Modules to support treeshaking. You’ll need to import styles as: <code>import { yourClassName, anotherClassName } from './app.module.scss'</code></p>
<h2 id="sass-css-modules-file-regexes">Sass &amp; CSS Modules file Regexes</h2>
<p>To override the file regex for Sass or CSS modules,</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode javascript:title=gatsby-config.js"><code class="sourceCode javascript"><a class="sourceLine" id="cb10-1" title="1">plugins<span class="op">:</span> [</a>
<a class="sourceLine" id="cb10-2" title="2">  <span class="op">{</span></a>
<a class="sourceLine" id="cb10-3" title="3">    <span class="dt">resolve</span><span class="op">:</span> <span class="vs">`gatsby-plugin-sass`</span><span class="op">,</span></a>
<a class="sourceLine" id="cb10-4" title="4">    <span class="dt">options</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb10-5" title="5">      <span class="co">// Override the file regex for Sass</span></a>
<a class="sourceLine" id="cb10-6" title="6">      <span class="dt">sassRuleTest</span><span class="op">:</span> <span class="ss">/</span><span class="sc">\.</span><span class="ss">global</span><span class="sc">\.</span><span class="ss">s</span><span class="sc">(</span><span class="ss">a</span><span class="sc">|</span><span class="ss">c</span><span class="sc">)</span><span class="ss">ss</span><span class="sc">$</span><span class="ss">/</span><span class="op">,</span></a>
<a class="sourceLine" id="cb10-7" title="7">      <span class="co">// Override the file regex for CSS modules</span></a>
<a class="sourceLine" id="cb10-8" title="8">      <span class="dt">sassRuleModulesTest</span><span class="op">:</span> <span class="ss">/</span><span class="sc">\.</span><span class="ss">mod</span><span class="sc">\.</span><span class="ss">s</span><span class="sc">(</span><span class="ss">a</span><span class="sc">|</span><span class="ss">c</span><span class="sc">)</span><span class="ss">ss</span><span class="sc">$</span><span class="ss">/</span><span class="op">,</span></a>
<a class="sourceLine" id="cb10-9" title="9">    <span class="op">},</span></a>
<a class="sourceLine" id="cb10-10" title="10">  <span class="op">},</span></a>
<a class="sourceLine" id="cb10-11" title="11">]</a></code></pre></div>
<h3 id="postcss-plugins">PostCSS plugins</h3>
<p>PostCSS is also included to handle some default optimizations like autoprefixing and common cross-browser flexbox bugs. Normally you don’t need to think about it, but if you’d prefer to add additional postprocessing to your Sass output you can specify plugins in the plugin options.</p>
<h2 id="relative-paths-url">Relative paths &amp; <code>url()</code></h2>
<p>This plugin resolves <code>url()</code> paths relative to the entry SCSS/Sass file not – as might be expected – the location relative to the declaration. Under the hood, it makes use of <a href="https://github.com/webpack-contrib/sass-loader/blob/master/README.md#problems-with-url"><code>sass-loader</code></a> and this is documented in the <a href="https://github.com/webpack-contrib/sass-loader/blob/master/README.md#problems-with-url">readme</a>.</p>
<p>Using <a href="https://github.com/bholloway/resolve-url-loader"><code>resolve-url-loader</code></a> provides a workaround, if you want to use relative url just install the plugin and then add it to your Sass plugin options configuration.</p>
<p>First:</p>
<pre class="shell"><code>npm install resolve-url-loader --save-dev</code></pre>
<p>And then:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode javascript:title=gatsby-config.js"><code class="sourceCode javascript"><a class="sourceLine" id="cb12-1" title="1">plugins<span class="op">:</span> [</a>
<a class="sourceLine" id="cb12-2" title="2">  <span class="op">{</span></a>
<a class="sourceLine" id="cb12-3" title="3">    <span class="dt">resolve</span><span class="op">:</span> <span class="st">&quot;gatsby-plugin-sass&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb12-4" title="4">    <span class="dt">options</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb12-5" title="5">      <span class="dt">useResolveUrlLoader</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></a>
<a class="sourceLine" id="cb12-6" title="6">    <span class="op">},</span></a>
<a class="sourceLine" id="cb12-7" title="7">  <span class="op">},</span></a>
<a class="sourceLine" id="cb12-8" title="8">]</a></code></pre></div>
<p>You can also configure <code>resolve-url-plugin</code> providing some options (see <a href="https://github.com/bholloway/resolve-url-loader">plugin documentation</a> for all options):</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode javascript:title=gatsby-config.js"><code class="sourceCode javascript"><a class="sourceLine" id="cb13-1" title="1">plugins<span class="op">:</span> [</a>
<a class="sourceLine" id="cb13-2" title="2">  <span class="op">{</span></a>
<a class="sourceLine" id="cb13-3" title="3">    <span class="dt">resolve</span><span class="op">:</span> <span class="st">&quot;gatsby-plugin-sass&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb13-4" title="4">    <span class="dt">options</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb13-5" title="5">      <span class="dt">useResolveUrlLoader</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb13-6" title="6">        <span class="dt">options</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb13-7" title="7">          <span class="dt">debug</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></a>
<a class="sourceLine" id="cb13-8" title="8">        <span class="op">},</span></a>
<a class="sourceLine" id="cb13-9" title="9">      <span class="op">},</span></a>
<a class="sourceLine" id="cb13-10" title="10">    <span class="op">},</span></a>
<a class="sourceLine" id="cb13-11" title="11">  <span class="op">},</span></a>
<a class="sourceLine" id="cb13-12" title="12">]</a></code></pre></div>
<p><strong>Please note:</strong> Adding <code>resolve-url-loader</code> will use <code>sourceMap: true</code> on <code>sass-loader</code> (as it is required for the plugin to work), you can then activate/deactivate source-map for Sass files in the plugin:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode javascript:title=gatsby-config.js"><code class="sourceCode javascript"><a class="sourceLine" id="cb14-1" title="1">plugins<span class="op">:</span> [</a>
<a class="sourceLine" id="cb14-2" title="2">  <span class="op">{</span></a>
<a class="sourceLine" id="cb14-3" title="3">    <span class="dt">resolve</span><span class="op">:</span> <span class="st">&quot;gatsby-plugin-sass&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb14-4" title="4">    <span class="dt">options</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb14-5" title="5">      <span class="dt">useResolveUrlLoader</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb14-6" title="6">        <span class="dt">options</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb14-7" title="7">          <span class="dt">sourceMap</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span> <span class="co">//default is false</span></a>
<a class="sourceLine" id="cb14-8" title="8">        <span class="op">},</span></a>
<a class="sourceLine" id="cb14-9" title="9">      <span class="op">},</span></a>
<a class="sourceLine" id="cb14-10" title="10">    <span class="op">},</span></a>
<a class="sourceLine" id="cb14-11" title="11">  <span class="op">},</span></a>
<a class="sourceLine" id="cb14-12" title="12">]</a></code></pre></div>
<h2 id="breaking-changes-history">Breaking changes history</h2>
<!-- Please keep the breaking changes list ordered with the newest change at the top -->
<h3 id="v3.0.0">v3.0.0</h3>
<ul>
<li><code>sass-loader</code> is updated to v10 which adds support for <code>node-sass@^5.0.0</code> but also switches the default <code>implementation</code> to <code>sass</code>. webpack also recommends using <code>sass</code> so this is reflected in the documentation here, too. In the <a href="https://sass-lang.com/blog/libsass-is-deprecated#how-do-i-migrate">deprecation notice of node-sass</a> it is noted that switching from <code>node-sass</code> to <code>sass</code> is straightforward as both packages use the same JavaScript API.</li>
<li>All options for both <a href="https://github.com/sass/node-sass#options"><code>node-sass</code></a> &amp; <a href="https://github.com/sass/dart-sass/blob/master/README.md#javascript-api"><code>sass</code></a> are moved into the <code>sassOptions</code> object</li>
<li>You’re now able to override the <code>importLoaders</code> option. If you have this in your options but don’t intend to override it, you’ll need to remove it</li>
</ul>
<h3 id="v2.0.0">v2.0.0</h3>
<ul>
<li><p><code>node-sass</code> is moved to a peer dependency. Installing the package alongside <code>gatsby-plugin-sass</code> is now required. Use <code>npm install node-sass</code></p></li>
<li><p>support Gatsby v2 only</p></li>
</ul>
</body>
</html>
