mdast-util-to-nlcst
===================

[![Build](https://img.shields.io/travis/syntax-tree/mdast-util-to-nlcst.svg)](https://travis-ci.org/syntax-tree/mdast-util-to-nlcst) [![Coverage](https://img.shields.io/codecov/c/github/syntax-tree/mdast-util-to-nlcst.svg)](https://codecov.io/github/syntax-tree/mdast-util-to-nlcst) [![Downloads](https://img.shields.io/npm/dm/mdast-util-to-nlcst.svg)](https://www.npmjs.com/package/mdast-util-to-nlcst) [![Size](https://img.shields.io/bundlephobia/minzip/mdast-util-to-nlcst.svg)](https://bundlephobia.com/result?p=mdast-util-to-nlcst) [![Sponsors](https://opencollective.com/unified/sponsors/badge.svg)](https://opencollective.com/unified) [![Backers](https://opencollective.com/unified/backers/badge.svg)](https://opencollective.com/unified) [![Chat](https://img.shields.io/badge/join%20the%20community-on%20spectrum-7b16ff.svg)](https://spectrum.chat/unified/syntax-tree)

[**mdast**](https://github.com/syntax-tree/mdast) utility to transform to [**nlcst**](https://github.com/syntax-tree/nlcst).

> **Note**: You probably want to use [`remark-retext`](https://github.com/remarkjs/remark-retext).

Install
-------

[npm](https://docs.npmjs.com/cli/install):

    npm install mdast-util-to-nlcst

Usage
-----

    var toNLCST = require('mdast-util-to-nlcst')
    var inspect = require('unist-util-inspect')
    var English = require('parse-english')
    var remark = require('remark')
    var vfile = require('vfile')

    var file = vfile('Some *foo*sball.')
    var tree = remark().parse(file)

    var nlcst = toNLCST(tree, file, English)

    console.log(inspect(nlcst))

Yields:

    RootNode[1] (1:1-1:17, 0-16)
    └─ ParagraphNode[1] (1:1-1:17, 0-16)
       └─ SentenceNode[4] (1:1-1:17, 0-16)
          ├─ WordNode[1] (1:1-1:5, 0-4)
          │  └─ TextNode: "Some" (1:1-1:5, 0-4)
          ├─ WhiteSpaceNode: " " (1:5-1:6, 4-5)
          ├─ WordNode[2] (1:7-1:16, 6-15)
          │  ├─ TextNode: "foo" (1:7-1:10, 6-9)
          │  └─ TextNode: "sball" (1:11-1:16, 10-15)
          └─ PunctuationNode: "." (1:16-1:17, 15-16)

API
---

### `toNlcst(tree, file, Parser[, options])`

Transform a [tree](https://github.com/syntax-tree/unist#tree) in [mdast](https://github.com/syntax-tree/mdast), with a corresponding [virtual file](https://github.com/vfile/vfile), into [nlcst](https://github.com/syntax-tree/nlcst).

##### Parameters

###### `node`

Tree in [mdast](https://github.com/syntax-tree/mdast) with positional information ([`MdastNode`](https://github.com/syntax-tree/mdast#nodes)).

###### `file`

Virtual file ([`VFile`](https://github.com/vfile/vfile)).

###### `parser`

[nlcst](https://github.com/syntax-tree/nlcst) parser (`Function`). For example, [`parse-english`](https://github.com/wooorm/parse-english), [`parse-dutch`](https://github.com/wooorm/parse-dutch), or [`parse-latin`](https://github.com/wooorm/parse-latin).

###### `options.ignore`

List of [types](https://github.com/syntax-tree/mdast#ast) to ignore (`Array.<string>`).

`'table'`, `'tableRow'`, and `'tableCell'` are always ignored.

###### `options.source`

List of [types](https://github.com/syntax-tree/mdast#ast) to mark as [source](https://github.com/syntax-tree/nlcst#source) (`Array.<string>`).

`'inlineCode'` is always marked as source.

##### Returns

[`NlcstNode`](https://github.com/syntax-tree/nlcst#nodes).

##### Examples

###### `ignore`

Say we have the following file `example.md`:

    A paragraph.

    > A paragraph in a block quote.

…and if we now transform with `ignore: ['blockquote']`, we get:

    RootNode[2] (1:1-3:1, 0-14)
    ├─ ParagraphNode[1] (1:1-1:13, 0-12)
    │  └─ SentenceNode[4] (1:1-1:13, 0-12)
    │     ├─ WordNode[1] (1:1-1:2, 0-1)
    │     │  └─ TextNode: "A" (1:1-1:2, 0-1)
    │     ├─ WhiteSpaceNode: " " (1:2-1:3, 1-2)
    │     ├─ WordNode[1] (1:3-1:12, 2-11)
    │     │  └─ TextNode: "paragraph" (1:3-1:12, 2-11)
    │     └─ PunctuationNode: "." (1:12-1:13, 11-12)
    └─ WhiteSpaceNode: "\n\n" (1:13-3:1, 12-14)

###### `source`

Say we have the following file `example.md`:

    A paragraph.

    > A paragraph in a block quote.

…and if we now transform with `source: ['blockquote']`, we get:

    RootNode[3] (1:1-3:32, 0-45)
    ├─ ParagraphNode[1] (1:1-1:13, 0-12)
    │  └─ SentenceNode[4] (1:1-1:13, 0-12)
    │     ├─ WordNode[1] (1:1-1:2, 0-1)
    │     │  └─ TextNode: "A" (1:1-1:2, 0-1)
    │     ├─ WhiteSpaceNode: " " (1:2-1:3, 1-2)
    │     ├─ WordNode[1] (1:3-1:12, 2-11)
    │     │  └─ TextNode: "paragraph" (1:3-1:12, 2-11)
    │     └─ PunctuationNode: "." (1:12-1:13, 11-12)
    ├─ WhiteSpaceNode: "\n\n" (1:13-3:1, 12-14)
    └─ ParagraphNode[1] (3:1-3:32, 14-45)
       └─ SentenceNode[1] (3:1-3:32, 14-45)
          └─ SourceNode: "> A paragraph in a block quote." (3:1-3:32, 14-45)

Related
-------

-   [`remark-retext`](https://github.com/remarkjs/remark-retext) — **retext** support for **remark**
-   [`hast-util-to-nlcst`](https://github.com/syntax-tree/hast-util-to-nlcst) — Transform [hast](https://github.com/syntax-tree/hast) to [nlcst](https://github.com/syntax-tree/nlcst)
-   [`hast-util-to-mdast`](https://github.com/syntax-tree/hast-util-to-mdast) — Transform [hast](https://github.com/syntax-tree/hast) to [mdast](https://github.com/syntax-tree/mdast)
-   [`mdast-util-to-hast`](https://github.com/syntax-tree/mdast-util-to-hast) — Transform [mdast](https://github.com/syntax-tree/mdast) to [hast](https://github.com/syntax-tree/hast)

Contribute
----------

See [`contributing.md` in `syntax-tree/.github`](https://github.com/syntax-tree/.github/blob/master/contributing.md) for ways to get started. See [`support.md`](https://github.com/syntax-tree/.github/blob/master/support.md) for ways to get help.

This project has a [Code of Conduct](https://github.com/syntax-tree/.github/blob/master/code-of-conduct.md). By interacting with this repository, organisation, or community you agree to abide by its terms.

License
-------

[MIT](license) © [Titus Wormer](https://wooorm.com)
