<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>prefer-literal-enum-member</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="require-that-all-enum-members-be-literal-values-to-prevent-unintended-enum-member-name-shadow-issues-prefer-literal-enum-member">Require that all enum members be literal values to prevent unintended enum member name shadow issues (<code>prefer-literal-enum-member</code>)</h1>
<p>TypeScript allows the value of an enum member to be many different kinds of valid JavaScript expressions. However, because enums create their own scope whereby each enum member becomes a variable in that scope, unexpected values could be used at runtime. Example:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode ts"><code class="sourceCode typescript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">const</span> imOutside <span class="op">=</span> <span class="dv">2</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">const</span> b <span class="op">=</span> <span class="dv">2</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="kw">enum</span> Foo <span class="op">{</span></a>
<a class="sourceLine" id="cb1-4" title="4">  outer <span class="op">=</span> imOutside<span class="op">,</span></a>
<a class="sourceLine" id="cb1-5" title="5">  a <span class="op">=</span> <span class="dv">1</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-6" title="6">  b <span class="op">=</span> a<span class="op">,</span></a>
<a class="sourceLine" id="cb1-7" title="7">  c <span class="op">=</span> b<span class="op">,</span></a>
<a class="sourceLine" id="cb1-8" title="8">  <span class="co">// does c == Foo.b == Foo.c == 1?</span></a>
<a class="sourceLine" id="cb1-9" title="9">  <span class="co">// or does c == b == 2?</span></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="op">}</span></a></code></pre></div>
<p>The answer is that <code>Foo.c</code> will be <code>1</code> at runtime. The <a href="https://www.typescriptlang.org/play/#src=const%20imOutside%20%3D%202%3B%0D%0Aconst%20b%20%3D%202%3B%0D%0Aenum%20Foo%20%7B%0D%0A%20%20%20%20outer%20%3D%20imOutside%2C%0D%0A%20%20%20%20a%20%3D%201%2C%0D%0A%20%20%20%20b%20%3D%20a%2C%0D%0A%20%20%20%20c%20%3D%20b%2C%0D%0A%20%20%20%20%2F%2F%20does%20c%20%3D%3D%20Foo.b%20%3D%3D%20Foo.c%20%3D%3D%201%3F%0D%0A%20%20%20%20%2F%2F%20or%20does%20c%20%3D%3D%20b%20%3D%3D%202%3F%0D%0A%7D">playground</a> illustrates this quite nicely.</p>
<h2 id="rule-details">Rule Details</h2>
<p>This rule is meant to prevent unexpected results in code by requiring the use of literal values as enum members to prevent unexpected runtime behavior. Template literals, arrays, objects, constructors, and all other expression types can end up using a variable from its scope or the parent scope, which can result in the same unexpected behavior at runtime.</p>
<h2 id="options">Options</h2>
<ul>
<li><code>allowBitwiseExpressions</code> set to <code>true</code> will allow you to use bitwise expressions in enum initializer (Default: <code>false</code>).</li>
</ul>
<p>Examples of <strong>incorrect</strong> code for this rule:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode ts"><code class="sourceCode typescript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">const</span> str <span class="op">=</span> <span class="st">&#39;Test&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw">enum</span> Invalid <span class="op">{</span></a>
<a class="sourceLine" id="cb2-3" title="3">  A <span class="op">=</span> str<span class="op">,</span> <span class="co">// Variable assignment</span></a>
<a class="sourceLine" id="cb2-4" title="4">  B <span class="op">=</span> <span class="op">{},</span> <span class="co">// Object assignment</span></a>
<a class="sourceLine" id="cb2-5" title="5">  C <span class="op">=</span> <span class="vs">`A template literal string`</span><span class="op">,</span> <span class="co">// Template literal</span></a>
<a class="sourceLine" id="cb2-6" title="6">  D <span class="op">=</span> <span class="kw">new</span> <span class="bu">Set</span>(<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span>)<span class="op">,</span> <span class="co">// Constructor in assignment</span></a>
<a class="sourceLine" id="cb2-7" title="7">  E <span class="op">=</span> <span class="dv">2</span> <span class="op">+</span> <span class="dv">2</span><span class="op">,</span> <span class="co">// Expression assignment</span></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="op">}</span></a></code></pre></div>
<p>Examples of <strong>correct</strong> code for this rule:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode ts"><code class="sourceCode typescript"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">enum</span> Valid <span class="op">{</span></a>
<a class="sourceLine" id="cb3-2" title="2">  A<span class="op">,</span></a>
<a class="sourceLine" id="cb3-3" title="3">  B <span class="op">=</span> <span class="st">&#39;TestStr&#39;</span><span class="op">,</span> <span class="co">// A regular string</span></a>
<a class="sourceLine" id="cb3-4" title="4">  C <span class="op">=</span> <span class="dv">4</span><span class="op">,</span> <span class="co">// A number</span></a>
<a class="sourceLine" id="cb3-5" title="5">  D <span class="op">=</span> <span class="kw">null</span><span class="op">,</span></a>
<a class="sourceLine" id="cb3-6" title="6">  E <span class="op">=</span> <span class="ss">/some_regex/</span><span class="op">,</span></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="op">}</span></a></code></pre></div>
<h3 id="allowbitwiseexpressions"><code>allowBitwiseExpressions</code></h3>
<p>Examples of <strong>incorrect</strong> code for the <code>{ "allowBitwiseExpressions": true }</code> option:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode ts"><code class="sourceCode typescript"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">const</span> x <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">enum</span> Foo <span class="op">{</span></a>
<a class="sourceLine" id="cb4-3" title="3">  A <span class="op">=</span> x <span class="op">&lt;&lt;</span> <span class="dv">0</span><span class="op">,</span></a>
<a class="sourceLine" id="cb4-4" title="4">  B <span class="op">=</span> x <span class="op">&gt;&gt;</span> <span class="dv">0</span><span class="op">,</span></a>
<a class="sourceLine" id="cb4-5" title="5">  C <span class="op">=</span> x <span class="op">&gt;&gt;&gt;</span> <span class="dv">0</span><span class="op">,</span></a>
<a class="sourceLine" id="cb4-6" title="6">  D <span class="op">=</span> x <span class="op">|</span> <span class="dv">0</span><span class="op">,</span></a>
<a class="sourceLine" id="cb4-7" title="7">  E <span class="op">=</span> x <span class="op">&amp;</span> <span class="dv">0</span><span class="op">,</span></a>
<a class="sourceLine" id="cb4-8" title="8">  F <span class="op">=</span> x <span class="op">^</span> <span class="dv">0</span><span class="op">,</span></a>
<a class="sourceLine" id="cb4-9" title="9">  G <span class="op">=</span> <span class="op">~</span>x<span class="op">,</span></a>
<a class="sourceLine" id="cb4-10" title="10"><span class="op">}</span></a></code></pre></div>
<p>Examples of <strong>correct</strong> code for the <code>{ "allowBitwiseExpressions": true }</code> option:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode ts"><code class="sourceCode typescript"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">enum</span> Foo <span class="op">{</span></a>
<a class="sourceLine" id="cb5-2" title="2">  A <span class="op">=</span> <span class="dv">1</span> <span class="op">&lt;&lt;</span> <span class="dv">0</span><span class="op">,</span></a>
<a class="sourceLine" id="cb5-3" title="3">  B <span class="op">=</span> <span class="dv">1</span> <span class="op">&gt;&gt;</span> <span class="dv">0</span><span class="op">,</span></a>
<a class="sourceLine" id="cb5-4" title="4">  C <span class="op">=</span> <span class="dv">1</span> <span class="op">&gt;&gt;&gt;</span> <span class="dv">0</span><span class="op">,</span></a>
<a class="sourceLine" id="cb5-5" title="5">  D <span class="op">=</span> <span class="dv">1</span> <span class="op">|</span> <span class="dv">0</span><span class="op">,</span></a>
<a class="sourceLine" id="cb5-6" title="6">  E <span class="op">=</span> <span class="dv">1</span> <span class="op">&amp;</span> <span class="dv">0</span><span class="op">,</span></a>
<a class="sourceLine" id="cb5-7" title="7">  F <span class="op">=</span> <span class="dv">1</span> <span class="op">^</span> <span class="dv">0</span><span class="op">,</span></a>
<a class="sourceLine" id="cb5-8" title="8">  G <span class="op">=</span> <span class="op">~</span><span class="dv">1</span><span class="op">,</span></a>
<a class="sourceLine" id="cb5-9" title="9"><span class="op">}</span></a></code></pre></div>
<h2 id="when-not-to-use-it">When Not To Use It</h2>
<p>If you want use anything other than simple literals as an enum value.</p>
</body>
</html>
