<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="webpack-virtual-modules">Webpack Virtual Modules</h1>
<p><a href="https://travis-ci.org/sysgears/webpack-virtual-modules"><img src="https://travis-ci.org/sysgears/webpack-virtual-modules.svg?branch=master" alt="Build Status" /></a> <a href="https://twitter.com/sysgears"><img src="https://img.shields.io/twitter/follow/sysgears.svg?style=social" alt="Twitter Follow" /></a></p>
<p><strong>Webpack Virtual Modules</strong> is a plugin that allows for dynamical generation of in-memory virtual modules for JavaScript builds created with webpack. When virtual module is created all the parent virtual dirs that lead to the module filename are created too. This plugin supports watch mode meaning any write to a virtual module is seen by webpack as if a real file stored on disk has changed.</p>
<h2 id="installation">Installation</h2>
<p>Use NPM or Yarn to install Webpack Virtual Modules as a development dependency:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1"><span class="co"># with NPM</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="ex">npm</span> install webpack-virtual-modules --save-dev</a>
<a class="sourceLine" id="cb1-3" title="3"></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="co"># with Yarn</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="ex">yarn</span> add webpack-virtual-modules --dev</a></code></pre></div>
<h2 id="usage">Usage</h2>
<p>You can use Webpack Virtual Modules with webpack 5, 4 and 3. The examples below show the usage with webpack 5 or 4. If you want to use our plugin with webpack 3, check out a dedicated doc:</p>
<ul>
<li><a href="https://github.com/sysgears/webpack-virtual-modules/tree/master/docs/webpack3.md">Webpack Virtual Modules with Webpack 3</a></li>
</ul>
<h3 id="generating-static-virtual-modules">Generating static virtual modules</h3>
<p>Require the plugin in the webpack configuration file, then create and add virtual modules in the <code>plugins</code> array in the webpack configuration object:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">var</span> VirtualModulesPlugin <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;webpack-virtual-modules&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-2" title="2"></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="kw">var</span> virtualModules <span class="op">=</span> <span class="kw">new</span> <span class="at">VirtualModulesPlugin</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb2-4" title="4">  <span class="st">&#39;node_modules/module-foo.js&#39;</span><span class="op">:</span> <span class="st">&#39;module.exports = { foo: &quot;foo&quot; };&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-5" title="5">  <span class="st">&#39;node_modules/module-bar.js&#39;</span><span class="op">:</span> <span class="st">&#39;module.exports = { bar: &quot;bar&quot; };&#39;</span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-7" title="7"></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="va">module</span>.<span class="at">exports</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-9" title="9">  <span class="co">// ...</span></a>
<a class="sourceLine" id="cb2-10" title="10">  <span class="dt">plugins</span><span class="op">:</span> [</a>
<a class="sourceLine" id="cb2-11" title="11">    virtualModules</a>
<a class="sourceLine" id="cb2-12" title="12">  ]</a>
<a class="sourceLine" id="cb2-13" title="13"><span class="op">};</span></a></code></pre></div>
<p>You can now import your virtual modules anywhere in the application and use them:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">var</span> moduleFoo <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;module-foo&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="co">// You can now use moduleFoo</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="va">console</span>.<span class="at">log</span>(<span class="va">moduleFoo</span>.<span class="at">foo</span>)<span class="op">;</span></a></code></pre></div>
<h3 id="generating-dynamic-virtual-modules">Generating dynamic virtual modules</h3>
<p>You can generate virtual modules <strong><em>dynamically</em></strong> with Webpack Virtual Modules.</p>
<p>Here’s an example of dynamic generation of a module. All you need to do is create new virtual modules using the plugin and add them to the <code>plugins</code> array. After that, you need to add a webpack hook. For using hooks, consult <a href="https://webpack.js.org/api/compiler-hooks/">webpack compiler hook documentation</a>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">var</span> webpack <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;webpack&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">var</span> VirtualModulesPlugin <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;webpack-virtual-modules&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-3" title="3"></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="co">// Create an empty set of virtual modules</span></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="kw">const</span> virtualModules <span class="op">=</span> <span class="kw">new</span> <span class="at">VirtualModulesPlugin</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb4-6" title="6"></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="kw">var</span> compiler <span class="op">=</span> <span class="at">webpack</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb4-8" title="8">  <span class="co">// ...</span></a>
<a class="sourceLine" id="cb4-9" title="9">  <span class="dt">plugins</span><span class="op">:</span> [</a>
<a class="sourceLine" id="cb4-10" title="10">    virtualModules</a>
<a class="sourceLine" id="cb4-11" title="11">  ]</a>
<a class="sourceLine" id="cb4-12" title="12"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-13" title="13"></a>
<a class="sourceLine" id="cb4-14" title="14"><span class="va">compiler</span>.<span class="va">hooks</span>.<span class="va">compilation</span>.<span class="at">tap</span>(<span class="st">&#39;MyPlugin&#39;</span><span class="op">,</span> <span class="kw">function</span>(compilation) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-15" title="15">  <span class="va">virtualModules</span>.<span class="at">writeModule</span>(<span class="st">&#39;node_modules/module-foo.js&#39;</span><span class="op">,</span> <span class="st">&#39;&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-16" title="16"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-17" title="17"></a>
<a class="sourceLine" id="cb4-18" title="18"><span class="va">compiler</span>.<span class="at">watch</span>()<span class="op">;</span></a></code></pre></div>
<p>In other module or a Webpack plugin, you can write to the module <code>module-foo</code> whatever you need. After this write, webpack will “see” that <code>module-foo.js</code> has changed and will restart compilation.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="va">virtualModules</span>.<span class="at">writeModule</span>(</a>
<a class="sourceLine" id="cb5-2" title="2">  <span class="st">&#39;node_modules/module-foo.js&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb5-3" title="3">  <span class="st">&#39;module.exports = { foo: &quot;foo&quot; };&#39;</span></a>
<a class="sourceLine" id="cb5-4" title="4">)<span class="op">;</span></a></code></pre></div>
<h2 id="more-examples">More Examples</h2>
<ul>
<li><a href="https://github.com/sysgears/webpack-virtual-modules/tree/master/examples/swagger-webpack5">Swagger and JSDoc Example with Webpack 5</a></li>
<li><a href="https://github.com/sysgears/webpack-virtual-modules/tree/master/examples/swagger-webpack4">Swagger and JSDoc Example with Webpack 4</a></li>
<li><a href="https://github.com/sysgears/webpack-virtual-modules/tree/master/examples/swagger-webpack3">Swagger and JSDoc Example with Webpack 3</a></li>
</ul>
<h2 id="api-reference">API Reference</h2>
<ul>
<li><a href="https://github.com/sysgears/webpack-virtual-modules/tree/master/docs/API%20Reference.md">API Reference</a></li>
</ul>
<h2 id="inspiration">Inspiration</h2>
<p>This project is inspired by <a href="https://github.com/rmarscher/virtual-module-webpack-plugin">virtual-module-webpack-plugin</a>.</p>
<h2 id="license">License</h2>
<p>Copyright © 2017 <a href="http://sysgears.com">SysGears INC</a>. This source code is licensed under the <a href="LICENSE">MIT</a> license.</p>
</body>
</html>
