[![logo](./logo.png)](https://npmjs.org/package/detect-port)

------------------------------------------------------------------------

[![NPM version](https://img.shields.io/npm/v/detect-port.svg?style=flat-square)](https://npmjs.org/package/detect-port) [![build status](https://img.shields.io/travis/node-modules/detect-port.svg?style=flat-square)](https://travis-ci.org/node-modules/detect-port) [![Test coverage](https://img.shields.io/coveralls/node-modules/detect-port.svg?style=flat-square)](https://codecov.io/gh/node-modules/detect-port) [![npm download](https://img.shields.io/npm/dm/detect-port.svg?style=flat-square)](https://npmjs.org/package/detect-port)

> Node.js implementation of port detector

Usage
-----

    $ npm i detect-port --save

    const detect = require('detect-port');

    /**
     * callback usage
     */

    detect(port, (err, _port) => {
      if (err) {
        console.log(err);
      }

      if (port == _port) {
        console.log(`port: ${port} was not occupied`);
      } else {
        console.log(`port: ${port} was occupied, try port: ${_port}`);
      }
    });

    /**
     * for a yield syntax instead of callback function implement
     */

    const co = require('co');

    co(function *() {
      const _port = yield detect(port);

      if (port == _port) {
        console.log(`port: ${port} was not occupied`);
      } else {
        console.log(`port: ${port} was occupied, try port: ${_port}`);
      }
    });

    /**
     * use as a promise
     */

    detect(port)
      .then(_port => {
        if (port == _port) {
          console.log(`port: ${port} was not occupied`);
        } else {
          console.log(`port: ${port} was occupied, try port: ${_port}`);
        }
      })
      .catch(err => {
        console.log(err);
      });

Command Line Tool
-----------------

    $ npm i detect-port -g

### Quick Start

    # get an available port randomly
    $ detect

    # detect pointed port
    $ detect 80

    # output verbose log
    $ detect --verbose

    # more help
    $ detect --help

FAQ
---

Most likely network error, check that your `/etc/hosts` and make sure the content below:

    127.0.0.1       localhost
    255.255.255.255 broadcasthost
    ::1             localhost

Contributors
------------

<table><thead><tr class="header"><th><a href="https://github.com/xudafeng"><img src="https://avatars1.githubusercontent.com/u/1011681?v=4" /><br />
<sub><strong>xudafeng</strong></sub></a><br />
</th><th><a href="https://github.com/fengmk2"><img src="https://avatars0.githubusercontent.com/u/156269?v=4" /><br />
<sub><strong>fengmk2</strong></sub></a><br />
</th><th><a href="https://github.com/ziczhu"><img src="https://avatars1.githubusercontent.com/u/1044425?v=4" /><br />
<sub><strong>ziczhu</strong></sub></a><br />
</th><th><a href="https://github.com/gaearon"><img src="https://avatars0.githubusercontent.com/u/810438?v=4" /><br />
<sub><strong>gaearon</strong></sub></a><br />
</th><th><a href="https://github.com/popomore"><img src="https://avatars1.githubusercontent.com/u/360661?v=4" /><br />
<sub><strong>popomore</strong></sub></a><br />
</th><th><a href="https://github.com/jsw0528"><img src="https://avatars2.githubusercontent.com/u/197375?v=4" /><br />
<sub><strong>jsw0528</strong></sub></a><br />
</th></tr></thead><tbody></tbody></table>

This project follows the git-contributor [spec](https://github.com/xudafeng/git-contributor), auto upated at `Tue Aug 14 2018 12:43:52 GMT+0800`.

License
-------

[MIT](LICENSE)
