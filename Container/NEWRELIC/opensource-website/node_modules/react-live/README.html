<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<p align="center">
<img src="https://user-images.githubusercontent.com/17658189/63178611-4e90d580-c042-11e9-875f-f2455148b9ae.png" width=250>
</p>
<h2 align="center">
React Live
</h2>
<p align="center">
<strong>A flexible playground for live editing React code</strong> <br><br> <a href="https://npmjs.com/package/react-live"><img src="https://img.shields.io/npm/dm/react-live.svg"></a> <a href="https://npmjs.com/package/react-live"><img src="https://img.shields.io/npm/v/react-live.svg"></a> <img src="http://img.badgesize.io/https://unpkg.com/react-live/dist/react-live.min.js?compression=gzip&label=gzip%20size"> <img src="http://img.badgesize.io/https://unpkg.com/react-live/dist/react-live.min.js?label=size"> <img src="https://img.shields.io/badge/module%20formats-umd%2C%20cjs%2C%20esm-green.svg"> <a href="https://github.com/FormidableLabs/react-live#maintenance-status"> <img alt="Maintenance Status" src="https://img.shields.io/badge/maintenance-active-green.svg" /> </a>
</p>
<p><strong>React Live</strong> brings you the ability to render React components with editable source code and live preview. It supports server-side rendering and comes in a tiny bundle.</p>
<p>The library is structured modularly and lets you style and compose its components freely.</p>
<p align="center">
<img src="https://user-images.githubusercontent.com/17658189/63181897-1d67d380-c049-11e9-9dd2-7da2a3a57f05.gif" width=500>
</p>
<h2 id="usage">Usage</h2>
<p>Install it with <code>npm install react-live</code> or <code>yarn add react-live</code> and try out this piece of JSX:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="im">import</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">  LiveProvider<span class="op">,</span></a>
<a class="sourceLine" id="cb1-3" title="3">  LiveEditor<span class="op">,</span></a>
<a class="sourceLine" id="cb1-4" title="4">  LiveError<span class="op">,</span></a>
<a class="sourceLine" id="cb1-5" title="5">  LivePreview</a>
<a class="sourceLine" id="cb1-6" title="6"><span class="op">}</span> <span class="im">from</span> <span class="st">&#39;react-live&#39;</span></a>
<a class="sourceLine" id="cb1-7" title="7"></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="op">&lt;</span>LiveProvider code<span class="op">=</span><span class="st">&quot;&lt;strong&gt;Hello World!&lt;/strong&gt;&quot;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-9" title="9">  <span class="op">&lt;</span>LiveEditor /<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-10" title="10">  <span class="op">&lt;</span>LiveError /<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-11" title="11">  <span class="op">&lt;</span>LivePreview /<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-12" title="12">&lt;/LiveProvider<span class="op">&gt;</span></a></code></pre></div>
<h2 id="demo">Demo</h2>
<p><a href="https://react-live.netlify.com/">https://react-live.netlify.com/</a></p>
<h2 id="faq">FAQ</h2>
<h3 id="how-does-it-work">How does it work?</h3>
<p>It takes your code and transpiles it with <a href="https://github.com/bublejs/buble">Bublé</a>, while the code is displayed using <a href="https://github.com/satya164/react-simple-code-editor"><code>react-simple-code-editor</code></a> and the code is highlighted using <a href="https://github.com/FormidableLabs/prism-react-renderer"><code>prism-react-renderer</code></a>.</p>
<p>The transpiled code is then rendered in the preview component (<code>LivePreview</code>), which does a fake mount if the code is a React component.</p>
<h3 id="what-code-can-i-use">What code can I use?</h3>
<p>The code can be one of the following things:</p>
<ul>
<li>React elements, e.g. <code>&lt;strong&gt;Hello World!&lt;/strong&gt;</code></li>
<li>React pure functional components, e.g. <code>() =&gt; &lt;strong&gt;Hello World!&lt;/strong&gt;</code></li>
<li>React component classes</li>
</ul>
<p>If you enable the <code>noInline</code> prop on your <code>LiveProvider</code>, you’ll be able to write imperative code, and render one of the above things by calling <code>render</code>.</p>
<h3 id="how-does-the-scope-work">How does the scope work?</h3>
<p>The <code>scope</code> prop on the <code>LiveProvider</code> accepts additional globals. By default it injects <code>React</code> only, which means that the user can use it in their code like this:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="co">//                    ↓↓↓↓↓</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw">class</span> Example <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-3" title="3">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb2-4" title="4">    <span class="cf">return</span> <span class="op">&lt;</span>strong<span class="op">&gt;</span>Hello World<span class="op">!</span>&lt;/strong<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb2-5" title="5">  <span class="op">}</span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="op">}</span></a></code></pre></div>
<p>But you can of course pass more things to the scope. They will be available as variables in the code. Here’s an example using <a href="https://github.com/styled-components/styled-components">styled components</a>:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="im">import</span> styled <span class="im">from</span> <span class="st">&#39;styled-components&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb3-2" title="2"></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="kw">const</span> headerProps <span class="op">=</span> <span class="op">{</span> <span class="dt">text</span><span class="op">:</span> <span class="st">&#39;I</span><span class="sc">\&#39;</span><span class="st">m styled!&#39;</span> <span class="op">};</span></a>
<a class="sourceLine" id="cb3-4" title="4"></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="kw">const</span> scope <span class="op">=</span> <span class="op">{</span>styled<span class="op">,</span> headerProps<span class="op">};</span></a>
<a class="sourceLine" id="cb3-6" title="6"></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="kw">const</span> code <span class="op">=</span> <span class="vs">`</span></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="vs">  const Header = styled.div</span><span class="sc">\`</span></a>
<a class="sourceLine" id="cb3-9" title="9"><span class="vs">    color: palevioletred;</span></a>
<a class="sourceLine" id="cb3-10" title="10"><span class="vs">    font-size: 18px;</span></a>
<a class="sourceLine" id="cb3-11" title="11"><span class="vs">  </span><span class="sc">\`</span></a>
<a class="sourceLine" id="cb3-12" title="12"></a>
<a class="sourceLine" id="cb3-13" title="13"><span class="vs">  render(&lt;Header&gt;{headerProps.text}&lt;/Header&gt;)</span></a>
<a class="sourceLine" id="cb3-14" title="14"><span class="vs">`</span></a>
<a class="sourceLine" id="cb3-15" title="15"></a>
<a class="sourceLine" id="cb3-16" title="16"><span class="op">&lt;</span>LiveProvider code<span class="op">={</span>code<span class="op">}</span> scope<span class="op">={</span>scope<span class="op">}</span> noInline<span class="op">={</span><span class="kw">true</span><span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb3-17" title="17">  <span class="op">&lt;</span>LiveEditor /<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb3-18" title="18">  <span class="op">&lt;</span>LiveError /<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb3-19" title="19">  <span class="op">&lt;</span>LivePreview /<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb3-20" title="20">&lt;/LiveProvider<span class="op">&gt;</span></a></code></pre></div>
<p>Here’s an example using a custom component <code>&lt;MyButton /&gt;</code>. This component lives in a different directory. It gets passed into the scope wrapped in an Object. Note that since we are not using <code>render()</code> in the code snippet we let <code>noInline</code> stay equal to the default of <code>false</code>:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="im">import</span> <span class="op">{</span> MyButton <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;./components/MyButton&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-3" title="3"></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="kw">const</span> scope <span class="op">=</span> <span class="op">{</span> MyButton <span class="op">};</span></a>
<a class="sourceLine" id="cb4-5" title="5"></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="kw">const</span> code <span class="op">=</span> <span class="vs">`</span></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="vs">  &lt;MyButton /&gt;</span></a>
<a class="sourceLine" id="cb4-8" title="8"><span class="vs">`</span></a>
<a class="sourceLine" id="cb4-9" title="9"></a>
<a class="sourceLine" id="cb4-10" title="10"><span class="op">&lt;</span>LiveProvider code<span class="op">={</span>code<span class="op">}</span> scope<span class="op">={</span>scope<span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb4-11" title="11">  <span class="op">&lt;</span>LiveEditor /<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb4-12" title="12">  <span class="op">&lt;</span>LiveError /<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb4-13" title="13">  <span class="op">&lt;</span>LivePreview /<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb4-14" title="14">&lt;/LiveProvider<span class="op">&gt;</span></a></code></pre></div>
<h3 id="what-bundle-size-can-i-expect">What bundle size can I expect?</h3>
<p>Our reported bundle size badges don’t give you the full picture of the kind of sizes you will get in a production app. The minified bundles we publish <em>exclude</em> some dependencies that we depend on.</p>
<p><img src="http://img.badgesize.io/https://unpkg.com/react-live/dist/react-live.min.js?compression=gzip&label=gzip%20size"></p>
<p>In an actual app when you use <code>react-live</code> you will also be bundling Buble for transpilation, which adds <code>~135kB</code> to your bundle. This also includes their dependency on <code>regenerate-unicode-properties</code>, which is rather large as well.</p>
<p>We maintain a fork of Buble which excludes the ESnext Regular Expression transpilation with removes Buble’s large dependency and weighs in at a smaller size of <code>~51kB</code>, which you can find published at <a href="http://npm.im/@philpl/buble"><code>@philpl/buble</code></a>.</p>
<p>You can alias this in Webpack or the build tool of your choice, which will reduce the overall bundle size of <code>react-live</code> to about <code>83kB</code>.</p>
<h2 id="api">API</h2>
<h3 id="liveprovider">&lt;LiveProvider /&gt;</h3>
<p>This component provides the <code>context</code> for all the other ones. It also transpiles the user’s code! It supports these props, while passing any others through to the <code>children</code>:</p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>PropType</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>code</td>
<td>PropTypes.string</td>
<td>The code that should be rendered, apart from the user’s edits</td>
</tr>
<tr class="even">
<td>scope</td>
<td>PropTypes.object</td>
<td>Accepts custom globals that the <code>code</code> can use</td>
</tr>
<tr class="odd">
<td>noInline</td>
<td>PropTypes.bool</td>
<td>Doesn’t evaluate and mount the inline code (Default: <code>false</code>). Note: when using <code>noInline</code> whatever code you write must be a single expression (function, class component or some <code>jsx</code>) that can be returned immediately. If you’d like to render multiple components, use <code>noInline={true}</code></td>
</tr>
<tr class="even">
<td>transformCode</td>
<td>PropTypes.func</td>
<td>Accepts and returns the code to be transpiled, affording an opportunity to first transform it</td>
</tr>
<tr class="odd">
<td>language</td>
<td>PropTypes.string</td>
<td>What language you’re writing for correct syntax highlighting. (Default: <code>jsx</code>)</td>
</tr>
<tr class="even">
<td>disabled</td>
<td>PropTypes.bool</td>
<td>Disable editing on the <code>&lt;LiveEditor /&gt;</code> (Default: <code>false</code>)</td>
</tr>
<tr class="odd">
<td>theme</td>
<td>PropTypes.object</td>
<td>A <code>prism-react-renderer</code> theme object. See more <a href="https://github.com/FormidableLabs/prism-react-renderer#theming">here</a></td>
</tr>
</tbody>
</table>
<p>All subsequent components must be rendered inside a provider, since they communicate using one.</p>
<p>The <code>noInline</code> option kicks the Provider into a different mode, where you can write imperative-style code and nothing gets evaluated and mounted automatically. Your example will need to call <code>render</code> with valid JSX elements.</p>
<h3 id="liveeditor">&lt;LiveEditor /&gt;</h3>
<p>This component renders the editor that displays the code. It is a wrapper around <a href="https://github.com/satya164/react-simple-code-editor"><code>react-simple-code-editor</code></a> and the code highlighted using <a href="https://github.com/FormidableLabs/prism-react-renderer"><code>prism-react-renderer</code></a>.</p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>PropType</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>style</td>
<td>PropTypes.object</td>
<td>Allows overriding default styles on the <code>LiveEditor</code> component.</td>
</tr>
</tbody>
</table>
<h3 id="liveerror">&lt;LiveError /&gt;</h3>
<p>This component renders any error that occur while executing the code, or transpiling it. It passes through any props to a <code>pre</code>.</p>
<blockquote>
<p>Note: Right now when the component unmounts, when there’s no error to be shown.</p>
</blockquote>
<h3 id="livepreview">&lt;LivePreview /&gt;</h3>
<p>This component renders the actual component that the code generates inside an error boundary.</p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>PropType</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Component</td>
<td>PropTypes.node</td>
<td>Element that wraps the generated code. (Default: <code>div</code>)</td>
</tr>
</tbody>
</table>
<h3 id="withlive">withLive</h3>
<p>The <code>withLive</code> method creates a higher-order component, that injects the live-editing props provided by <code>LiveProvider</code> into a component.</p>
<p>Using this HOC allows you to add new components to react-live, or replace the default ones, with a new desired behavior.</p>
<p>The component wrapped with <code>withLive</code> gets injected the following props:</p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>PropType</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>code</td>
<td>PropTypes.string</td>
<td>Reflects the code that is passed in as the <code>code</code> prop</td>
</tr>
<tr class="even">
<td>error</td>
<td>PropTypes.string</td>
<td>An error that the code has thrown when it was previewed</td>
</tr>
<tr class="odd">
<td>onError</td>
<td>PropTypes.func</td>
<td>A callback that, when called, changes the error to what’s passed as the first argument</td>
</tr>
<tr class="even">
<td>onChange</td>
<td>PropTypes.func</td>
<td>A callback that accepts new code and transpiles it</td>
</tr>
<tr class="odd">
<td>element</td>
<td>React.Element</td>
<td>The result of the transpiled code that is previewed</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Note: The code prop doesn’t reflect the up-to-date code, but the <code>code</code> prop, that is passed to the <code>LiveProvider</code>.</p>
</blockquote>
<h2 id="faq-1">FAQ</h2>
<blockquote>
<p><strong>I want to use experimental feature x but Bublé doesn’t support it! Can I use babel instead?</strong></p>
</blockquote>
<p><code>react-live</code> doesn’t currently support configuring the transpiler and it ships with Bublé. The current workaround for using some experimental features <code>bublé</code> doesn’t support would be to use the <code>transformCode</code> prop on <code>LiveProvider</code> to transform your code with <code>babel</code> alongside <code>bublé</code>.</p>
<p>Here is a minimal example on how you could use <code>babel</code> to support class-properties in <code>react-live</code>:</p>
<p><a href="https://codesandbox.io/s/7ml9mjw766?fontsize=14"><img src="https://codesandbox.io/static/img/play-codesandbox.svg" alt="Edit 7ml9mjw766" /></a></p>
<h2 id="comparison-to-component-playground">Comparison to <a href="https://github.com/FormidableLabs/component-playground">component-playground</a></h2>
<p>There are multiple options when it comes to live, editable React component environments. Formidable actually has <strong>two</strong> first class projects to help you out: <a href="https://github.com/FormidableLabs/component-playground"><code>component-playground</code></a> and <a href="https://github.com/FormidableLabs/react-live"><code>react-live</code></a>. Let’s briefly look at the libraries, use cases, and factors that might help in deciding which is right for you.</p>
<p>Here’s a high-level decision tree:</p>
<ul>
<li>If you want <strong>fast and easy</strong> setup and integration, then <code>component-playground</code> may be the ticket!</li>
<li>If you want <strong>a smaller bundle</strong>, <strong>SSR</strong>, and <strong>more flexibility</strong>, then <code>react-live</code> is for you!</li>
</ul>
<p>Here are the various factors at play:</p>
<ul>
<li><strong>Build</strong>: <code>component-playground</code> uses <code>babel-standalone</code>, <code>react-live</code> uses <code>bublé</code>. (<em>Note</em>: <code>react-live</code> might make transpiler customizable in the future).</li>
<li><strong>Bundle size</strong>: <code>component-playground</code> has a larger bundle, but uses a more familiar editor setup. <code>react-live</code> is smaller, but more customized editor around <code>prism</code>.</li>
<li><strong>Ease vs. flexibility</strong>: <code>react-live</code> is more modular/customizable, while <code>component-playground</code> is easier/faster to set up.</li>
<li><strong>SSR</strong>: <code>component-playground</code> is not server-side renderable, <code>react-live</code> is.</li>
<li><strong>Extra features</strong>: <code>component-playground</code> supports raw evaluation and pretty-printed output out-of-the-box, while <code>react-live</code> does not.</li>
<li><strong>Error handling</strong>: <code>component-playground</code> might have more predictable error handling than <code>react-live</code> in some cases (due to <code>react-dom</code>, although this might change with React 16).</li>
</ul>
<h2 id="maintenance-status">Maintenance Status</h2>
<p><strong>Active:</strong> Formidable is actively working on this project, and we expect to continue for work for the foreseeable future. Bug reports, feature requests and pull requests are welcome.</p>
</body>
</html>
