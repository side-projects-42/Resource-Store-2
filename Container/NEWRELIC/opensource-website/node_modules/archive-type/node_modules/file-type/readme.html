<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>readme</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="file-type-build-status">file-type <a href="https://travis-ci.org/sindresorhus/file-type"><img src="https://travis-ci.org/sindresorhus/file-type.svg?branch=master" alt="Build Status" /></a></h1>
<blockquote>
<p>Detect the file type of a Buffer/Uint8Array</p>
</blockquote>
<p>The file type is detected by checking the <a href="http://en.wikipedia.org/wiki/Magic_number_(programming)#Magic_numbers_in_files">magic number</a> of the buffer.</p>
<h2 id="install">Install</h2>
<pre><code>$ npm install --save file-type</code></pre>
<h2 id="usage">Usage</h2>
<h5 id="node.js">Node.js</h5>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">const</span> readChunk <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;read-chunk&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw">const</span> fileType <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;file-type&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="kw">const</span> buffer <span class="op">=</span> <span class="va">readChunk</span>.<span class="at">sync</span>(<span class="st">&#39;unicorn.png&#39;</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">4100</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-4" title="4"></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="at">fileType</span>(buffer)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="co">//=&gt; {ext: &#39;png&#39;, mime: &#39;image/png&#39;}</span></a></code></pre></div>
<p>Or from a remote location:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">const</span> http <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;http&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw">const</span> fileType <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;file-type&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="kw">const</span> url <span class="op">=</span> <span class="st">&#39;http://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb3-4" title="4"></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="va">http</span>.<span class="at">get</span>(url<span class="op">,</span> res <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb3-6" title="6">    <span class="va">res</span>.<span class="at">once</span>(<span class="st">&#39;data&#39;</span><span class="op">,</span> chunk <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb3-7" title="7">        <span class="va">res</span>.<span class="at">destroy</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb3-8" title="8">        <span class="va">console</span>.<span class="at">log</span>(<span class="at">fileType</span>(chunk))<span class="op">;</span></a>
<a class="sourceLine" id="cb3-9" title="9">        <span class="co">//=&gt; {ext: &#39;gif&#39;, mime: &#39;image/gif&#39;}</span></a>
<a class="sourceLine" id="cb3-10" title="10">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-11" title="11"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<h5 id="browser">Browser</h5>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">const</span> xhr <span class="op">=</span> <span class="kw">new</span> <span class="at">XMLHttpRequest</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="va">xhr</span>.<span class="at">open</span>(<span class="st">&#39;GET&#39;</span><span class="op">,</span> <span class="st">&#39;unicorn.png&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="va">xhr</span>.<span class="at">responseType</span> <span class="op">=</span> <span class="st">&#39;arraybuffer&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-4" title="4"></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="va">xhr</span>.<span class="at">onload</span> <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-6" title="6">    <span class="at">fileType</span>(<span class="kw">new</span> <span class="at">Uint8Array</span>(<span class="kw">this</span>.<span class="at">response</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb4-7" title="7">    <span class="co">//=&gt; {ext: &#39;png&#39;, mime: &#39;image/png&#39;}</span></a>
<a class="sourceLine" id="cb4-8" title="8"><span class="op">};</span></a>
<a class="sourceLine" id="cb4-9" title="9"></a>
<a class="sourceLine" id="cb4-10" title="10"><span class="va">xhr</span>.<span class="at">send</span>()<span class="op">;</span></a></code></pre></div>
<h2 id="api">API</h2>
<h3 id="filetypeinput">fileType(input)</h3>
<p>Returns an <code>Object</code> with:</p>
<ul>
<li><code>ext</code> - One of the <a href="#supported-file-types">supported file types</a></li>
<li><code>mime</code> - The <a href="http://en.wikipedia.org/wiki/Internet_media_type">MIME type</a></li>
</ul>
<p>Or <code>null</code> when no match.</p>
<h4 id="input">input</h4>
<p>Type: <code>Buffer</code> <code>Uint8Array</code></p>
<p>It only needs the first 4100 bytes.</p>
<h2 id="supported-file-types">Supported file types</h2>
<ul>
<li><a href="https://en.wikipedia.org/wiki/JPEG"><code>jpg</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/Portable_Network_Graphics"><code>png</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/GIF"><code>gif</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/WebP"><code>webp</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/Free_Lossless_Image_Format"><code>flif</code></a></li>
<li><a href="http://fileinfo.com/extension/cr2"><code>cr2</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/Tagged_Image_File_Format"><code>tif</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/BMP_file_format"><code>bmp</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/JPEG_XR"><code>jxr</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/Adobe_Photoshop#File_format"><code>psd</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/Zip_(file_format)"><code>zip</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/Tar_(computing)#File_format"><code>tar</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/RAR_(file_format)"><code>rar</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/Gzip"><code>gz</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/Bzip2"><code>bz2</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/7z"><code>7z</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/Apple_Disk_Image"><code>dmg</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/MPEG-4_Part_14#Filename_extensions"><code>mp4</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/M4V"><code>m4v</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/MIDI"><code>mid</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/Matroska"><code>mkv</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/WebM"><code>webm</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/QuickTime_File_Format"><code>mov</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/Audio_Video_Interleave"><code>avi</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/Windows_Media_Video"><code>wmv</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/MPEG-1"><code>mpg</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/MP3"><code>mp3</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/MPEG-4_Part_14#.MP4_versus_.M4A"><code>m4a</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/Ogg"><code>ogg</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/Opus_(audio_format)"><code>opus</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/FLAC"><code>flac</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/WAV"><code>wav</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/Adaptive_Multi-Rate_audio_codec"><code>amr</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/Portable_Document_Format"><code>pdf</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/EPUB"><code>epub</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/.exe"><code>exe</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/SWF"><code>swf</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/Rich_Text_Format"><code>rtf</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/Web_Open_Font_Format"><code>woff</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/Web_Open_Font_Format"><code>woff2</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/Embedded_OpenType"><code>eot</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/TrueType"><code>ttf</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/OpenType"><code>otf</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/ICO_(file_format)"><code>ico</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/Flash_Video"><code>flv</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/Postscript"><code>ps</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/Xz"><code>xz</code></a></li>
<li><a href="https://www.sqlite.org/fileformat2.html"><code>sqlite</code></a></li>
<li><a href="http://fileinfo.com/extension/nes"><code>nes</code></a></li>
<li><a href="https://developer.chrome.com/extensions/crx"><code>crx</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/XPInstall"><code>xpi</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/Cabinet_(file_format)"><code>cab</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/Deb_(file_format)"><code>deb</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/Ar_(Unix)"><code>ar</code></a></li>
<li><a href="http://fileinfo.com/extension/rpm"><code>rpm</code></a></li>
<li><a href="http://fileinfo.com/extension/z"><code>Z</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/Lzip"><code>lz</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/Windows_Installer"><code>msi</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/Material_Exchange_Format"><code>mxf</code></a></li>
<li><a href="https://en.wikipedia.org/wiki/WebAssembly"><code>wasm</code></a></li>
<li><a href="https://wiki.blender.org/index.php/Dev:Source/Architecture/File_Format"><code>blend</code></a></li>
</ul>
<p><em>SVG isn’t included as it requires the whole file to be read, but you can get it <a href="https://github.com/sindresorhus/is-svg">here</a>.</em></p>
<p><em>Pull request welcome for additional commonly used file types.</em></p>
<h2 id="related">Related</h2>
<ul>
<li><a href="https://github.com/sindresorhus/file-type-cli">file-type-cli</a> - CLI for this module</li>
</ul>
<h2 id="license">License</h2>
<p>MIT © <a href="https://sindresorhus.com">Sindre Sorhus</a></p>
</body>
</html>
