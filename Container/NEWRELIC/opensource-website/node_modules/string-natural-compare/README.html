<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="string-natural-compare">String Natural Compare</h1>
<p><a href="https://www.npmjs.com/package/string-natural-compare"><img src="https://img.shields.io/npm/v/string-natural-compare.svg" alt="NPM Version" /></a> <a href="https://travis-ci.org/nwoltman/string-natural-compare"><img src="https://travis-ci.org/nwoltman/string-natural-compare.svg?branch=master" alt="Build Status" /></a> <a href="https://coveralls.io/r/nwoltman/string-natural-compare?branch=master"><img src="https://coveralls.io/repos/nwoltman/string-natural-compare/badge.svg?branch=master" alt="Coverage Status" /></a> <a href="https://david-dm.org/nwoltman/string-natural-compare"><img src="https://img.shields.io/david/nwoltman/string-natural-compare" alt="Dependencies Status" /></a></p>
<p>Compare alphanumeric strings the same way a human would, using a natural order algorithm (originally known as the <a href="http://davekoelle.com/alphanum.html">alphanum algorithm</a>) where numeric characters are sorted based on their numeric values rather than their ASCII values.</p>
<pre><code>Standard sorting:   Natural order sorting:
    img1.png            img1.png
    img10.png           img2.png
    img12.png           img10.png
    img2.png            img12.png</code></pre>
<p>This module exports a function that returns a number indicating whether one string should come before, after, or is the same as another string. It can be used directly with the native <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort"><code>.sort()</code></a> array method.</p>
<h3 id="fast-and-robust">Fast and Robust</h3>
<p>This module can compare strings containing any size of number and is heavily tested with a custom <a href="https://github.com/nwoltman/string-natural-compare/tree/master/benchmark">benchmark suite</a> to make sure that it is as fast as possible.</p>
<h2 id="installation">Installation</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" title="1"><span class="ex">npm</span> install string-natural-compare --save</a>
<a class="sourceLine" id="cb2-2" title="2"><span class="co"># or</span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="ex">yarn</span> add string-natural-compare</a></code></pre></div>
<h2 id="usage">Usage</h2>
<h4 id="naturalcomparestra-strb-options"><code>naturalCompare(strA, strB[, options])</code></h4>
<ul>
<li><code>strA</code> (<em>string</em>)</li>
<li><code>strB</code> (<em>string</em>)</li>
<li><code>options</code> (<em>object</em>) - Optional options object with the following options:
<ul>
<li><code>caseInsensitive</code> (<em>boolean</em>) - Set to <code>true</code> to compare strings case-insensitively. Default: <code>false</code>.</li>
<li><code>alphabet</code> (<em>string</em>) - A string of characters that define a custom character ordering. Default: <code>undefined</code>.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">const</span> naturalCompare <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;string-natural-compare&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-2" title="2"></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="co">// Simple, case-sensitive sorting</span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="kw">const</span> files <span class="op">=</span> [<span class="st">&#39;z1.doc&#39;</span><span class="op">,</span> <span class="st">&#39;z10.doc&#39;</span><span class="op">,</span> <span class="st">&#39;z17.doc&#39;</span><span class="op">,</span> <span class="st">&#39;z2.doc&#39;</span><span class="op">,</span> <span class="st">&#39;z23.doc&#39;</span><span class="op">,</span> <span class="st">&#39;z3.doc&#39;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="va">files</span>.<span class="at">sort</span>(naturalCompare)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-6" title="6"><span class="co">// -&gt; [&#39;z1.doc&#39;, &#39;z2.doc&#39;, &#39;z3.doc&#39;, &#39;z10.doc&#39;, &#39;z17.doc&#39;, &#39;z23.doc&#39;]</span></a>
<a class="sourceLine" id="cb3-7" title="7"></a>
<a class="sourceLine" id="cb3-8" title="8"></a>
<a class="sourceLine" id="cb3-9" title="9"><span class="co">// Case-insensitive sorting</span></a>
<a class="sourceLine" id="cb3-10" title="10"><span class="kw">const</span> chars <span class="op">=</span> [<span class="st">&#39;B&#39;</span><span class="op">,</span> <span class="st">&#39;C&#39;</span><span class="op">,</span> <span class="st">&#39;a&#39;</span><span class="op">,</span> <span class="st">&#39;d&#39;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb3-11" title="11"><span class="kw">const</span> naturalCompareCI <span class="op">=</span> (a<span class="op">,</span> b) <span class="kw">=&gt;</span> <span class="at">naturalCompare</span>(a<span class="op">,</span> b<span class="op">,</span> <span class="op">{</span><span class="dt">caseInsensitive</span><span class="op">:</span> <span class="kw">true</span><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-12" title="12"><span class="va">chars</span>.<span class="at">sort</span>(naturalCompareCI)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-13" title="13"><span class="co">// -&gt; [&#39;a&#39;, &#39;B&#39;, &#39;C&#39;, &#39;d&#39;]</span></a>
<a class="sourceLine" id="cb3-14" title="14"></a>
<a class="sourceLine" id="cb3-15" title="15"><span class="co">// Note:</span></a>
<a class="sourceLine" id="cb3-16" title="16">[<span class="st">&#39;a&#39;</span><span class="op">,</span> <span class="st">&#39;A&#39;</span>].<span class="at">sort</span>(naturalCompareCI)<span class="op">;</span> <span class="co">// -&gt; [&#39;a&#39;, &#39;A&#39;]</span></a>
<a class="sourceLine" id="cb3-17" title="17">[<span class="st">&#39;A&#39;</span><span class="op">,</span> <span class="st">&#39;a&#39;</span>].<span class="at">sort</span>(naturalCompareCI)<span class="op">;</span> <span class="co">// -&gt; [&#39;A&#39;, &#39;a&#39;]</span></a>
<a class="sourceLine" id="cb3-18" title="18"></a>
<a class="sourceLine" id="cb3-19" title="19"></a>
<a class="sourceLine" id="cb3-20" title="20"><span class="co">// Compare strings containing large numbers</span></a>
<a class="sourceLine" id="cb3-21" title="21"><span class="at">naturalCompare</span>(</a>
<a class="sourceLine" id="cb3-22" title="22">  <span class="st">&#39;1165874568735487968325787328996865&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb3-23" title="23">  <span class="st">&#39;265812277985321589735871687040841&#39;</span></a>
<a class="sourceLine" id="cb3-24" title="24">)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-25" title="25"><span class="co">// -&gt; 1</span></a>
<a class="sourceLine" id="cb3-26" title="26"><span class="co">// (Other inputs with the same ordering as this example may yield a different number &gt; 0)</span></a>
<a class="sourceLine" id="cb3-27" title="27"></a>
<a class="sourceLine" id="cb3-28" title="28"></a>
<a class="sourceLine" id="cb3-29" title="29"><span class="co">// Sorting an array of objects</span></a>
<a class="sourceLine" id="cb3-30" title="30"><span class="kw">const</span> hotelRooms <span class="op">=</span> [</a>
<a class="sourceLine" id="cb3-31" title="31">  <span class="op">{</span><span class="dt">street</span><span class="op">:</span> <span class="st">&#39;350 5th Ave&#39;</span><span class="op">,</span> <span class="dt">room</span><span class="op">:</span> <span class="st">&#39;A-1021&#39;</span><span class="op">},</span></a>
<a class="sourceLine" id="cb3-32" title="32">  <span class="op">{</span><span class="dt">street</span><span class="op">:</span> <span class="st">&#39;350 5th Ave&#39;</span><span class="op">,</span> <span class="dt">room</span><span class="op">:</span> <span class="st">&#39;A-21046-b&#39;</span><span class="op">}</span></a>
<a class="sourceLine" id="cb3-33" title="33">]<span class="op">;</span></a>
<a class="sourceLine" id="cb3-34" title="34"><span class="co">// Sort by street (case-insensitive), then by room (case-sensitive)</span></a>
<a class="sourceLine" id="cb3-35" title="35"><span class="va">hotelRooms</span>.<span class="at">sort</span>((a<span class="op">,</span> b) <span class="kw">=&gt;</span> (</a>
<a class="sourceLine" id="cb3-36" title="36">  <span class="at">naturalCompare</span>(<span class="va">a</span>.<span class="at">street</span><span class="op">,</span> <span class="va">b</span>.<span class="at">street</span><span class="op">,</span> <span class="op">{</span><span class="dt">caseInsensitive</span><span class="op">:</span> <span class="kw">true</span><span class="op">}</span>) <span class="op">||</span></a>
<a class="sourceLine" id="cb3-37" title="37">  <span class="at">naturalCompare</span>(<span class="va">a</span>.<span class="at">room</span><span class="op">,</span> <span class="va">b</span>.<span class="at">room</span>)</a>
<a class="sourceLine" id="cb3-38" title="38">))<span class="op">;</span></a>
<a class="sourceLine" id="cb3-39" title="39"></a>
<a class="sourceLine" id="cb3-40" title="40"></a>
<a class="sourceLine" id="cb3-41" title="41"><span class="co">// When text transformation is needed or when doing a case-insensitive sort on a</span></a>
<a class="sourceLine" id="cb3-42" title="42"><span class="co">// large array of objects, it is best for performance to pre-compute the</span></a>
<a class="sourceLine" id="cb3-43" title="43"><span class="co">// transformed text and store it on the object. This way, the text will not need</span></a>
<a class="sourceLine" id="cb3-44" title="44"><span class="co">// to be transformed for every comparison while sorting.</span></a>
<a class="sourceLine" id="cb3-45" title="45"><span class="kw">const</span> cars <span class="op">=</span> [</a>
<a class="sourceLine" id="cb3-46" title="46">  <span class="op">{</span><span class="dt">make</span><span class="op">:</span> <span class="st">&#39;Audi&#39;</span><span class="op">,</span> <span class="dt">model</span><span class="op">:</span> <span class="st">&#39;R8&#39;</span><span class="op">},</span></a>
<a class="sourceLine" id="cb3-47" title="47">  <span class="op">{</span><span class="dt">make</span><span class="op">:</span> <span class="st">&#39;Porsche&#39;</span><span class="op">,</span> <span class="dt">model</span><span class="op">:</span> <span class="st">&#39;911 Turbo S&#39;</span><span class="op">}</span></a>
<a class="sourceLine" id="cb3-48" title="48">]<span class="op">;</span></a>
<a class="sourceLine" id="cb3-49" title="49"><span class="co">// Sort by make, then by model (both case-insensitive)</span></a>
<a class="sourceLine" id="cb3-50" title="50"><span class="cf">for</span> (<span class="kw">const</span> car <span class="kw">of</span> cars) <span class="op">{</span></a>
<a class="sourceLine" id="cb3-51" title="51">  <span class="va">car</span>.<span class="at">sortKey</span> <span class="op">=</span> (<span class="va">car</span>.<span class="at">make</span> <span class="op">+</span> <span class="st">&#39; &#39;</span> <span class="op">+</span> <span class="va">car</span>.<span class="at">model</span>).<span class="at">toLowerCase</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb3-52" title="52"><span class="op">}</span></a>
<a class="sourceLine" id="cb3-53" title="53"><span class="va">cars</span>.<span class="at">sort</span>((a<span class="op">,</span> b) <span class="kw">=&gt;</span> <span class="at">naturalCompare</span>(<span class="va">a</span>.<span class="at">sortKey</span><span class="op">,</span> <span class="va">b</span>.<span class="at">sortKey</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb3-54" title="54"></a>
<a class="sourceLine" id="cb3-55" title="55"></a>
<a class="sourceLine" id="cb3-56" title="56"><span class="co">// Using a custom alphabet (Russian alphabet)</span></a>
<a class="sourceLine" id="cb3-57" title="57"><span class="kw">const</span> russianOpts <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb3-58" title="58">  <span class="dt">alphabet</span><span class="op">:</span> <span class="st">&#39;АБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдеёжзийклмнопрстуфхцчшщъыьэюя&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb3-59" title="59"><span class="op">};</span></a>
<a class="sourceLine" id="cb3-60" title="60">[<span class="st">&#39;Ё&#39;</span><span class="op">,</span> <span class="st">&#39;А&#39;</span><span class="op">,</span> <span class="st">&#39;б&#39;</span><span class="op">,</span> <span class="st">&#39;Б&#39;</span>].<span class="at">sort</span>((a<span class="op">,</span> b) <span class="kw">=&gt;</span> <span class="at">naturalCompare</span>(a<span class="op">,</span> b<span class="op">,</span> russianOpts))<span class="op">;</span></a>
<a class="sourceLine" id="cb3-61" title="61"><span class="co">// -&gt; [&#39;А&#39;, &#39;Б&#39;, &#39;Ё&#39;, &#39;б&#39;]</span></a></code></pre></div>
<p><strong>Note:</strong> Putting numbers in the custom alphabet can cause undefined behaviour.</p>
</body>
</html>
