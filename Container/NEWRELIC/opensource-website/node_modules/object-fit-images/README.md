object-fit-images [](#no-link) [![build status](https://api.travis-ci.org/bfred-it/object-fit-images.svg)](https://travis-ci.org/bfred-it/object-fit-images) [![npm](https://img.shields.io/npm/v/object-fit-images.svg)](https://www.npmjs.com/package/object-fit-images) [![CDNJS](https://img.shields.io/cdnjs/v/object-fit-images.svg)](https://cdnjs.com/libraries/object-fit-images) [![jsDelivr](https://data.jsdelivr.com/v1/package/npm/object-fit-images/badge?style=rounded)](https://www.jsdelivr.com/package/npm/object-fit-images)
================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================

> 🗻 Polyfill object-fit/object-position on `<img>`: IE9, IE10, IE11, Edge, Safari, …

-   Fast and lightweight ([demo](http://bfred-it.github.io/object-fit-images/demo/))
-   No additional elements are created
-   Setup is done via CSS
-   Scaling is taken care by the browser (it uses `background-size`)
-   `srcset` support
-   `src` and `srcset` properties and attributes keep working: `img.src = 'other-image.jpg'`

Alternative solutions
---------------------

<table><colgroup><col style="width: 25%" /><col style="width: 25%" /><col style="width: 25%" /><col style="width: 25%" /></colgroup><thead><tr class="header"><th>Comparison</th><th>bfred-it<br />
/object-fit-images🌟</th><th><a href="https://github.com/constancecchen/object-fit-polyfill">constancecchen<br />
/object-fit-polyfill</a></th><th><a href="https://github.com/tonipinel/object-fit-polyfill">tonipinel<br />
/object-fit-polyfill</a></th></tr></thead><tbody><tr class="odd"><td>Browsers</td><td><sub>IEdge 9-14, Android&lt;5, Safari&lt;10</sub></td><td>&lt;- Same</td><td>“All browsers”</td></tr><tr class="even"><td>Tags</td><td><code>img</code></td><td><code>image</code> <code>video</code> <code>picture</code></td><td><code>img</code></td></tr><tr class="odd"><td><code>cover/contain</code></td><td>💚</td><td>💚</td><td>💚</td></tr><tr class="even"><td><code>fill</code></td><td>💚</td><td>💚</td><td>💚</td></tr><tr class="odd"><td><code>none</code></td><td>💚</td><td>💚</td><td>💚</td></tr><tr class="even"><td><code>scale-down</code></td><td>💚 <sub>using <a href="#apply-on-resize"><code>{watchMQ:true}</code></a></sub></td><td>💚</td><td>💔</td></tr><tr class="odd"><td><code>object-position</code></td><td>💚</td><td>💚</td><td>💔</td></tr><tr class="even"><td><code>srcset</code> support</td><td>💚 Native or <a href="https://github.com/scottjehl/picturefill">picturefill</a> <sub><a href="detailed-support-tables.md">notes</a></sub></td><td>💚</td><td>💔</td></tr><tr class="odd"><td>Extra elements</td><td>💚 No</td><td>💔 Yes</td><td>💔 Yes</td></tr><tr class="even"><td>Settings</td><td>💚 via CSS</td><td>💔 via HTML</td><td>💔 via HTML</td></tr></tbody></table>

Usage
-----

You will need 3 things

1.  one or more `<img>` elements with `src` or `srcset`

        <img class='your-favorite-image' src='image.jpg'>

2.  CSS defining `object-fit` and a special `font-family` property to allow IE to read the correct value

        .your-favorite-image {
            object-fit: contain;
            font-family: 'object-fit: contain;';
        }

    or, if you also need `object-position`

        .your-favorite-image {
            object-fit: cover;
            object-position: bottom;
            font-family: 'object-fit: cover; object-position: bottom;';
        }

    To generate the `font-family` automatically, you can use the [PostCSS plugin](https://github.com/ronik-design/postcss-object-fit-images) or the [SCSS/SASS/Less mixins.](/preprocessors)

    If you set the `font-family` via JavaScript (which must be followed by calling `objectFitImages()`), make sure to include the quotes [**in** the property.](https://github.com/bfred-it/object-fit-images/issues/29#issuecomment-227491892)

3.  <span id="activation"></span> the activation call before `</body>`, or *on DOM ready*

        objectFitImages();
        // if you use jQuery, the code is: $(function () { objectFitImages() });

    This will fix all the images on the page **and** also all the images added later (auto mode).

    Alternatively, only fix the images you want, once:

        // pass a selector
        objectFitImages('img.some-image');

        // an array/NodeList
        var someImages = document.querySelectorAll('img.some-image');
        objectFitImages(someImages);

        // a single element
        var oneImage = document.querySelector('img.some-image');
        objectFitImages(oneImage);

        // or with jQuery
        var $someImages = $('img.some-image');
        objectFitImages($someImages);

    You can call `objectFitImages()` on the same elements more than once without issues, for example to manually request an update of the `object-fit` value.

Apply on `resize`
-----------------

You don’t need to re-apply it on `resize`, unless:

-   You’re using `scale-down`, or
-   <span id="media-query-affects-object-fit-value">your media queries change the value of `object-fit`,</span> like this

                                    img { object-fit: cover; }
        @media (max-width: 500px) { img { object-fit: contain; } }

In one of those cases, use the `watchMQ` option:

    objectFitImages('img.some-image', {watchMQ: true});
    // or objectFitImages(null, {watchMQ: true}); // for the auto mode

Install
-------

Pick your favorite:

    <script src="dist/ofi.min.js"></script>
    <!-- CDN is also available, but I suggest you concatenate JS files instead -->
    <!-- Visit https://cdnjs.com/libraries/object-fit-images -->

    npm install --save object-fit-images

    var objectFitImages = require('object-fit-images');

    import objectFitImages from 'object-fit-images';

API
---

### `objectFitImages(images, options)`

Both parameters are optional.

<table><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><thead><tr class="header"><th>parameter</th><th>description</th></tr></thead><tbody><tr class="odd"><td><code>images</code></td><td>Type: <code>string</code>, <code>element</code>, <code>array</code>, <code>NodeList</code>, <code>null</code><br />
Default: <code>null</code><br />
<br />
The images to fix. More info in the <a href="#usage">Usage</a> section</td></tr><tr class="even"><td><code>options</code></td><td>Type: <code>object</code><br />
Default: <code>{}</code><br />
Example: <code>{watchMQ:true}</code><br />
<br />
<table><tbody><tr class="odd"><td><code>watchMQ</code></td><td>Type: <code>boolean</code><br />
Default: <code>false</code><br />
<br />
This enables the automatic re-fix of the selected images when the window resizes. You only need it <a href="#apply-on-resize">in some cases</a></td></tr></tbody></table></td></tr></tbody></table>

License
-------

MIT © [Federico Brigante](http://twitter.com/bfred_it)
