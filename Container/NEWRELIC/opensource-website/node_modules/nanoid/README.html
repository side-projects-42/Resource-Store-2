<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="nano-id">Nano ID</h1>
<p><img src="https://ai.github.io/nanoid/logo.svg" align="right"
     alt="Nano ID logo by Anton Lovchikov" width="180" height="94"></p>
<p>A tiny, secure, URL-friendly, unique string ID generator for JavaScript.</p>
<blockquote>
<p>“An amazing level of senseless perfectionism, which is simply impossible not to respect.”</p>
</blockquote>
<ul>
<li><strong>Small.</strong> 108 bytes (minified and gzipped). No dependencies. <a href="https://github.com/ai/size-limit">Size Limit</a> controls the size.</li>
<li><strong>Fast.</strong> It is 60% faster than UUID.</li>
<li><strong>Safe.</strong> It uses cryptographically strong random APIs. Can be used in clusters.</li>
<li><strong>Compact.</strong> It uses a larger alphabet than UUID (<code>A-Za-z0-9_-</code>). So ID size was reduced from 36 to 21 symbols.</li>
<li><strong>Portable.</strong> Nano ID was ported to <a href="#other-programming-languages">14 programming languages</a>.</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="im">import</span> <span class="op">{</span> nanoid <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;nanoid&#39;</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="va">model</span>.<span class="at">id</span> <span class="op">=</span> <span class="at">nanoid</span>() <span class="co">//=&gt; &quot;V1StGXR8_Z5jdHi6B-myT&quot;</span></a></code></pre></div>
<p>Supports modern browsers, IE <a href="https://developer.epages.com/blog/coding/how-to-transpile-node-modules-with-babel-and-webpack-in-a-monorepo/">with Babel</a>, Node.js and React Native.</p>
<p><a href="https://evilmartians.com/?utm_source=nanoid"> <img src="https://evilmartians.com/badges/sponsored-by-evil-martians.svg"
       alt="Sponsored by Evil Martians" width="236" height="54"> </a></p>
<h2 id="table-of-contents">Table of Contents</h2>
<ul>
<li><a href="#comparison-with-uuid">Comparison with UUID</a></li>
<li><a href="#benchmark">Benchmark</a></li>
<li><a href="#tools">Tools</a></li>
<li><a href="#security">Security</a></li>
<li><a href="#usage">Usage</a>
<ul>
<li><a href="#js">JS</a></li>
<li><a href="#ie">IE</a></li>
<li><a href="#react">React</a></li>
<li><a href="#create-react-app">Create React App</a></li>
<li><a href="#react-native">React Native</a></li>
<li><a href="#rollup">Rollup</a></li>
<li><a href="#pouchdb-and-couchdb">PouchDB and CouchDB</a></li>
<li><a href="#mongoose">Mongoose</a></li>
<li><a href="#es-modules">ES Modules</a></li>
<li><a href="#web-workers">Web Workers</a></li>
<li><a href="#cli">CLI</a></li>
<li><a href="#other-programming-languages">Other Programming Languages</a></li>
</ul></li>
<li><a href="#api">API</a>
<ul>
<li><a href="#async">Async</a></li>
<li><a href="#non-secure">Non-Secure</a></li>
<li><a href="#custom-alphabet-or-size">Custom Alphabet or Size</a></li>
<li><a href="#custom-random-bytes-generator">Custom Random Bytes Generator</a></li>
</ul></li>
</ul>
<h2 id="comparison-with-uuid">Comparison with UUID</h2>
<p>Nano ID is quite comparable to UUID v4 (random-based). It has a similar number of random bits in the ID (126 in Nano ID and 122 in UUID), so it has a similar collision probability:</p>
<blockquote>
<p>For there to be a one in a billion chance of duplication, 103 trillion version 4 IDs must be generated.</p>
</blockquote>
<p>There are three main differences between Nano ID and UUID v4:</p>
<ol type="1">
<li>Nano ID uses a bigger alphabet, so a similar number of random bits are packed in just 21 symbols instead of 36.</li>
<li>Nano ID code is <strong>4.5 times less</strong> than <code>uuid/v4</code> package: 108 bytes instead of 483.</li>
<li>Because of memory allocation tricks, Nano ID is <strong>60%</strong> faster than UUID.</li>
</ol>
<h2 id="benchmark">Benchmark</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode rust"><code class="sourceCode rust"><a class="sourceLine" id="cb2-1" title="1">$ node ./test/benchmark.js</a>
<a class="sourceLine" id="cb2-2" title="2">nanoid                    <span class="dv">2</span>,<span class="dv">280</span>,<span class="dv">683</span> ops/sec</a>
<a class="sourceLine" id="cb2-3" title="3">customAlphabet            <span class="dv">1</span>,<span class="dv">851</span>,<span class="dv">117</span> ops/sec</a>
<a class="sourceLine" id="cb2-4" title="4">uuid v4                   <span class="dv">1</span>,<span class="dv">348</span>,<span class="dv">425</span> ops/sec</a>
<a class="sourceLine" id="cb2-5" title="5">uid.sync                    <span class="dv">313</span>,<span class="dv">306</span> ops/sec</a>
<a class="sourceLine" id="cb2-6" title="6">secure-random-string        <span class="dv">294</span>,<span class="dv">161</span> ops/sec</a>
<a class="sourceLine" id="cb2-7" title="7">cuid                        <span class="dv">158</span>,<span class="dv">988</span> ops/sec</a>
<a class="sourceLine" id="cb2-8" title="8">shortid                      <span class="dv">37</span>,<span class="dv">222</span> ops/sec</a>
<a class="sourceLine" id="cb2-9" title="9"></a>
<a class="sourceLine" id="cb2-10" title="10">Async:</a>
<a class="sourceLine" id="cb2-11" title="11">async nanoid                 <span class="dv">95</span>,<span class="dv">500</span> ops/sec</a>
<a class="sourceLine" id="cb2-12" title="12">async customAlphabet         <span class="dv">93</span>,<span class="dv">800</span> ops/sec</a>
<a class="sourceLine" id="cb2-13" title="13">async secure-random-string   <span class="dv">90</span>,<span class="dv">316</span> ops/sec</a>
<a class="sourceLine" id="cb2-14" title="14">uid                          <span class="dv">85</span>,<span class="dv">583</span> ops/sec</a>
<a class="sourceLine" id="cb2-15" title="15"></a>
<a class="sourceLine" id="cb2-16" title="16">Non-secure:</a>
<a class="sourceLine" id="cb2-17" title="17">non-secure nanoid         <span class="dv">2</span>,<span class="dv">641</span>,<span class="dv">654</span> ops/sec</a>
<a class="sourceLine" id="cb2-18" title="18">rndm                      <span class="dv">2</span>,<span class="dv">447</span>,<span class="dv">086</span> ops/sec</a></code></pre></div>
<p>Test configuration: Dell XPS 2-in-1 7390, Fedora 32, Node.js 15.1.</p>
<h2 id="tools">Tools</h2>
<ul>
<li><a href="https://zelark.github.io/nano-id-cc/">ID size calculator</a> shows collision probability when adjusting the ID alphabet or size.</li>
<li><a href="https://github.com/CyberAP/nanoid-dictionary"><code>nanoid-dictionary</code></a> with popular alphabets to use with <code>customAlphabet</code>.</li>
<li><a href="https://github.com/y-gagar1n/nanoid-good"><code>nanoid-good</code></a> to be sure that your ID doesn’t contain any obscene words.</li>
</ul>
<h2 id="security">Security</h2>
<p><em>See a good article about random generators theory: <a href="https://gist.github.com/joepie91/7105003c3b26e65efcea63f3db82dfba">Secure random values (in Node.js)</a></em></p>
<ul>
<li><strong>Unpredictability.</strong> Instead of using the unsafe <code>Math.random()</code>, Nano ID uses the <code>crypto</code> module in Node.js and the Web Crypto API in browsers. These modules use unpredictable hardware random generator.</li>
<li><p><strong>Uniformity.</strong> <code>random % alphabet</code> is a popular mistake to make when coding an ID generator. The distribution will not be even; there will be a lower chance for some symbols to appear compared to others. So, it will reduce the number of tries when brute-forcing. Nano ID uses a <a href="https://github.com/ai/nanoid/blob/main/index.js">better algorithm</a> and is tested for uniformity.</p>
<p><img src="img/distribution.png" alt="Nano ID uniformity"
   width="340" height="135"></p></li>
<li><p><strong>Vulnerabilities:</strong> to report a security vulnerability, please use the <a href="https://tidelift.com/security">Tidelift security contact</a>. Tidelift will coordinate the fix and disclosure.</p></li>
</ul>
<h2 id="usage">Usage</h2>
<h3 id="js">JS</h3>
<p>The main module uses URL-friendly symbols (<code>A-Za-z0-9_-</code>) and returns an ID with 21 characters (to have a collision probability similar to UUID v4).</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="im">import</span> <span class="op">{</span> nanoid <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;nanoid&#39;</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="va">model</span>.<span class="at">id</span> <span class="op">=</span> <span class="at">nanoid</span>() <span class="co">//=&gt; &quot;V1StGXR8_Z5jdHi6B-myT&quot;</span></a></code></pre></div>
<p>In Node.js you can use CommonJS import:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">const</span> <span class="op">{</span> nanoid <span class="op">}</span> <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;nanoid&#39;</span>)</a></code></pre></div>
<p>If you want to reduce the ID size (and increase collisions probability), you can pass the size as an argument.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="at">nanoid</span>(<span class="dv">10</span>) <span class="co">//=&gt; &quot;IRFa-VaY2b&quot;</span></a></code></pre></div>
<p>Don’t forget to check the safety of your ID size in our <a href="https://alex7kom.github.io/nano-nanoid-cc/">ID collision probability</a> calculator.</p>
<p>You can also use a <a href="#custom-alphabet-or-size">custom alphabet</a> or a <a href="#custom-random-bytes-generator">random generator</a>.</p>
<h3 id="ie">IE</h3>
<p>If you support IE, you need to <a href="https://developer.epages.com/blog/coding/how-to-transpile-node-modules-with-babel-and-webpack-in-a-monorepo/">transpile <code>node_modules</code></a> by Babel and add <code>crypto</code> alias:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="co">// polyfills.js</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="cf">if</span> (<span class="op">!</span><span class="va">window</span>.<span class="at">crypto</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb6-3" title="3">  <span class="va">window</span>.<span class="at">crypto</span> <span class="op">=</span> <span class="va">window</span>.<span class="at">msCrypto</span></a>
<a class="sourceLine" id="cb6-4" title="4"><span class="op">}</span></a></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="im">import</span> <span class="st">&#39;./polyfills.js&#39;</span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="im">import</span> <span class="op">{</span> nanoid <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;nanoid&#39;</span></a></code></pre></div>
<h3 id="react">React</h3>
<p>There’s currently no correct way to use nanoid for React <code>key</code> prop since it should be consistent among renders.</p>
<pre class="jsx"><code>function Todos({todos}) {
  return (
    &lt;ul&gt;
      {todos.map(todo =&gt; (
        &lt;li key={nanoid()}&gt; /* DON’T DO IT */
          {todo.text}
        &lt;/li&gt;
      ))}
    &lt;/ul&gt;
  )
}</code></pre>
<p>You should rather try to reach for stable id inside your list item.</p>
<pre class="jsx"><code>const todoItems = todos.map((todo) =&gt;
  &lt;li key={todo.id}&gt;
    {todo.text}
  &lt;/li&gt;
)</code></pre>
<p>In case you don’t have stable ids you’d rather use index as <code>key</code> instead of <code>nanoid()</code>:</p>
<pre class="jsx"><code>const todoItems = todos.map((text, index) =&gt;
  &lt;li key={index}&gt; /* Still not recommended but preferred over nanoid().
                      Only do this if items have no stable IDs. */
    {text}
  &lt;/li&gt;
)</code></pre>
<p>If you want to use Nano ID in the <code>id</code> prop, you must set some string prefix (it is invalid for the HTML ID to start with a number).</p>
<pre class="jsx"><code>&lt;input id={&#39;id&#39; + this.id} type=&quot;text&quot;/&gt;</code></pre>
<h3 id="create-react-app">Create React App</h3>
<p>Create React App &lt; 4.0.0 had <a href="https://github.com/ai/nanoid/issues/205">a problem</a> with ES modules packages.</p>
<pre><code>TypeError: (0 , _nanoid.nanoid) is not a function</code></pre>
<p>Use Nano ID 2 <code>npm i nanoid@^2.0.0</code> if you’re using a version below CRA 4.0.</p>
<h3 id="react-native">React Native</h3>
<p>React Native does not have built-in random generator. The following polyfill works for plain React Native and Expo starting with <code>39.x</code>.</p>
<ol type="1">
<li>Check <a href="https://github.com/LinusU/react-native-get-random-values"><code>react-native-get-random-values</code></a> docs and install it.</li>
<li>Import it before Nano ID.</li>
</ol>
<div class="sourceCode" id="cb13"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb13-1" title="1"><span class="im">import</span> <span class="st">&#39;react-native-get-random-values&#39;</span></a>
<a class="sourceLine" id="cb13-2" title="2"><span class="im">import</span> <span class="op">{</span> nanoid <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;nanoid&#39;</span></a></code></pre></div>
<p>For Expo framework see the next section.</p>
<h3 id="rollup">Rollup</h3>
<p>For Rollup you will need <a href="https://github.com/rollup/plugins/tree/master/packages/node-resolve"><code>@rollup/plugin-node-resolve</code></a> to bundle browser version of this library and <a href="https://github.com/rollup/plugins/tree/master/packages/replace"><code>@rollup/plugin-replace</code></a> to replace <code>process.env.NODE_ENV</code>:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb14-1" title="1">  plugins<span class="op">:</span> [</a>
<a class="sourceLine" id="cb14-2" title="2">    <span class="at">nodeResolve</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb14-3" title="3">      <span class="dt">browser</span><span class="op">:</span> <span class="kw">true</span></a>
<a class="sourceLine" id="cb14-4" title="4">    <span class="op">}</span>)<span class="op">,</span></a>
<a class="sourceLine" id="cb14-5" title="5">    <span class="at">replace</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb14-6" title="6">      <span class="st">&#39;process.env.NODE_ENV&#39;</span><span class="op">:</span> <span class="va">JSON</span>.<span class="at">stringify</span>(<span class="va">process</span>.<span class="va">env</span>.<span class="at">NODE_ENV</span>)</a>
<a class="sourceLine" id="cb14-7" title="7">    <span class="op">}</span>)</a>
<a class="sourceLine" id="cb14-8" title="8">  ]</a></code></pre></div>
<h3 id="pouchdb-and-couchdb">PouchDB and CouchDB</h3>
<p>In PouchDB and CouchDB, IDs can’t start with an underscore <code>_</code>. A prefix is required to prevent this issue, as Nano ID might use a <code>_</code> at the start of the ID by default.</p>
<p>Override the default ID with the following option:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb15-1" title="1"><span class="va">db</span>.<span class="at">put</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb15-2" title="2">  <span class="dt">_id</span><span class="op">:</span> <span class="st">&#39;id&#39;</span> <span class="op">+</span> <span class="at">nanoid</span>()<span class="op">,</span></a>
<a class="sourceLine" id="cb15-3" title="3">  …</a>
<a class="sourceLine" id="cb15-4" title="4"><span class="op">}</span>)</a></code></pre></div>
<h3 id="mongoose">Mongoose</h3>
<div class="sourceCode" id="cb16"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb16-1" title="1"><span class="kw">const</span> mySchema <span class="op">=</span> <span class="kw">new</span> <span class="at">Schema</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb16-2" title="2">  <span class="dt">_id</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb16-3" title="3">    <span class="dt">type</span><span class="op">:</span> String<span class="op">,</span></a>
<a class="sourceLine" id="cb16-4" title="4">    <span class="cf">default</span><span class="op">:</span> () <span class="kw">=&gt;</span> <span class="at">nanoid</span>()</a>
<a class="sourceLine" id="cb16-5" title="5">  <span class="op">}</span></a>
<a class="sourceLine" id="cb16-6" title="6"><span class="op">}</span>)</a></code></pre></div>
<h3 id="es-modules">ES Modules</h3>
<p>Nano ID provides ES modules. You do not need to do anything to use Nano ID as ESM in webpack, Rollup, Parcel, or Node.js.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb17-1" title="1"><span class="im">import</span> <span class="op">{</span> nanoid <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;nanoid&#39;</span></a></code></pre></div>
<p>For quick hacks, you can load Nano ID from CDN. Special minified <code>nanoid.js</code> module is available on jsDelivr.</p>
<p>Though, it is not recommended to be used in production because of the lower loading performance.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb18-1" title="1"><span class="im">import</span> <span class="op">{</span> nanoid <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;https://cdn.jsdelivr.net/npm/nanoid/nanoid.js&#39;</span></a></code></pre></div>
<h3 id="web-workers">Web Workers</h3>
<p>Web Workers do not have access to a secure random generator.</p>
<p>Security is important in IDs when IDs should be unpredictable. For instance, in “access by URL” link generation. If you do not need unpredictable IDs, but you need to use Web Workers, you can use the non‑secure ID generator.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb19-1" title="1"><span class="im">import</span> <span class="op">{</span> nanoid <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;nanoid/non-secure&#39;</span></a>
<a class="sourceLine" id="cb19-2" title="2"><span class="at">nanoid</span>() <span class="co">//=&gt; &quot;Uakgb_J5m9g-0JDMbcJqLJ&quot;</span></a></code></pre></div>
<p>Note: non-secure IDs are more prone to collision attacks.</p>
<h3 id="cli">CLI</h3>
<p>You can get unique ID in terminal by calling <code>npx nanoid</code>. You need only Node.js in the system. You do not need Nano ID to be installed anywhere.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb20-1" title="1">$ <span class="ex">npx</span> nanoid</a>
<a class="sourceLine" id="cb20-2" title="2"><span class="ex">npx</span>: installed 1 in 0.63s</a>
<a class="sourceLine" id="cb20-3" title="3"><span class="ex">LZfXLFzPPR4NNrgjlWDxn</span></a></code></pre></div>
<p>If you want to change alphabet or ID size, you should use <a href="https://github.com/twhitbeck/nanoid-cli"><code>nanoid-cli</code></a>.</p>
<h3 id="other-programming-languages">Other Programming Languages</h3>
<p>Nano ID was ported to many languages. You can use these ports to have the same ID generator on the client and server side.</p>
<ul>
<li><a href="https://github.com/codeyu/nanoid-net">C#</a></li>
<li><a href="https://github.com/mcmikecreations/nanoid_cpp">C++</a></li>
<li><a href="https://github.com/zelark/nano-id">Clojure and ClojureScript</a></li>
<li><a href="https://github.com/mamantoha/nanoid.cr">Crystal</a></li>
<li><a href="https://github.com/pd4d10/nanoid-dart">Dart &amp; Flutter</a></li>
<li><a href="https://github.com/ianfabs/nanoid">Deno</a></li>
<li><a href="https://github.com/matoous/go-nanoid">Go</a></li>
<li><a href="https://github.com/railsmechanic/nanoid">Elixir</a></li>
<li><a href="https://github.com/4e6/nanoid-hs">Haskell</a></li>
<li><a href="https://sr.ht/~statianzo/janet-nanoid/">Janet</a></li>
<li><a href="https://github.com/aventrix/jnanoid">Java</a></li>
<li><a href="https://github.com/icyphox/nanoid.nim">Nim</a></li>
<li><a href="https://github.com/tkzwtks/Nanoid-perl">Perl</a></li>
<li><a href="https://github.com/hidehalo/nanoid-php">PHP</a></li>
<li><a href="https://github.com/puyuan/py-nanoid">Python</a> with <a href="https://pypi.org/project/nanoid-dictionary">dictionaries</a></li>
<li><a href="https://github.com/radeno/nanoid.rb">Ruby</a></li>
<li><a href="https://github.com/nikolay-govorov/nanoid">Rust</a></li>
<li><a href="https://github.com/antiflasher/NanoID">Swift</a></li>
</ul>
<p>Also, <a href="#cli">CLI</a> is available to generate IDs from a command line.</p>
<h2 id="api">API</h2>
<h3 id="async">Async</h3>
<p>To generate hardware random bytes, CPU collects electromagnetic noise. In the synchronous API during the noise collection, the CPU is busy and cannot do anything useful in parallel.</p>
<p>Using the asynchronous API of Nano ID, another code can run during the entropy collection.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb21-1" title="1"><span class="im">import</span> <span class="op">{</span> nanoid <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;nanoid/async&#39;</span></a>
<a class="sourceLine" id="cb21-2" title="2"></a>
<a class="sourceLine" id="cb21-3" title="3"><span class="kw">async</span> <span class="kw">function</span> <span class="at">createUser</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb21-4" title="4">  <span class="va">user</span>.<span class="at">id</span> <span class="op">=</span> <span class="cf">await</span> <span class="at">nanoid</span>()</a>
<a class="sourceLine" id="cb21-5" title="5"><span class="op">}</span></a></code></pre></div>
<p>Unfortunately, you will lose Web Crypto API advantages in a browser if you use the asynchronous API. So, currently, in the browser, you are limited with either security or asynchronous behavior.</p>
<h3 id="non-secure">Non-Secure</h3>
<p>By default, Nano ID uses hardware random bytes generation for security and low collision probability. If you are not so concerned with security and more concerned with performance, you can use the faster non-secure generator.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb22-1" title="1"><span class="im">import</span> <span class="op">{</span> nanoid <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;nanoid/non-secure&#39;</span></a>
<a class="sourceLine" id="cb22-2" title="2"><span class="kw">const</span> id <span class="op">=</span> <span class="at">nanoid</span>() <span class="co">//=&gt; &quot;Uakgb_J5m9g-0JDMbcJqLJ&quot;</span></a></code></pre></div>
<p>Note: your IDs will be more predictable and prone to collision attacks.</p>
<h3 id="custom-alphabet-or-size">Custom Alphabet or Size</h3>
<p><code>customAlphabet</code> allows you to create <code>nanoid</code> with your own alphabet and ID size.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb23-1" title="1"><span class="im">import</span> <span class="op">{</span> customAlphabet <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;nanoid&#39;</span></a>
<a class="sourceLine" id="cb23-2" title="2"><span class="kw">const</span> nanoid <span class="op">=</span> <span class="at">customAlphabet</span>(<span class="st">&#39;1234567890abcdef&#39;</span><span class="op">,</span> <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb23-3" title="3"><span class="va">model</span>.<span class="at">id</span> <span class="op">=</span> <span class="at">nanoid</span>() <span class="co">//=&gt; &quot;4f90d13a42&quot;</span></a></code></pre></div>
<p>Check the safety of your custom alphabet and ID size in our <a href="https://alex7kom.github.io/nano-nanoid-cc/">ID collision probability</a> calculator. For more alphabets, check out the options in <a href="https://github.com/CyberAP/nanoid-dictionary"><code>nanoid-dictionary</code></a>.</p>
<p>Alphabet must contain 256 symbols or less. Otherwise, the security of the internal generator algorithm is not guaranteed.</p>
<p>Customizable asynchronous and non-secure APIs are also available:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb24-1" title="1"><span class="im">import</span> <span class="op">{</span> customAlphabet <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;nanoid/async&#39;</span></a>
<a class="sourceLine" id="cb24-2" title="2"><span class="kw">const</span> nanoid <span class="op">=</span> <span class="at">customAlphabet</span>(<span class="st">&#39;1234567890abcdef&#39;</span><span class="op">,</span> <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb24-3" title="3"><span class="kw">async</span> <span class="kw">function</span> <span class="at">createUser</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb24-4" title="4">  <span class="va">user</span>.<span class="at">id</span> <span class="op">=</span> <span class="cf">await</span> <span class="at">nanoid</span>()</a>
<a class="sourceLine" id="cb24-5" title="5"><span class="op">}</span></a></code></pre></div>
<div class="sourceCode" id="cb25"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb25-1" title="1"><span class="im">import</span> <span class="op">{</span> customAlphabet <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;nanoid/non-secure&#39;</span></a>
<a class="sourceLine" id="cb25-2" title="2"><span class="kw">const</span> nanoid <span class="op">=</span> <span class="at">customAlphabet</span>(<span class="st">&#39;1234567890abcdef&#39;</span><span class="op">,</span> <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb25-3" title="3"><span class="va">user</span>.<span class="at">id</span> <span class="op">=</span> <span class="at">nanoid</span>()</a></code></pre></div>
<h3 id="custom-random-bytes-generator">Custom Random Bytes Generator</h3>
<p><code>customRandom</code> allows you to create a <code>nanoid</code> and replace alphabet and the default random bytes generator.</p>
<p>In this example, a seed-based generator is used:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb26-1" title="1"><span class="im">import</span> <span class="op">{</span> customRandom <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;nanoid&#39;</span></a>
<a class="sourceLine" id="cb26-2" title="2"></a>
<a class="sourceLine" id="cb26-3" title="3"><span class="kw">const</span> rng <span class="op">=</span> <span class="at">seedrandom</span>(seed)</a>
<a class="sourceLine" id="cb26-4" title="4"><span class="kw">const</span> nanoid <span class="op">=</span> <span class="at">customRandom</span>(<span class="st">&#39;abcdef&#39;</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> size <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb26-5" title="5">  <span class="cf">return</span> (<span class="kw">new</span> <span class="at">Uint8Array</span>(size)).<span class="at">map</span>(() <span class="kw">=&gt;</span> <span class="dv">256</span> <span class="op">*</span> <span class="at">rng</span>())</a>
<a class="sourceLine" id="cb26-6" title="6"><span class="op">}</span>)</a>
<a class="sourceLine" id="cb26-7" title="7"></a>
<a class="sourceLine" id="cb26-8" title="8"><span class="at">nanoid</span>() <span class="co">//=&gt; &quot;fbaefaadeb&quot;</span></a></code></pre></div>
<p><code>random</code> callback must accept the array size and return an array with random numbers.</p>
<p>If you want to use the same URL-friendly symbols with <code>customRandom</code>, you can get the default alphabet using the <code>urlAlphabet</code>.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb27-1" title="1"><span class="kw">const</span> <span class="op">{</span> customRandom<span class="op">,</span> urlAlphabet <span class="op">}</span> <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;nanoid&#39;</span>)</a>
<a class="sourceLine" id="cb27-2" title="2"><span class="kw">const</span> nanoid <span class="op">=</span> <span class="at">customRandom</span>(urlAlphabet<span class="op">,</span> <span class="dv">10</span><span class="op">,</span> random)</a></code></pre></div>
<p>Asynchronous and non-secure APIs are not available for <code>customRandom</code>.</p>
</body>
</html>
