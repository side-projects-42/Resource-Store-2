[![npm](https://img.shields.io/npm/v/schema-utils.svg)](https://npmjs.com/package/schema-utils) [![node](https://img.shields.io/node/v/schema-utils.svg)](https://nodejs.org) [![deps](https://david-dm.org/webpack-contrib/schema-utils.svg)](https://david-dm.org/webpack-contrib/schema-utils) [![test](http://img.shields.io/travis/webpack-contrib/schema-utils.svg)](https://travis-ci.org/webpack-contrib/schema-utils) [![coverage](https://codecov.io/gh/webpack-contrib/schema-utils/branch/master/graph/badge.svg)](https://codecov.io/gh/webpack-contrib/schema-utils) [![chat](https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg)](https://gitter.im/webpack/webpack)

[<img src="https://raw.githubusercontent.com/webpack-contrib/schema-utils/master/docs/logo.png" width="160" height="160" />](http://json-schema.org) [<img src="https://webpack.js.org/assets/icon-square-big.svg" width="200" height="200" />](https://github.com/webpack/webpack)

Schema Utils
============

Install
-------

    npm i schema-utils

Usage
-----

### `validateOptions`

**`schema.json`**

    {
      "type": "object",
      "properties": {
        // Options...
      },
      "additionalProperties": false
    }

#### Error Messages (Custom)

**`schema.json`**

    {
      "type": "object",
      "properties": {
        "option": {
          "type": [ "boolean" ]
        }
      },
      // Overrides the default err.message for option
      "errorMessage": {
        "option": "should be {Boolean} (https:/github.com/org/repo#anchor)"
      }
      "additionalProperties": false
    }

    import schema from 'path/to/schema.json'
    import validateOptions from 'schema-utils'

    validateOptions(schema, options, 'Loader/Plugin Name')

Examples
--------

**schema.json**

    {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "test": {
          "anyOf": [
            { "type": "array" },
            { "type": "string" },
            { "instanceof": "RegExp" }
          ]
        },
        "transform": {
          "instanceof": "Function"
        },
        "sourceMap": {
          "type": "boolean"
        }
      },
      "additionalProperties": false
    }

### `Loader`

    import { getOptions } from 'loader-utils'
    import validateOptions from 'schema-utils'

    import schema from 'path/to/schema.json'

    function loader (src, map) {
      const options = getOptions(this) || {}

      validateOptions(schema, options, 'Loader Name')

      // Code...
    }

### `Plugin`

    import validateOptions from 'schema-utils'

    import schema from 'path/to/schema.json'

    class Plugin {
      constructor (options) {
        validateOptions(schema, options, 'Plugin Name')

        this.options = options
      }

      apply (compiler) {
        // Code...
      }
    }
