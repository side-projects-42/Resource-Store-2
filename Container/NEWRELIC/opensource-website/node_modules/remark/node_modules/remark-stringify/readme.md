remark-stringify [![Travis](https://img.shields.io/travis/remarkjs/remark/master.svg)](https://travis-ci.org/remarkjs/remark) [![Coverage](https://img.shields.io/codecov/c/github/remarkjs/remark.svg)](https://codecov.io/github/remarkjs/remark) [![Downloads](https://img.shields.io/npm/dm/remark-stringify.svg)](https://www.npmjs.com/package/remark-stringify) [![Size](https://img.shields.io/bundlephobia/minzip/remark-stringify.svg)](https://bundlephobia.com/result?p=remark-stringify) [![Chat](https://img.shields.io/badge/join%20the%20community-on%20spectrum-7b16ff.svg)](https://spectrum.chat/unified/remark)
===================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================

[Compiler](https://github.com/unifiedjs/unified#processorcompiler) for [**unified**](https://github.com/unifiedjs/unified). Stringifies [**mdast**](https://github.com/syntax-tree/mdast) syntax trees to markdown. Used in the [**remark** processor](https://github.com/remarkjs/remark) but can be used on its own as well. Can be [extended](#extending-the-compiler) to change how markdown is parsed.

------------------------------------------------------------------------

**Announcing the unified collective! ðŸŽ‰ [Read more about it on Medium Â»](https://medium.com/unifiedjs/collectively-evolving-through-crowdsourcing-22c359ea95cc)**

Sponsors
--------

<table><tbody><tr class="odd"><td style="text-align: center;"><a href="https://zeit.co"><img src="https://avatars1.githubusercontent.com/u/14985020?s=400&amp;v=4" /></a><br />
<br />
ðŸ¥‡ <a href="https://zeit.co">ZEIT</a></td><td style="text-align: center;"><a href="https://www.gatsbyjs.org"><img src="https://avatars1.githubusercontent.com/u/12551863?s=400&amp;v=4" /></a><br />
<br />
ðŸ¥‡ <a href="https://www.gatsbyjs.org">Gatsby</a></td><td style="text-align: center;"><a href="https://compositor.io"><img src="https://avatars1.githubusercontent.com/u/19245838?s=400&amp;v=4" /></a><br />
<br />
ðŸ¥‰ <a href="https://compositor.io">Compositor</a></td><td style="text-align: center;"><a href="https://www.holloway.com"><img src="https://avatars1.githubusercontent.com/u/35904294?s=400&amp;v=4" /></a><br />
<br />
<a href="https://www.holloway.com">Holloway</a></td><td style="text-align: center;"><br />
<br />
<br />
<br />
<strong>You?</strong></td></tr></tbody></table>

Installation
------------

[npm](https://docs.npmjs.com/cli/install):

    npm install remark-stringify

Usage
-----

    var unified = require('unified')
    var createStream = require('unified-stream')
    var parse = require('remark-parse')
    var toc = require('remark-toc')
    var stringify = require('remark-stringify')

    var processor = unified()
      .use(parse)
      .use(toc)
      .use(stringify, {
        bullet: '*',
        fence: '~',
        fences: true,
        incrementListMarker: false
      })

    process.stdin.pipe(createStream(processor)).pipe(process.stdout)

Table of Contents
-----------------

-   [API](#api)
    -   [processor.use(stringify\[, options\])](#processorusestringify-options)
    -   [stringify.Compiler](#stringifycompiler)
-   [Extending the Compiler](#extending-the-compiler)
    -   [Compiler\#visitors](#compilervisitors)
    -   [function visitor(node\[, parent\])](#function-visitornode-parent)
-   [License](#license)

API
---

### `processor.use(stringify[, options])`

Configure the `processor` to stringify [**mdast**](https://github.com/syntax-tree/mdast) syntax trees to markdown.

##### `options`

Options are passed directly, or passed later through [`processor.data()`](https://github.com/unifiedjs/unified#processordatakey-value).

###### `options.gfm`

Stringify with the required escapes for GFM compatible markdown (`boolean`, default: `true`).

-   Escape pipes (`|`, for tables)
-   Escape colons (`:`, for literal URLs)
-   Escape tildes (`~`, for strike-through)

###### `options.commonmark`

Stringify for CommonMark compatible markdown (`boolean`, default: `false`).

-   Compile adjacent blockquotes separately
-   Escape more characters using slashes, instead of as entities

###### `options.pedantic`

Stringify for pedantic compatible markdown (`boolean`, default: `false`).

-   Escape underscores in words

###### `options.entities`

How to stringify entities (`string` or `boolean`, default: `false`):

-   `true` â€” Entities are generated for special HTML characters (`&` &gt; `&amp;`) and non-ASCII characters (`Â©` &gt; `&copy;`). If named entities are not (widely) supported, numbered character references are used (`â€™` &gt; `&#x2019;`)
-   `'numbers'` â€” Numbered entities are generated (`&` &gt; `&#x26;`) for special HTML characters and non-ASCII characters
-   `'escape'` â€” Special HTML characters are encoded (`&` &gt; `&amp;`, `â€™` &gt; `&#x2019;`), non-ASCII characters not (Ã¶ persists)

###### `options.setext`

Compile headings, when possible, in Setext-style (`boolean`, default: `false`). Uses `=` for level one headings and `-` for level two headings. Other heading levels are compiled as ATX (respecting `closeAtx`).

###### `options.closeAtx`

Compile ATX headings with the same amount of closing hashes as opening hashes (`boolean`, default: `false`).

###### `options.looseTable`

Create tables without fences: initial and final pipes (`boolean`, default: `false`).

###### `options.spacedTable`

Create tables without spacing between pipes and content (`boolean`, default: `true`).

###### `options.paddedTable`

Create tables with padding in each cell so that they are the same size (`boolean`, default: `true`).

###### `options.stringLength`

Function passed to [`markdown-table`](https://github.com/wooorm/markdown-table) to detect the length of a table cell (`Function`, default: [`s => s.length`](https://github.com/wooorm/markdown-table#stringlengthcell)).

###### `options.fence`

Fence marker to use for code blocks (`'~'` or `` '`' ``, default: `` '`' ``).

###### `options.fences`

Stringify code blocks without language with fences (`boolean`, default: `false`).

###### `options.bullet`

Bullet marker to use for unordered list items (`'-'`, `'*'`, or `'+'`, default: `'-'`).

###### `options.listItemIndent`

How to indent the content from list items (`'tab'`, `'mixed'` or `'1'`, default: `'tab'`).

-   `'tab'`: use tab stops (4 spaces)
-   `'1'`: use one space
-   `'mixed'`: use `1` for tight and `tab` for loose list items

###### `options.incrementListMarker`

Whether to increment ordered list item bullets (`boolean`, default: `true`).

###### `options.rule`

Marker to use for thematic breaks / horizontal rules (`'-'`, `'*'`, or `'_'`, default: `'*'`).

###### `options.ruleRepetition`

Number of markers to use for thematic breaks / horizontal rules (`number`, default: `3`). Should be `3` or more.

###### `options.ruleSpaces`

Whether to pad thematic break (horizontal rule) markers with spaces (`boolean`, default `true`).

###### `options.strong`

Marker to use for importance (`'_'` or `'*'`, default `'*'`).

###### `options.emphasis`

Marker to use for emphasis (`'_'` or `'*'`, default `'_'`).

### `stringify.Compiler`

Access to the raw [compiler](https://github.com/unifiedjs/unified#processorcompiler), if you need it.

Extending the Compiler
----------------------

If this plugin is used, it adds a [`Compiler`](https://github.com/unifiedjs/unified#processorcompiler) constructor to the `processor`. Other plugins can change and add visitors on the compilerâ€™s prototype to change how markdown is stringified.

The below plugin modifies a [visitor](#function-visitornode-parent) to add an extra blank line before level two headings.

    module.exports = gap

    function gap() {
      var Compiler = this.Compiler
      var visitors = Compiler.prototype.visitors
      var original = visitors.heading

      visitors.heading = heading

      function heading(node) {
        return (node.depth === 2 ? '\n' : '') + original.apply(this, arguments)
      }
    }

### `Compiler#visitors`

An object mapping [node](https://github.com/syntax-tree/unist#node) types to [`visitor`](#function-visitornode-parent)s.

### `function visitor(node[, parent])`

Stringify `node`.

###### Parameters

-   `node` ([`Node`](https://github.com/syntax-tree/unist#node)) â€” Node to compile
-   `parent` ([`Node`](https://github.com/syntax-tree/unist#node), optional) â€” Parent of `node`

###### Returns

`string`, the compiled given `node`.

License
-------

[MIT](https://github.com/remarkjs/remark/blob/master/license) Â© [Titus Wormer](https://wooorm.com)
