<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>build</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<p><code>libsass</code> is only a library and does not do much on its own. You need an implementation that you can use from the <a href="https://github.com/sass/sassc">command line</a>. Or some <a href="implementations.md">bindings|Implementations</a> to use it within your favorite programming language. You should be able to get <a href="https://github.com/sass/sassc"><code>sassc</code></a> running by following the instructions in this guide.</p>
<p>Before starting, see <a href="setup-environment.md">setup dev environment</a>.</p>
<h2 id="building-on-different-operating-systems">Building on different Operating Systems</h2>
<p>We try to keep the code as OS independent and standard compliant as possible. Reading files from the file-system has some OS depending code, but will ultimately fall back to a posix compatible implementation. We do use some <code>C++11</code> features, but are so far only committed to use <code>unordered_map</code>. This means you will need a pretty recent compiler on most systems (gcc 4.5 seems to be the minimum).</p>
<h3 id="building-on-linux-and-other-nix-flavors">Building on Linux (and other *nix flavors)</h3>
<p>Linux is the main target for <code>libsass</code> and we support two ways to build <code>libsass</code> here. The old plain makefiles should still work on most systems (including MinGW), while the autotools build is preferred if you want to create a [system library] (experimental).</p>
<ul>
<li><a href="build-with-makefiles.md">Building with makefiles</a></li>
<li><a href="build-with-autotools.md">Building with autotools</a></li>
</ul>
<h3 id="building-on-windows-experimental">Building on Windows (experimental)</h3>
<p>Windows build support was added very recently and should be considered experimental. Credits go to <span class="citation" data-cites="darrenkopp">@darrenkopp</span> and <span class="citation" data-cites="am11">@am11</span> for their work on getting <code>libsass</code> and <code>sassc</code> to compile with visual studio!</p>
<ul>
<li><a href="build-with-mingw.md">Building with MinGW</a></li>
<li><a href="build-with-visual-studio.md">Building with Visual Studio</a></li>
</ul>
<h3 id="building-on-max-os-x-untested">Building on Max OS X (untested)</h3>
<p>Works the same as on linux, but you can also install LibSass via <code>homebrew</code>.</p>
<ul>
<li><a href="build-on-darwin.md">Building on Mac OS X</a></li>
</ul>
<h3 id="building-a-system-library-experimental">Building a system library (experimental)</h3>
<p>Since <code>libsass</code> is a library, it makes sense to install it as a shared library on your system. On linux this means creating a <code>.so</code> library via autotools. This should work pretty well already, but we are not yet committed to keep the ABI 100% stable. This should be the case once we increase the version number for the library to 1.0.0 or higher. On Windows you should be able get a <code>dll</code> by creating a shared build with MinGW. There is currently no target in the MSVC project files to do this.</p>
<ul>
<li><a href="build-shared-library.md">Building shared system library</a></li>
</ul>
<h2 id="compiling-with-clang-instead-of-gcc">Compiling with clang instead of gcc</h2>
<p>To use clang you just need to set the appropriate environment variables:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1"><span class="bu">export</span> <span class="va">CC=</span>/usr/bin/clang</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="bu">export</span> <span class="va">CXX=</span>/usr/bin/clang++</a></code></pre></div>
<h2 id="running-the-spec-test-suite">Running the spec test-suite</h2>
<p>We constantly and automatically test <code>libsass</code> against the official <a href="https://github.com/sass/sass-spec">spec test-suite</a>. To do this we need to have a test-runner (which is written in ruby) and a command-line tool (<a href="https://github.com/sass/sassc"><code>sassc</code></a>) to run the tests. Therefore we need to additionally compile <code>sassc</code>. To do this, the build files of all three projects need to work together. This may not have the same quality for all build flavors. You definitely need to have ruby (2.1?) installed (version 1.9 seems to cause problems at least on windows). You also need some gems installed:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" title="1"><span class="ex">ruby</span> -v</a>
<a class="sourceLine" id="cb2-2" title="2"><span class="ex">gem</span> install minitest</a>
<a class="sourceLine" id="cb2-3" title="3"><span class="co"># should be optional</span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="ex">gem</span> install minitap</a></code></pre></div>
<h2 id="including-the-libsass-version">Including the LibSass version</h2>
<p>There is a function in <code>libsass</code> to query the current version. This has to be defined at compile time. We use a C macro for this, which can be defined by calling <code>g++ -DLIBSASS_VERSION="\"x.y.z.\""</code>. The two quotes are necessary, since it needs to end up as a valid C string. Normally you do not need to do anything if you use the makefiles or autotools. They will try to fetch the version via git directly. If you only have the sources without the git repo, you can pass the version as an environment variable to <code>make</code> or <code>configure</code>:</p>
<pre><code>export LIBSASS_VERSION=&quot;x.y.z.&quot;</code></pre>
<h2 id="continuous-integration">Continuous Integration</h2>
<p>We use two CI services to automatically test all commits against the latest <a href="https://github.com/sass/sass-spec">spec test-suite</a>.</p>
<ul>
<li><a href="https://github.com/sass/libsass/blob/master/.travis.yml">LibSass on Travis-CI (linux)</a> <a href="https://travis-ci.org/sass/libsass"><img src="https://travis-ci.org/sass/libsass.png?branch=master" alt="Build Status" /></a></li>
<li><a href="https://github.com/sass/libsass/blob/master/appveyor.yml">LibSass on AppVeyor (windows)</a> <a href="https://ci.appveyor.com/project/mgreter/libsass-513/branch/master"><img src="https://ci.appveyor.com/api/projects/status/github/sass/libsass?svg=true" alt="Build status" /></a></li>
</ul>
<h2 id="why-not-using-cmake">Why not using CMake?</h2>
<p>There were some efforts to get <code>libsass</code> to compile with CMake, which should make it easier to create build files for linux and windows. Unfortunately this was not completed. But we are certainly open for PRs!</p>
<h2 id="miscellaneous">Miscellaneous</h2>
<ul>
<li><a href="build-on-gentoo.md">Ebuilds for Gentoo Linux</a></li>
</ul>
</body>
</html>
