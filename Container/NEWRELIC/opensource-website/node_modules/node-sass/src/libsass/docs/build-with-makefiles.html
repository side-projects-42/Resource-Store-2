<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>build-with-makefiles</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h3 id="get-the-sources">Get the sources</h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1"><span class="co"># using git is preferred</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="fu">git</span> clone https://github.com/sass/libsass.git</a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co"># only needed for sassc and/or testsuite</span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="fu">git</span> clone https://github.com/sass/sassc.git libsass/sassc</a>
<a class="sourceLine" id="cb1-5" title="5"><span class="fu">git</span> clone https://github.com/sass/sass-spec.git libsass/sass-spec</a></code></pre></div>
<h3 id="decide-for-static-or-shared-library">Decide for static or shared library</h3>
<p><code>libsass</code> can be built and linked as a <code>static</code> or as a <code>shared</code> library. The default is <code>static</code>. To change it you can set the <code>BUILD</code> environment variable:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" title="1"><span class="bu">export</span> <span class="va">BUILD=</span><span class="st">&quot;shared&quot;</span></a></code></pre></div>
<p>Alternatively you can also define it directly when calling make:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb3-1" title="1"><span class="va">BUILD=</span><span class="st">&quot;shared&quot;</span> <span class="fu">make</span> ...</a></code></pre></div>
<h3 id="compile-the-library">Compile the library</h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb4-1" title="1"><span class="fu">make</span> -C libsass -j5</a></code></pre></div>
<h3 id="results-can-be-found-in">Results can be found in</h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb5-1" title="1">$ <span class="fu">ls</span> libsass/lib</a>
<a class="sourceLine" id="cb5-2" title="2"><span class="ex">libsass.a</span> libsass.so</a></code></pre></div>
<h3 id="install-onto-the-system">Install onto the system</h3>
<p>We recommend to use <a href="build-with-autotools.md">autotools to install</a> libsass onto the system, since that brings all the benefits of using libtools as the main install method. If you still want to install libsass via the makefile, you need to make sure that gnu <code>install</code> utility (or compatible) is installed on your system.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb6-1" title="1"><span class="ex">yum</span> install coreutils <span class="co"># RedHat Linux</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="ex">emerge</span> -a coreutils <span class="co"># Gentoo Linux</span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="ex">pkgin</span> install coreutils <span class="co"># SmartOS</span></a></code></pre></div>
<p>You can set the install location by setting <code>PREFIX</code></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb7-1" title="1"><span class="va">PREFIX=</span><span class="st">&quot;/opt/local&quot;</span> <span class="fu">make</span> install</a></code></pre></div>
<h3 id="compling-sassc">Compling sassc</h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb8-1" title="1"><span class="co"># Let build know library location</span></a>
<a class="sourceLine" id="cb8-2" title="2"><span class="bu">export</span> <span class="va">SASS_LIBSASS_PATH=</span><span class="st">&quot;</span><span class="kw">`</span><span class="bu">pwd</span><span class="kw">`</span><span class="st">/libsass&quot;</span></a>
<a class="sourceLine" id="cb8-3" title="3"><span class="co"># Invokes the sassc makefile</span></a>
<a class="sourceLine" id="cb8-4" title="4"><span class="fu">make</span> -C libsass -j5 sassc</a></code></pre></div>
<h3 id="run-the-spec-test-suite">Run the spec test-suite</h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb9-1" title="1"><span class="co"># needs ruby available</span></a>
<a class="sourceLine" id="cb9-2" title="2"><span class="co"># also gem install minitest</span></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="fu">make</span> -C libsass -j5 test_build</a></code></pre></div>
</body>
</html>
