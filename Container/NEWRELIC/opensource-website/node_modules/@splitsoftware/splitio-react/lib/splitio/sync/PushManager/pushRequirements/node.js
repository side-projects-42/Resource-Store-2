"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.checkPushRequirements = checkPushRequirements;

var _node = _interopRequireDefault(require("../../../services/getEventSource/node"));

/**
 * Check if the Node environment has the necessary features to run in PUSH mode,
 * i.e., EventSource, base64 encoder and decoder.
 *
 * @return {boolean} if push is supported
 */
function checkPushRequirements(logger) {
  var esReference = (0, _node.default)();

  if (!esReference) {
    logger.warn('EventSource API is not available. Falling back to polling mode.');
    return false;
  }

  return true;
}