"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _tapeCatch = _interopRequireDefault(require("tape-catch"));

var _lrucache = _interopRequireDefault(require("./lrucache"));

(0, _tapeCatch.default)('Check Cache', function (assert) {
  var cache = new _lrucache.default(5, 1000);

  for (var i = 1; i <= 5; i++) {
    assert.equal(cache.set("key".concat(i), i), true);
  }

  for (var _i = 1; _i <= 5; _i++) {
    assert.equal(cache.get("key".concat(_i)), _i);
  }

  cache.set('key6', 6); // Oldest item (1) should have been removed

  assert.equal(cache.get('key1'), undefined); // 2-6 should be available

  for (var _i2 = 2; _i2 <= 6; _i2++) {
    assert.equal(cache.get("key".concat(_i2)), _i2);
  }

  assert.equal(cache.items.size, 5);
  assert.end();
});