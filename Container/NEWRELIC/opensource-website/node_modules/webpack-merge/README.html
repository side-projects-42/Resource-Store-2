<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<p><a href="https://opencollective.com/webpack-merge"><img src="https://opencollective.com/webpack-merge/all/badge.svg?label=financial+contributors" alt="Financial Contributors on Open Collective" /></a> <a href="http://travis-ci.org/survivejs/webpack-merge"><img src="https://secure.travis-ci.org/survivejs/webpack-merge.svg" alt="build status" /></a> <a href="https://codecov.io/gh/survivejs/webpack-merge"><img src="https://codecov.io/gh/survivejs/webpack-merge/branch/master/graph/badge.svg" alt="codecov" /></a></p>
<h1 id="webpack-merge---merge-designed-for-webpack">webpack-merge - Merge designed for Webpack</h1>
<p><strong>webpack-merge</strong> provides a <code>merge</code> function that concatenates arrays and merges objects creating a new object. If functions are encountered, it will execute them, run the results through the algorithm, and then wrap the returned values within a function again.</p>
<p>This behavior is particularly useful in configuring webpack although it has uses beyond it. Whenever you need to merge configuration objects, <strong>webpack-merge</strong> can come in handy.</p>
<h2 id="merge...configuration-...configuration"><strong><code>merge(...configuration | [...configuration])</code></strong></h2>
<p><code>merge</code> is the core, and the most important idea, of the API. Often this is all you need unless you want further customization.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">const</span> <span class="op">{</span> merge <span class="op">}</span> <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;webpack-merge&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-2" title="2"></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co">// Default API</span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="kw">const</span> output <span class="op">=</span> <span class="at">merge</span>(object1<span class="op">,</span> object2<span class="op">,</span> object3<span class="op">,</span> ...)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-5" title="5"></a>
<a class="sourceLine" id="cb1-6" title="6"><span class="co">// You can pass an array of objects directly.</span></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="co">// This works with all available functions.</span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="kw">const</span> output <span class="op">=</span> <span class="at">merge</span>([object1<span class="op">,</span> object2<span class="op">,</span> object3])<span class="op">;</span></a>
<a class="sourceLine" id="cb1-9" title="9"></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="co">// Keys matching to the right take precedence:</span></a>
<a class="sourceLine" id="cb1-11" title="11"><span class="kw">const</span> output <span class="op">=</span> <span class="at">merge</span>(</a>
<a class="sourceLine" id="cb1-12" title="12">  <span class="op">{</span> <span class="dt">fruit</span><span class="op">:</span> <span class="st">&quot;apple&quot;</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">&quot;red&quot;</span> <span class="op">},</span></a>
<a class="sourceLine" id="cb1-13" title="13">  <span class="op">{</span> <span class="dt">fruit</span><span class="op">:</span> <span class="st">&quot;strawberries&quot;</span> <span class="op">}</span></a>
<a class="sourceLine" id="cb1-14" title="14">)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-15" title="15"><span class="va">console</span>.<span class="at">log</span>(output)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-16" title="16"><span class="co">// { color: &quot;red&quot;, fruit: &quot;strawberries&quot;}</span></a></code></pre></div>
<h3 id="limitations">Limitations</h3>
<p>Note that <code>Promise</code>s are not supported! If you want to return a configuration wrapped within a <code>Promise</code>, <code>merge</code> inside one. Example: <code>Promise.resolve(merge({ ... }, { ... }))</code>.</p>
<p>The same goes for configuration level functions as in the example below:</p>
<p><strong>webpack.config.js</strong></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">const</span> commonConfig <span class="op">=</span> <span class="op">{</span> ... <span class="op">};</span></a>
<a class="sourceLine" id="cb2-2" title="2"></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="kw">const</span> productionConfig <span class="op">=</span> <span class="op">{</span> ... <span class="op">};</span></a>
<a class="sourceLine" id="cb2-4" title="4"></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="kw">const</span> developmentConfig <span class="op">=</span> <span class="op">{</span> ... <span class="op">};</span></a>
<a class="sourceLine" id="cb2-6" title="6"></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="va">module</span>.<span class="at">exports</span> <span class="op">=</span> (env<span class="op">,</span> args) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-8" title="8">  <span class="cf">switch</span>(<span class="va">args</span>.<span class="at">mode</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-9" title="9">    <span class="cf">case</span> <span class="st">&#39;development&#39;</span><span class="op">:</span></a>
<a class="sourceLine" id="cb2-10" title="10">      <span class="cf">return</span> <span class="at">merge</span>(commonConfig<span class="op">,</span> developmentConfig)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-11" title="11">    <span class="cf">case</span> <span class="st">&#39;production&#39;</span><span class="op">:</span></a>
<a class="sourceLine" id="cb2-12" title="12">      <span class="cf">return</span> <span class="at">merge</span>(commonConfig<span class="op">,</span> productionConfig)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-13" title="13">    <span class="cf">default</span><span class="op">:</span></a>
<a class="sourceLine" id="cb2-14" title="14">      <span class="cf">throw</span> <span class="kw">new</span> <span class="at">Error</span>(<span class="st">&#39;No matching configuration was found!&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-15" title="15">  <span class="op">}</span></a>
<a class="sourceLine" id="cb2-16" title="16"><span class="op">}</span></a></code></pre></div>
<p>You can choose the configuration you want by using <code>webpack --mode development</code> assuming you are using <em>webpack-cli</em>.</p>
<h2 id="mergewithcustomize-customizearray-customizeobject-...configuration-...configuration"><strong><code>mergeWithCustomize({ customizeArray, customizeObject })(...configuration | [...configuration])</code></strong></h2>
<p>In case you need more flexibility, <code>merge</code> behavior can be customized per field as below:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">const</span> <span class="op">{</span> mergeWithCustomize <span class="op">}</span> <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;webpack-merge&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-2" title="2"></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="kw">const</span> output <span class="op">=</span> <span class="at">mergeWithCustomize</span>(</a>
<a class="sourceLine" id="cb3-4" title="4">  <span class="op">{</span></a>
<a class="sourceLine" id="cb3-5" title="5">    <span class="at">customizeArray</span>(a<span class="op">,</span> b<span class="op">,</span> key) <span class="op">{</span></a>
<a class="sourceLine" id="cb3-6" title="6">      <span class="cf">if</span> (key <span class="op">===</span> <span class="st">&#39;extensions&#39;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb3-7" title="7">        <span class="cf">return</span> <span class="va">_</span>.<span class="at">uniq</span>([...<span class="at">a</span><span class="op">,</span> ...<span class="at">b</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb3-8" title="8">      <span class="op">}</span></a>
<a class="sourceLine" id="cb3-9" title="9"></a>
<a class="sourceLine" id="cb3-10" title="10">      <span class="co">// Fall back to default merging</span></a>
<a class="sourceLine" id="cb3-11" title="11">      <span class="cf">return</span> <span class="kw">undefined</span><span class="op">;</span></a>
<a class="sourceLine" id="cb3-12" title="12">    <span class="op">},</span></a>
<a class="sourceLine" id="cb3-13" title="13">    <span class="at">customizeObject</span>(a<span class="op">,</span> b<span class="op">,</span> key) <span class="op">{</span></a>
<a class="sourceLine" id="cb3-14" title="14">      <span class="cf">if</span> (key <span class="op">===</span> <span class="st">&#39;module&#39;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb3-15" title="15">        <span class="co">// Custom merging</span></a>
<a class="sourceLine" id="cb3-16" title="16">        <span class="cf">return</span> <span class="va">_</span>.<span class="at">merge</span>(<span class="op">{},</span> a<span class="op">,</span> b)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-17" title="17">      <span class="op">}</span></a>
<a class="sourceLine" id="cb3-18" title="18"></a>
<a class="sourceLine" id="cb3-19" title="19">      <span class="co">// Fall back to default merging</span></a>
<a class="sourceLine" id="cb3-20" title="20">      <span class="cf">return</span> <span class="kw">undefined</span><span class="op">;</span></a>
<a class="sourceLine" id="cb3-21" title="21">    <span class="op">}</span></a>
<a class="sourceLine" id="cb3-22" title="22">  <span class="op">}</span></a>
<a class="sourceLine" id="cb3-23" title="23">)(object1<span class="op">,</span> object2<span class="op">,</span> object3<span class="op">,</span> ...)<span class="op">;</span></a></code></pre></div>
<p>For example, if the previous code was invoked with only <code>object1</code> and <code>object2</code> with <code>object1</code> as:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="op">{</span></a>
<a class="sourceLine" id="cb4-2" title="2">    <span class="dt">foo1</span><span class="op">:</span> [<span class="st">&#39;object1&#39;</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb4-3" title="3">    <span class="dt">foo2</span><span class="op">:</span> [<span class="st">&#39;object1&#39;</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb4-4" title="4">    <span class="dt">bar1</span><span class="op">:</span> <span class="op">{</span> <span class="dt">object1</span><span class="op">:</span> <span class="op">{}</span> <span class="op">},</span></a>
<a class="sourceLine" id="cb4-5" title="5">    <span class="dt">bar2</span><span class="op">:</span> <span class="op">{</span> <span class="dt">object1</span><span class="op">:</span> <span class="op">{}</span> <span class="op">},</span></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="op">}</span></a></code></pre></div>
<p>and <code>object2</code> as:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="op">{</span></a>
<a class="sourceLine" id="cb5-2" title="2">    <span class="dt">foo1</span><span class="op">:</span> [<span class="st">&#39;object2&#39;</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb5-3" title="3">    <span class="dt">foo2</span><span class="op">:</span> [<span class="st">&#39;object2&#39;</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb5-4" title="4">    <span class="dt">bar1</span><span class="op">:</span> <span class="op">{</span> <span class="dt">object2</span><span class="op">:</span> <span class="op">{}</span> <span class="op">},</span></a>
<a class="sourceLine" id="cb5-5" title="5">    <span class="dt">bar2</span><span class="op">:</span> <span class="op">{</span> <span class="dt">object2</span><span class="op">:</span> <span class="op">{}</span> <span class="op">},</span></a>
<a class="sourceLine" id="cb5-6" title="6"><span class="op">}</span></a></code></pre></div>
<p>then <code>customizeArray</code> will be invoked for each property of <code>Array</code> type, i.e:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="at">customizeArray</span>([<span class="st">&quot;object1&quot;</span>]<span class="op">,</span> [<span class="st">&quot;object2&quot;</span>]<span class="op">,</span> <span class="st">&quot;foo1&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="at">customizeArray</span>([<span class="st">&quot;object1&quot;</span>]<span class="op">,</span> [<span class="st">&quot;object2&quot;</span>]<span class="op">,</span> <span class="st">&quot;foo2&quot;</span>)<span class="op">;</span></a></code></pre></div>
<p>and <code>customizeObject</code> will be invoked for each property of <code>Object</code> type, i.e:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="at">customizeObject</span>(<span class="op">{</span> <span class="dt">object1</span><span class="op">:</span> <span class="op">{}</span> <span class="op">},</span> <span class="op">{</span> <span class="dt">object2</span><span class="op">:</span> <span class="op">{}</span> <span class="op">},</span> bar1)<span class="op">;</span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="at">customizeObject</span>(<span class="op">{</span> <span class="dt">object1</span><span class="op">:</span> <span class="op">{}</span> <span class="op">},</span> <span class="op">{</span> <span class="dt">object2</span><span class="op">:</span> <span class="op">{}</span> <span class="op">},</span> bar2)<span class="op">;</span></a></code></pre></div>
<h2 id="customizearray-and-customizeobject"><strong><code>customizeArray</code></strong> and <strong><code>customizeObject</code></strong></h2>
<p><code>customizeArray</code> and <code>customizeObject</code> provide small strategies to for <code>mergeWithCustomize</code>. They support <code>append</code>, <code>prepend</code>, <code>replace</code>, and wildcards for field names.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1"><span class="kw">const</span> <span class="op">{</span> mergeWithCustomize<span class="op">,</span> customizeArray<span class="op">,</span> customizeObject <span class="op">}</span> <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;webpack-merge&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-2" title="2"></a>
<a class="sourceLine" id="cb8-3" title="3"><span class="kw">const</span> output <span class="op">=</span> <span class="at">mergeWithCustomize</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb8-4" title="4">  <span class="dt">customizeArray</span><span class="op">:</span> <span class="at">customizeArray</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb8-5" title="5">    <span class="st">&#39;entry.*&#39;</span><span class="op">:</span> <span class="st">&#39;prepend&#39;</span></a>
<a class="sourceLine" id="cb8-6" title="6">  <span class="op">}</span>)<span class="op">,</span></a>
<a class="sourceLine" id="cb8-7" title="7">  <span class="dt">customizeObject</span><span class="op">:</span> <span class="at">customizeObject</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb8-8" title="8">    <span class="dt">entry</span><span class="op">:</span> <span class="st">&#39;prepend&#39;</span></a>
<a class="sourceLine" id="cb8-9" title="9">  <span class="op">}</span>)</a>
<a class="sourceLine" id="cb8-10" title="10"><span class="op">}</span>)(object1<span class="op">,</span> object2<span class="op">,</span> object3<span class="op">,</span> ...)<span class="op">;</span></a></code></pre></div>
<h2 id="uniquefield-fields-field-field"><strong><code>unique(&lt;field&gt;, &lt;fields&gt;, field =&gt; field)</code></strong></h2>
<p><code>unique</code> is a strategy used for forcing uniqueness within configuration. It’s most useful with plugins when you want to make sure there’s only one in place.</p>
<p>The first <code>&lt;field&gt;</code> is the config property to look through for duplicates.</p>
<p><code>&lt;fields&gt;</code> represents the values that should be unique when you run the field =&gt; field function on each duplicate.</p>
<p>When the order of elements of the <code>&lt;field&gt;</code> in the first configuration differs from the order in the second configuration, the latter is preserved.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">const</span> <span class="op">{</span> mergeWithCustomize<span class="op">,</span> unique <span class="op">}</span> <span class="op">=</span> <span class="at">require</span>(<span class="st">&quot;webpack-merge&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb9-2" title="2"></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="kw">const</span> output <span class="op">=</span> <span class="at">mergeWithCustomize</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb9-4" title="4">  <span class="dt">customizeArray</span><span class="op">:</span> <span class="at">unique</span>(</a>
<a class="sourceLine" id="cb9-5" title="5">    <span class="st">&quot;plugins&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb9-6" title="6">    [<span class="st">&quot;HotModuleReplacementPlugin&quot;</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb9-7" title="7">    (plugin) <span class="kw">=&gt;</span> <span class="va">plugin</span>.<span class="at">constructor</span> <span class="op">&amp;&amp;</span> <span class="va">plugin</span>.<span class="va">constructor</span>.<span class="at">name</span></a>
<a class="sourceLine" id="cb9-8" title="8">  )<span class="op">,</span></a>
<a class="sourceLine" id="cb9-9" title="9"><span class="op">}</span>)(</a>
<a class="sourceLine" id="cb9-10" title="10">  <span class="op">{</span></a>
<a class="sourceLine" id="cb9-11" title="11">    <span class="dt">plugins</span><span class="op">:</span> [<span class="kw">new</span> <span class="va">webpack</span>.<span class="at">HotModuleReplacementPlugin</span>()]<span class="op">,</span></a>
<a class="sourceLine" id="cb9-12" title="12">  <span class="op">},</span></a>
<a class="sourceLine" id="cb9-13" title="13">  <span class="op">{</span></a>
<a class="sourceLine" id="cb9-14" title="14">    <span class="dt">plugins</span><span class="op">:</span> [<span class="kw">new</span> <span class="va">webpack</span>.<span class="at">HotModuleReplacementPlugin</span>()]<span class="op">,</span></a>
<a class="sourceLine" id="cb9-15" title="15">  <span class="op">}</span></a>
<a class="sourceLine" id="cb9-16" title="16">)<span class="op">;</span></a>
<a class="sourceLine" id="cb9-17" title="17"></a>
<a class="sourceLine" id="cb9-18" title="18"><span class="co">// Output contains only single HotModuleReplacementPlugin now and it&#39;s</span></a>
<a class="sourceLine" id="cb9-19" title="19"><span class="co">// going to be the last plugin instance.</span></a></code></pre></div>
<h2 id="mergewithrules"><strong><code>mergeWithRules</code></strong></h2>
<p>To support advanced merging needs (i.e. merging within loaders), <code>mergeWithRules</code> includes additional syntax that allows you to match fields and apply strategies to match. Consider the full example below:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">const</span> a <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb10-2" title="2">  <span class="dt">module</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb10-3" title="3">    <span class="dt">rules</span><span class="op">:</span> [</a>
<a class="sourceLine" id="cb10-4" title="4">      <span class="op">{</span></a>
<a class="sourceLine" id="cb10-5" title="5">        <span class="dt">test</span><span class="op">:</span> <span class="ss">/</span><span class="sc">\.</span><span class="ss">css</span><span class="sc">$</span><span class="ss">/</span><span class="op">,</span></a>
<a class="sourceLine" id="cb10-6" title="6">        <span class="dt">use</span><span class="op">:</span> [<span class="op">{</span> <span class="dt">loader</span><span class="op">:</span> <span class="st">&quot;style-loader&quot;</span> <span class="op">},</span> <span class="op">{</span> <span class="dt">loader</span><span class="op">:</span> <span class="st">&quot;sass-loader&quot;</span> <span class="op">}</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb10-7" title="7">      <span class="op">},</span></a>
<a class="sourceLine" id="cb10-8" title="8">    ]<span class="op">,</span></a>
<a class="sourceLine" id="cb10-9" title="9">  <span class="op">},</span></a>
<a class="sourceLine" id="cb10-10" title="10"><span class="op">};</span></a>
<a class="sourceLine" id="cb10-11" title="11"><span class="kw">const</span> b <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb10-12" title="12">  <span class="dt">module</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb10-13" title="13">    <span class="dt">rules</span><span class="op">:</span> [</a>
<a class="sourceLine" id="cb10-14" title="14">      <span class="op">{</span></a>
<a class="sourceLine" id="cb10-15" title="15">        <span class="dt">test</span><span class="op">:</span> <span class="ss">/</span><span class="sc">\.</span><span class="ss">css</span><span class="sc">$</span><span class="ss">/</span><span class="op">,</span></a>
<a class="sourceLine" id="cb10-16" title="16">        <span class="dt">use</span><span class="op">:</span> [</a>
<a class="sourceLine" id="cb10-17" title="17">          <span class="op">{</span></a>
<a class="sourceLine" id="cb10-18" title="18">            <span class="dt">loader</span><span class="op">:</span> <span class="st">&quot;style-loader&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb10-19" title="19">            <span class="dt">options</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb10-20" title="20">              <span class="dt">modules</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></a>
<a class="sourceLine" id="cb10-21" title="21">            <span class="op">},</span></a>
<a class="sourceLine" id="cb10-22" title="22">          <span class="op">},</span></a>
<a class="sourceLine" id="cb10-23" title="23">        ]<span class="op">,</span></a>
<a class="sourceLine" id="cb10-24" title="24">      <span class="op">},</span></a>
<a class="sourceLine" id="cb10-25" title="25">    ]<span class="op">,</span></a>
<a class="sourceLine" id="cb10-26" title="26">  <span class="op">},</span></a>
<a class="sourceLine" id="cb10-27" title="27"><span class="op">};</span></a>
<a class="sourceLine" id="cb10-28" title="28"><span class="kw">const</span> result <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb10-29" title="29">  <span class="dt">module</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb10-30" title="30">    <span class="dt">rules</span><span class="op">:</span> [</a>
<a class="sourceLine" id="cb10-31" title="31">      <span class="op">{</span></a>
<a class="sourceLine" id="cb10-32" title="32">        <span class="dt">test</span><span class="op">:</span> <span class="ss">/</span><span class="sc">\.</span><span class="ss">css</span><span class="sc">$</span><span class="ss">/</span><span class="op">,</span></a>
<a class="sourceLine" id="cb10-33" title="33">        <span class="dt">use</span><span class="op">:</span> [</a>
<a class="sourceLine" id="cb10-34" title="34">          <span class="op">{</span></a>
<a class="sourceLine" id="cb10-35" title="35">            <span class="dt">loader</span><span class="op">:</span> <span class="st">&quot;style-loader&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb10-36" title="36">            <span class="dt">options</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb10-37" title="37">              <span class="dt">modules</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></a>
<a class="sourceLine" id="cb10-38" title="38">            <span class="op">},</span></a>
<a class="sourceLine" id="cb10-39" title="39">          <span class="op">},</span></a>
<a class="sourceLine" id="cb10-40" title="40">          <span class="op">{</span> <span class="dt">loader</span><span class="op">:</span> <span class="st">&quot;sass-loader&quot;</span> <span class="op">},</span></a>
<a class="sourceLine" id="cb10-41" title="41">        ]<span class="op">,</span></a>
<a class="sourceLine" id="cb10-42" title="42">      <span class="op">},</span></a>
<a class="sourceLine" id="cb10-43" title="43">    ]<span class="op">,</span></a>
<a class="sourceLine" id="cb10-44" title="44">  <span class="op">},</span></a>
<a class="sourceLine" id="cb10-45" title="45"><span class="op">};</span></a>
<a class="sourceLine" id="cb10-46" title="46"></a>
<a class="sourceLine" id="cb10-47" title="47"><span class="va">assert</span>.<span class="at">deepStrictEqual</span>(</a>
<a class="sourceLine" id="cb10-48" title="48">  <span class="at">mergeWithRules</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb10-49" title="49">    <span class="dt">module</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb10-50" title="50">      <span class="dt">rules</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb10-51" title="51">        <span class="dt">test</span><span class="op">:</span> <span class="st">&quot;match&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb10-52" title="52">        <span class="dt">use</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb10-53" title="53">          <span class="dt">loader</span><span class="op">:</span> <span class="st">&quot;match&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb10-54" title="54">          <span class="dt">options</span><span class="op">:</span> <span class="st">&quot;replace&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb10-55" title="55">        <span class="op">},</span></a>
<a class="sourceLine" id="cb10-56" title="56">      <span class="op">},</span></a>
<a class="sourceLine" id="cb10-57" title="57">    <span class="op">},</span></a>
<a class="sourceLine" id="cb10-58" title="58">  <span class="op">}</span>)(a<span class="op">,</span> b)<span class="op">,</span></a>
<a class="sourceLine" id="cb10-59" title="59">  result</a>
<a class="sourceLine" id="cb10-60" title="60">)<span class="op">;</span></a></code></pre></div>
<p>The way it works is that you should annotate fields to match using <code>match</code> (or <code>CustomizeRule.Match</code> if you are using TypeScript) matching your configuration structure and then use specific strategies to define how particular fields should be transformed. If a match doesn’t exist above a rule, then it will apply the rule automatically.</p>
<p><strong>Supported annotations:</strong></p>
<ul>
<li><code>match</code> (<code>CustomizeRule.Match</code>) - Optional matcher that scopes merging behavior to a specific part based on similarity (think DOM or jQuery selectors)</li>
<li><code>append</code> (<code>CustomizeRule.Append</code>) - Appends items</li>
<li><code>prepend</code> (<code>CustomizeRule.Prepend</code>) - Prepends items</li>
<li><code>replace</code> (<code>CustomizeRule.Replace</code>) - Replaces items</li>
<li><code>merge</code> (<code>CustomizeRule.Merge</code>) - Merges objects (shallow merge)</li>
</ul>
<h2 id="using-with-typescript">Using with TypeScript</h2>
<p><strong>webpack-merge</strong> supports TypeScript out of the box. You should pass <code>Configuration</code> type from webpack to it as follows:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode typescript"><code class="sourceCode typescript"><a class="sourceLine" id="cb11-1" title="1"><span class="im">import</span> <span class="op">{</span> Configuration <span class="op">}</span> <span class="im">from</span> <span class="st">&quot;webpack&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb11-2" title="2"><span class="im">import</span> <span class="op">{</span> merge <span class="op">}</span> <span class="im">from</span> <span class="st">&quot;webpack-merge&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb11-3" title="3"></a>
<a class="sourceLine" id="cb11-4" title="4"><span class="kw">const</span> config <span class="op">=</span> <span class="fu">merge</span><span class="op">&lt;</span>Configuration<span class="op">&gt;</span>(<span class="op">{...},</span> <span class="op">{...}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-5" title="5"></a>
<a class="sourceLine" id="cb11-6" title="6"><span class="op">...</span></a></code></pre></div>
<h2 id="development">Development</h2>
<ol type="1">
<li><code>nvm use</code></li>
<li><code>npm i</code></li>
<li><code>npm run build -- --watch</code> in one terminal</li>
<li><code>npm t -- --watch</code> in another one</li>
</ol>
<p>Before contributing, please <a href="https://github.com/survivejs/webpack-merge/issues/new">open an issue</a> where to discuss.</p>
<h2 id="further-information-and-support">Further Information and Support</h2>
<p>Check out <a href="http://survivejs.com/">SurviveJS - Webpack 5</a> to dig deeper into webpack. The free book uses <strong>webpack-merge</strong> extensively and shows you how to compose your configuration to keep it maintainable.</p>
<p>I am also available as a consultant in case you require specific assistance. I can contribute particularly in terms of improving maintainability of the setup while speeding it up and pointing out better practices. In addition to improving developer productivity, the work has impact on the end users of the product in terms of reduced application size and loading times.</p>
<h2 id="contributors">Contributors</h2>
<h3 id="code-contributors">Code Contributors</h3>
<p>This project exists thanks to all the people who contribute. [<a href="CONTRIBUTING.md">Contribute</a>]. <a href="https://github.com/survivejs/webpack-merge/graphs/contributors"><img src="https://opencollective.com/webpack-merge/contributors.svg?width=890&button=false" /></a></p>
<h3 id="financial-contributors">Financial Contributors</h3>
<p>Become a financial contributor and help us sustain our community. [<a href="https://opencollective.com/webpack-merge/contribute">Contribute</a>]</p>
<h4 id="individuals">Individuals</h4>
<p><a href="https://opencollective.com/webpack-merge"><img src="https://opencollective.com/webpack-merge/individuals.svg?width=890"></a></p>
<h4 id="organizations">Organizations</h4>
<p>Support this project with your organization. Your logo will show up here with a link to your website. [<a href="https://opencollective.com/webpack-merge/contribute">Contribute</a>]</p>
<p><a href="https://opencollective.com/webpack-merge/organization/0/website"><img src="https://opencollective.com/webpack-merge/organization/0/avatar.svg"></a> <a href="https://opencollective.com/webpack-merge/organization/1/website"><img src="https://opencollective.com/webpack-merge/organization/1/avatar.svg"></a> <a href="https://opencollective.com/webpack-merge/organization/2/website"><img src="https://opencollective.com/webpack-merge/organization/2/avatar.svg"></a> <a href="https://opencollective.com/webpack-merge/organization/3/website"><img src="https://opencollective.com/webpack-merge/organization/3/avatar.svg"></a> <a href="https://opencollective.com/webpack-merge/organization/4/website"><img src="https://opencollective.com/webpack-merge/organization/4/avatar.svg"></a> <a href="https://opencollective.com/webpack-merge/organization/5/website"><img src="https://opencollective.com/webpack-merge/organization/5/avatar.svg"></a> <a href="https://opencollective.com/webpack-merge/organization/6/website"><img src="https://opencollective.com/webpack-merge/organization/6/avatar.svg"></a> <a href="https://opencollective.com/webpack-merge/organization/7/website"><img src="https://opencollective.com/webpack-merge/organization/7/avatar.svg"></a> <a href="https://opencollective.com/webpack-merge/organization/8/website"><img src="https://opencollective.com/webpack-merge/organization/8/avatar.svg"></a> <a href="https://opencollective.com/webpack-merge/organization/9/website"><img src="https://opencollective.com/webpack-merge/organization/9/avatar.svg"></a></p>
<h2 id="license">License</h2>
<p><strong>webpack-merge</strong> is available under MIT. See LICENSE for more details.</p>
</body>
</html>
