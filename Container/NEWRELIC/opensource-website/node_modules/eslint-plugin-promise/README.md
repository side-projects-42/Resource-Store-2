eslint-plugin-promise
=====================

Enforce best practices for JavaScript promises.

[![travis-ci](https://travis-ci.org/xjamundx/eslint-plugin-promise.svg)](https://travis-ci.org/xjamundx/eslint-plugin-promise) [![npm version](https://badge.fury.io/js/eslint-plugin-promise.svg)](https://www.npmjs.com/package/eslint-plugin-promise) [![code style: prettier](https://img.shields.io/badge/code_style-prettier-ff69b4.svg)](https://github.com/prettier/prettier)

-   [Installation](#installation)
-   [Usage](#usage)
-   [Rules](#rules)
-   [Maintainers](#maintainers)
-   [License](#license)

Installation
------------

Youâ€™ll first need to install [ESLint](http://eslint.org):

    $ npm install eslint --save-dev

Next, install `eslint-plugin-promise`:

    $ npm install eslint-plugin-promise --save-dev

**Note:** If you installed ESLint globally (using the `-g` flag) then you must also install `eslint-plugin-promise` globally.

Usage
-----

Add `promise` to the plugins section of your `.eslintrc.json` configuration file. You can omit the `eslint-plugin-` prefix:

    {
      "plugins": ["promise"]
    }

Then configure the rules you want to use under the rules section.

    {
      "rules": {
        "promise/always-return": "error",
        "promise/no-return-wrap": "error",
        "promise/param-names": "error",
        "promise/catch-or-return": "error",
        "promise/no-native": "off",
        "promise/no-nesting": "warn",
        "promise/no-promise-in-callback": "warn",
        "promise/no-callback-in-promise": "warn",
        "promise/avoid-new": "warn",
        "promise/no-new-statics": "error",
        "promise/no-return-in-finally": "warn",
        "promise/valid-params": "warn"
      }
    }

or start with the recommended rule set:

    {
      "extends": ["plugin:promise/recommended"]
    }

Rules
-----

<table style="width:99%;"><colgroup><col style="width: 36%" /><col style="width: 51%" /><col style="width: 7%" /><col style="width: 5%" /></colgroup><thead><tr class="header"><th>rule</th><th>description</th><th>recommended</th><th>fixable</th></tr></thead><tbody><tr class="odd"><td><a href="docs/rules/catch-or-return.md"><code>catch-or-return</code></a></td><td>Enforces the use of <code>catch()</code> on un-returned promises.</td><td>:bangbang:</td><td></td></tr><tr class="even"><td><a href="docs/rules/no-return-wrap.md"><code>no-return-wrap</code></a></td><td>Avoid wrapping values in <code>Promise.resolve</code> or <code>Promise.reject</code> when not needed.</td><td>:bangbang:</td><td></td></tr><tr class="odd"><td><a href="docs/rules/param-names.md"><code>param-names</code></a></td><td>Enforce consistent param names and ordering when creating new promises.</td><td>:bangbang:</td><td></td></tr><tr class="even"><td><a href="docs/rules/always-return.md"><code>always-return</code></a></td><td>Return inside each <code>then()</code> to create readable and reusable Promise chains.</td><td>:bangbang:</td><td></td></tr><tr class="odd"><td><a href="docs/rules/no-native.md"><code>no-native</code></a></td><td>In an ES5 environment, make sure to create a <code>Promise</code> constructor before using.</td><td></td><td></td></tr><tr class="even"><td><a href="docs/rules/no-nesting.md"><code>no-nesting</code></a></td><td>Avoid nested <code>then()</code> or <code>catch()</code> statements</td><td>:warning:</td><td></td></tr><tr class="odd"><td><a href="docs/rules/no-promise-in-callback.md"><code>no-promise-in-callback</code></a></td><td>Avoid using promises inside of callbacks</td><td>:warning:</td><td></td></tr><tr class="even"><td><a href="docs/rules/no-callback-in-promise.md"><code>no-callback-in-promise</code></a></td><td>Avoid calling <code>cb()</code> inside of a <code>then()</code> (use <a href="https://www.npmjs.com/package/nodeify">nodeify</a> instead)</td><td>:warning:</td><td></td></tr><tr class="odd"><td><a href="docs/rules/avoid-new.md"><code>avoid-new</code></a></td><td>Avoid creating <code>new</code> promises outside of utility libs (use <a href="https://www.npmjs.com/package/pify">pify</a> instead)</td><td></td><td></td></tr><tr class="even"><td><a href="docs/rules/no-new-statics.md"><code>no-new-statics</code></a></td><td>Avoid calling <code>new</code> on a Promise static method</td><td>:bangbang:</td><td>:wrench:</td></tr><tr class="odd"><td><a href="docs/rules/no-return-in-finally.md"><code>no-return-in-finally</code></a></td><td>Disallow return statements in <code>finally()</code></td><td>:warning:</td><td></td></tr><tr class="even"><td><a href="docs/rules/valid-params.md"><code>valid-params</code></a></td><td>Ensures the proper number of arguments are passed to Promise functions</td><td>:warning:</td><td></td></tr><tr class="odd"><td><a href="docs/rules/prefer-await-to-then.md"><code>prefer-await-to-then</code></a></td><td>Prefer <code>await</code> to <code>then()</code> for reading Promise values</td><td>:seven:</td><td></td></tr><tr class="even"><td><a href="docs/rules/prefer-await-to-callbacks.md"><code>prefer-await-to-callbacks</code></a></td><td>Prefer async/await to the callback pattern</td><td>:seven:</td><td></td></tr></tbody></table>

**Key**

<table><thead><tr class="header"><th>icon</th><th>description</th></tr></thead><tbody><tr class="odd"><td>:bangbang:</td><td>Reports as error in recommended configuration</td></tr><tr class="even"><td>:warning:</td><td>Reports as warning in recommended configuration</td></tr><tr class="odd"><td>:seven:</td><td>ES2017 Async Await rules</td></tr><tr class="even"><td>:wrench:</td><td>Rule is fixable with <code>eslint --fix</code></td></tr></tbody></table>

Maintainers
-----------

-   Jamund Ferguson - <span class="citation" data-cites="xjamundx">\[@xjamundx\]</span>\[\]
-   Macklin Underdown - <span class="citation" data-cites="macklinu">\[@macklinu\]</span>\[\]

License
-------

-   1.  MMXV jden <a href="mailto:jason@denizac.org" class="uri">mailto:jason@denizac.org</a> - ISC license.

-   1.  2016 Jamund Ferguson <a href="mailto:jamund@gmail.com" class="uri">mailto:jamund@gmail.com</a> - ISC license.

<span class="citation" data-cites="macklinu">\[@macklinu\]</span>: https://github.com/macklinu <span class="citation" data-cites="xjamundx">\[@xjamundx\]</span>: https://github.com/xjamundx
