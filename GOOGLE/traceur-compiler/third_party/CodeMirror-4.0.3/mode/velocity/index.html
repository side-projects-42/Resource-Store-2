<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>index</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
</head>
<body>
<p>CodeMirror: Velocity mode</p>
<p><a href="http://codemirror.net"><img src="../../doc/logo.png" id="logo" /></a></p>
<ul>
<li><a href="../../index.html">Home</a></li>
<li><a href="../../doc/manual.html">Manual</a></li>
<li><a href="https://github.com/marijnh/codemirror">Code</a></li>
</ul>
<!-- -->
<ul>
<li><a href="../index.html">Language modes</a></li>
<li><a href="#" class="active">Velocity</a></li>
</ul>
<h2 id="velocity-mode">Velocity mode</h2>
<p>## Velocity Code Demo #* based on PL/SQL mode by Peter Raganitsch, adapted to Velocity by Steve O’Hara ( http://www.pivotal-solutions.co.uk ) August 2011 *# #* This is a multiline comment. This is the second line *# #[[ hello steve This has invalid syntax that would normally need “poor man’s escaping” like: #define() ${blah ]]# #include( “disclaimer.txt” “opinion.txt” ) #include( $foo $bar ) #parse( “lecorbusier.vm” ) #parse( $foo ) #evaluate( ‘string with VTL #if(true)will be displayed#end’ ) #define( $hello ) Hello $who #end #set( $who = “World!”) $hello ## displays Hello World! #foreach( $customer in $customerList ) $foreach.count $customer.Name #if( $foo == <span class="math inline"><em>b</em><em>a</em><em>r</em>)<em>i</em><em>t</em>′<em>s</em><em>t</em><em>r</em><em>u</em><em>e</em>!#<em>b</em><em>r</em><em>e</em><em>a</em><em>k</em>#<em>e</em><em>l</em><em>s</em><em>e</em><em>i</em><em>t</em>′<em>s</em><em>n</em><em>o</em><em>t</em>!#<em>s</em><em>t</em><em>o</em><em>p</em>#<em>e</em><em>n</em><em>d</em>#<em>i</em><em>f</em>(</span>foreach.parent.hasNext) $velocityCount #end #end $someObject.getValues(“this is a string split across lines”) $someObject(“This plus $something in the middle”).method(7567).property #macro( tablerows $color $somelist ) #foreach( $something in $somelist )</p>
<p>$something</p>
<p>$bodyContent</p>
<p>#end #end #tablerows(“red” [“dadsdf”,“dsa”]) #<span class="citation" data-cites="tablerows">@tablerows</span>(“red” [“dadsdf”,“dsa”]) some body content #end Variable reference: #set( $monkey = $bill ) String literal: #set( $monkey.Friend = ‘monica’ ) Property reference: #set( $monkey.Blame = $whitehouse.Leak ) Method reference: #set( $monkey.Plan = <span class="math inline"><em>s</em><em>p</em><em>i</em><em>n</em><em>d</em><em>o</em><em>c</em><em>t</em><em>o</em><em>r</em>.<em>w</em><em>e</em><em>a</em><em>v</em><em>e</em>(</span>web) ) Number literal: #set( $monkey.Number = 123 ) Range operator: #set( $monkey.Numbers = [1..3] ) Object list: #set( $monkey.Say = [“Not”, $my, “fault”] ) Object map: #set( $monkey.Map = {“banana” : “good”, “roast beef” : “bad”}) The RHS can also be a simple arithmetic expression, such as: Addition: #set( $value = $foo + 1 ) Subtraction: #set( $value = $bar - 1 ) Multiplication: #set( $value = $foo * $bar ) Division: #set( $value = $foo / $bar ) Remainder: #set( $value = $foo % $bar )</p>
<p><strong>MIME types defined:</strong> <code>text/velocity</code>.</p>
</body>
</html>
