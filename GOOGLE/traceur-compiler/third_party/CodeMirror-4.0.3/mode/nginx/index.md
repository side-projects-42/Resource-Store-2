CodeMirror: NGINX mode

[<img src="../../doc/logo.png" id="logo" />](http://codemirror.net)

-   [Home](../../index.html)
-   [Manual](../../doc/manual.html)
-   [Code](https://github.com/marijnh/codemirror)

<!-- -->

-   [Language modes](../index.html)
-   <a href="#" class="active">NGINX</a>

NGINX mode
----------

server { listen 173.255.219.235:80; server\_name website.com.au; rewrite / <span class="math inline">*scheme* : //*www*.</span>host$request\_uri permanent; \#\# Forcibly prepend a www } server { listen 173.255.219.235:443; server\_name website.com.au; rewrite / <span class="math inline">*scheme* : //*www*.</span>host$request\_uri permanent; \#\# Forcibly prepend a www } server { listen 173.255.219.235:80; server\_name www.website.com.au; root /data/www; index index.html index.php; location / { index index.html index.php; \#\# Allow a static html file to be shown first try\_files $uri $uri/ <span class="citation" data-cites="handler">@handler</span>; \#\# If missing pass the URI to Magento’s front handler expires 30d; \#\# Assume all files are cachable } \#\# These locations would be hidden by .htaccess normally location /app/ { deny all; } location /includes/ { deny all; } location /lib/ { deny all; } location /media/downloadable/ { deny all; } location /pkginfo/ { deny all; } location /report/config.xml { deny all; } location /var/ { deny all; } location /var/export/ { \#\# Allow admins only to view export folder auth\_basic “Restricted”; \#\# Message shown in login window auth\_basic\_user\_file /rs/passwords/testfile; \#\# See /etc/nginx/htpassword autoindex on; } location /. { \#\# Disable .htaccess and other hidden files return 404; } location <span class="citation" data-cites="handler">@handler</span> { \#\# Magento uses a common front handler rewrite / /index.php; } location ~ .php/ { \#\# Forward paths like /js/index.php/x.js to relevant handler rewrite ^/(.\*.php)/ /<span class="math inline">$1 last; } location ~ \\\\.php$</span> { if (!-e $request\_filename) { rewrite / /index.php last; } \#\# Catch 404s that try\_files miss fastcgi\_pass 127.0.0.1:9000; fastcgi\_index index.php; fastcgi\_param PATH\_INFO $fastcgi\_script\_name; fastcgi\_param SCRIPT\_FILENAME <span class="math inline">*document*\_*root*</span>fastcgi\_script\_name; include /rs/confs/nginx/fastcgi\_params; } } server { listen 173.255.219.235:443; server\_name website.com.au www.website.com.au; root /data/www; index index.html index.php; ssl on; ssl\_certificate /rs/ssl/ssl.crt; ssl\_certificate\_key /rs/ssl/ssl.key; ssl\_session\_timeout 5m; ssl\_protocols SSLv2 SSLv3 TLSv1; ssl\_ciphers ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP; ssl\_prefer\_server\_ciphers on; location / { index index.html index.php; \#\# Allow a static html file to be shown first try\_files $uri $uri/ <span class="citation" data-cites="handler">@handler</span>; \#\# If missing pass the URI to Magento’s front handler expires 30d; \#\# Assume all files are cachable } \#\# These locations would be hidden by .htaccess normally location /app/ { deny all; } location /includes/ { deny all; } location /lib/ { deny all; } location /media/downloadable/ { deny all; } location /pkginfo/ { deny all; } location /report/config.xml { deny all; } location /var/ { deny all; } location /var/export/ { \#\# Allow admins only to view export folder auth\_basic “Restricted”; \#\# Message shown in login window auth\_basic\_user\_file htpasswd; \#\# See /etc/nginx/htpassword autoindex on; } location /. { \#\# Disable .htaccess and other hidden files return 404; } location <span class="citation" data-cites="handler">@handler</span> { \#\# Magento uses a common front handler rewrite / /index.php; } location ~ .php/ { \#\# Forward paths like /js/index.php/x.js to relevant handler rewrite ^/(.\*.php)/ /<span class="math inline">$1 last; } location ~ .php$</span> { \#\# Execute PHP scripts if (!-e $request\_filename) { rewrite /index.php last; } \#\# Catch 404s that try\_files miss fastcgi\_pass 127.0.0.1:9000; fastcgi\_index index.php; fastcgi\_param PATH\_INFO $fastcgi\_script\_name; fastcgi\_param SCRIPT\_FILENAME <span class="math inline">*document*\_*root*</span>fastcgi\_script\_name; include /rs/confs/nginx/fastcgi\_params; fastcgi\_param HTTPS on; } }

**MIME types defined:** `text/nginx`.
