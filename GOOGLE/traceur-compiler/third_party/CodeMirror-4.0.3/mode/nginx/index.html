<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>index</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
</head>
<body>
<p>CodeMirror: NGINX mode</p>
<p><a href="http://codemirror.net"><img src="../../doc/logo.png" id="logo" /></a></p>
<ul>
<li><a href="../../index.html">Home</a></li>
<li><a href="../../doc/manual.html">Manual</a></li>
<li><a href="https://github.com/marijnh/codemirror">Code</a></li>
</ul>
<!-- -->
<ul>
<li><a href="../index.html">Language modes</a></li>
<li><a href="#" class="active">NGINX</a></li>
</ul>
<h2 id="nginx-mode">NGINX mode</h2>
<p>server { listen 173.255.219.235:80; server_name website.com.au; rewrite / <span class="math inline"><em>s</em><em>c</em><em>h</em><em>e</em><em>m</em><em>e</em> : //<em>w</em><em>w</em><em>w</em>.</span>host$request_uri permanent; ## Forcibly prepend a www } server { listen 173.255.219.235:443; server_name website.com.au; rewrite / <span class="math inline"><em>s</em><em>c</em><em>h</em><em>e</em><em>m</em><em>e</em> : //<em>w</em><em>w</em><em>w</em>.</span>host$request_uri permanent; ## Forcibly prepend a www } server { listen 173.255.219.235:80; server_name www.website.com.au; root /data/www; index index.html index.php; location / { index index.html index.php; ## Allow a static html file to be shown first try_files $uri $uri/ <span class="citation" data-cites="handler">@handler</span>; ## If missing pass the URI to Magento’s front handler expires 30d; ## Assume all files are cachable } ## These locations would be hidden by .htaccess normally location /app/ { deny all; } location /includes/ { deny all; } location /lib/ { deny all; } location /media/downloadable/ { deny all; } location /pkginfo/ { deny all; } location /report/config.xml { deny all; } location /var/ { deny all; } location /var/export/ { ## Allow admins only to view export folder auth_basic “Restricted”; ## Message shown in login window auth_basic_user_file /rs/passwords/testfile; ## See /etc/nginx/htpassword autoindex on; } location /. { ## Disable .htaccess and other hidden files return 404; } location <span class="citation" data-cites="handler">@handler</span> { ## Magento uses a common front handler rewrite / /index.php; } location ~ .php/ { ## Forward paths like /js/index.php/x.js to relevant handler rewrite ^/(.*.php)/ /<span class="math inline">$1 last; } location ~ \\.php$</span> { if (!-e $request_filename) { rewrite / /index.php last; } ## Catch 404s that try_files miss fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; fastcgi_param PATH_INFO $fastcgi_script_name; fastcgi_param SCRIPT_FILENAME <span class="math inline"><em>d</em><em>o</em><em>c</em><em>u</em><em>m</em><em>e</em><em>n</em><em>t</em>_<em>r</em><em>o</em><em>o</em><em>t</em></span>fastcgi_script_name; include /rs/confs/nginx/fastcgi_params; } } server { listen 173.255.219.235:443; server_name website.com.au www.website.com.au; root /data/www; index index.html index.php; ssl on; ssl_certificate /rs/ssl/ssl.crt; ssl_certificate_key /rs/ssl/ssl.key; ssl_session_timeout 5m; ssl_protocols SSLv2 SSLv3 TLSv1; ssl_ciphers ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP; ssl_prefer_server_ciphers on; location / { index index.html index.php; ## Allow a static html file to be shown first try_files $uri $uri/ <span class="citation" data-cites="handler">@handler</span>; ## If missing pass the URI to Magento’s front handler expires 30d; ## Assume all files are cachable } ## These locations would be hidden by .htaccess normally location /app/ { deny all; } location /includes/ { deny all; } location /lib/ { deny all; } location /media/downloadable/ { deny all; } location /pkginfo/ { deny all; } location /report/config.xml { deny all; } location /var/ { deny all; } location /var/export/ { ## Allow admins only to view export folder auth_basic “Restricted”; ## Message shown in login window auth_basic_user_file htpasswd; ## See /etc/nginx/htpassword autoindex on; } location /. { ## Disable .htaccess and other hidden files return 404; } location <span class="citation" data-cites="handler">@handler</span> { ## Magento uses a common front handler rewrite / /index.php; } location ~ .php/ { ## Forward paths like /js/index.php/x.js to relevant handler rewrite ^/(.*.php)/ /<span class="math inline">$1 last; } location ~ .php$</span> { ## Execute PHP scripts if (!-e $request_filename) { rewrite /index.php last; } ## Catch 404s that try_files miss fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; fastcgi_param PATH_INFO $fastcgi_script_name; fastcgi_param SCRIPT_FILENAME <span class="math inline"><em>d</em><em>o</em><em>c</em><em>u</em><em>m</em><em>e</em><em>n</em><em>t</em>_<em>r</em><em>o</em><em>o</em><em>t</em></span>fastcgi_script_name; include /rs/confs/nginx/fastcgi_params; fastcgi_param HTTPS on; } }</p>
<p><strong>MIME types defined:</strong> <code>text/nginx</code>.</p>
</body>
</html>
