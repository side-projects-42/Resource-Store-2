<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
</head>
<body>
<p><a href="https://github.com/google/vector_math.dart/actions?query=workflow%3Aci+branch%3Amaster"><img src="https://github.com/google/vector_math.dart/workflows/ci/badge.svg?branch=master" alt="CI" /></a> <a href="https://coveralls.io/r/google/vector_math.dart?branch=master"><img src="https://coveralls.io/repos/google/vector_math.dart/badge.svg?branch=master" alt="Coverage Status" /></a></p>
<h2 id="introduction">Introduction</h2>
<p>A Vector math library for 2D and 3D applications.</p>
<h2 id="features">Features</h2>
<ul>
<li>2D, 3D, and 4D vector and matrix types.</li>
<li>Quaternion type for animating rotations.</li>
<li>Collision detection: AABB, rays, spheres, …</li>
<li>Utilities like color and common rendering related operations</li>
<li>Flexible getters and setters, for example, <code>position.xwz = color.grb;</code>.</li>
<li>Fully documented.</li>
<li>Well tested.</li>
<li>Heavily optimized.</li>
</ul>
<h2 id="libraries-using-vector_math">Libraries using vector_math</h2>
<ul>
<li><a href="https://github.com/flutter/flutter">Flutter</a></li>
</ul>
<h2 id="examples">Examples</h2>
<ol type="1">
<li><p>Using the GLSL getter and setter syntax.</p>
<p>import ‘package:vector_math/vector_math.dart’;</p>
<p>void main() { Vector3 x = new Vector3.zero(); // Zero vector Vector4 y = new Vector4.all(4.0); // Vector with 4.0 in all lanes x.zyx = y.xzz; // Sets z,y,x the values in x,z,z }</p></li>
<li><p>Transforming a vector.</p>
<p>import ‘dart:math’; import ‘package:vector_math/vector_math.dart’;</p>
<p>void main() { // Rotation of PI/2 degrees around the Y axis followed by a // translation of (5.0, 2.0, 3.0). Matrix4 T = new Matrix4.rotationY(PI * 0.5)..translate(5.0, 2.0, 3.0); // A point. Vector3 position = new Vector3(1.0, 1.0, 1.0); // Transform position by T. T.transform3(position); }</p></li>
<li><p>Invert a matrix</p>
<p>import ‘dart:math’; import ‘package:vector_math/vector_math.dart’;</p>
<p>void main() { // Rotation of 90 degrees around the Y axis followed by a // translation of (5.0, 2.0, 3.0). Matrix4 T = new Matrix4.rotationY(PI * 0.5)..translate(5.0, 2.0, 3.0); // Invert T. T.invert(); // Invert just the rotation in T. T.invertRotation(); }</p></li>
<li><p>Rotate a vector using a quaternion</p>
<p>import ‘dart:math’; import ‘package:vector_math/vector_math.dart’;</p>
<p>void main() { // The X axis. Vector3 axis = new Vector3(1.0, 0.0, 0.0); // 90 degrees. double angle = PI / 2.0; // Quaternion encoding a 90 degree rotation along the X axis. Quaternion q = new Quaternion.axisAngle(axis, angle); // A point. Vector3 point = new Vector3(1.0, 1.0, 1.0); // Rotate point by q. q.rotate(point); }</p></li>
<li><p>Check if two axis aligned bounding boxes intersect</p>
<p>import ‘package:vector_math/vector_math.dart’;</p>
<p>void main() { // Define the first box with a minimum and a maximum. Aabb2 aabbOne = new Aabb2.minMax(new Vector2.zero(), new Vector2(4.0, 4.0)); // Define the second box Aabb2 aabbTwo = new Aabb2.minMax(new Vector2(5.0, 5.0), new Vector2(6.0, 6.0)); // Extend the second box to contain a point aabbTwo.hullPoint(new Vector2(3.0, 3.0)); // Check if the two boxes intersect, returns true in this case. bool intersect = aabbOne.intersectsWithAabb2(aabbTwo); }</p></li>
<li><p>Check where a ray and a sphere intersect</p>
<p>import ‘package:vector_math/vector_math.dart’;</p>
<p>void main() { // Define a ray starting at the origin and going into positive x-direction. Ray ray = new Ray.originDirection(new Vector3.zero(), new Vector3(1.0, 0.0, 0.0)); // Defines a sphere with the center (5.0 0.0 0.0) and a radius of 2. Sphere sphere = new Sphere.centerRadius(new Vector3(5.0, 0.0, 0.0), 2.0); // Checks if the ray intersect with the sphere and returns the distance of the // intersection from the origin of the ray. Would return null if no intersection // is found. double distanceFromOrigin = ray.intersectsWithSphere(sphere); // Evaluate the position of the intersection, in this case (3.0 0.0 0.0). Vector3 position = ray.at(distanceFromOrigin); }</p></li>
<li><p>Work with colors</p>
<p>import ‘package:vector_math/vector_math.dart’;</p>
<p>void main() { // Access a build-in color, colors are stored in 4-dimensional vectors. Vector4 red = Colors.red; Vector4 gray = new Vector4.zero(); // Convert the red color to a grayscaled color. Colors.toGrayscale(red, gray); // Parse a blue color from a hex string. Vector4 blue = new Vector4.zero(); Colors.fromHexString(‘#0000FF’, blue); // Convert the blue color from RGB to HSL. Colors.rgbToHsl(blue, blue); // Reduce the lightness of the color by 50%. blue.z *= 0.5; // Convert the HSL color back to RGB. Colors.hslToRgb(blue, blue); }</p></li>
</ol>
<h2 id="development">Development</h2>
<p>To run test cases:</p>
<pre><code>~/src/vector_math/&gt; pub run test:test</code></pre>
<p>To automatically generate the latest version of <code>vector_math_64</code>:</p>
<pre><code>~/src/vector_math/&gt; dart tool/generate_vector_math_64.dart</code></pre>
</body>
</html>
