pcresyntax man page
===================

Return to the [PCRE index page](index.html).

This page is part of the PCRE HTML documentation. It was generated automatically from the original man page. If there is any nonsense in it, please consult the man page, in case the conversion went wrong.

-   <a href="#SEC1" id="TOC1">PCRE REGULAR EXPRESSION SYNTAX SUMMARY</a>
-   <a href="#SEC2" id="TOC2">QUOTING</a>
-   <a href="#SEC3" id="TOC3">CHARACTERS</a>
-   <a href="#SEC4" id="TOC4">CHARACTER TYPES</a>
-   <a href="#SEC5" id="TOC5">GENERAL CATEGORY PROPERTIES FOR and</a>
-   <a href="#SEC6" id="TOC6">PCRE SPECIAL CATEGORY PROPERTIES FOR and</a>
-   <a href="#SEC7" id="TOC7">SCRIPT NAMES FOR AND</a>
-   <a href="#SEC8" id="TOC8">CHARACTER CLASSES</a>
-   <a href="#SEC9" id="TOC9">QUANTIFIERS</a>
-   <a href="#SEC10" id="TOC10">ANCHORS AND SIMPLE ASSERTIONS</a>
-   <a href="#SEC11" id="TOC11">MATCH POINT RESET</a>
-   <a href="#SEC12" id="TOC12">ALTERNATION</a>
-   <a href="#SEC13" id="TOC13">CAPTURING</a>
-   <a href="#SEC14" id="TOC14">ATOMIC GROUPS</a>
-   <a href="#SEC15" id="TOC15">COMMENT</a>
-   <a href="#SEC16" id="TOC16">OPTION SETTING</a>
-   <a href="#SEC17" id="TOC17">LOOKAHEAD AND LOOKBEHIND ASSERTIONS</a>
-   <a href="#SEC18" id="TOC18">BACKREFERENCES</a>
-   <a href="#SEC19" id="TOC19">SUBROUTINE REFERENCES (POSSIBLY RECURSIVE)</a>
-   <a href="#SEC20" id="TOC20">CONDITIONAL PATTERNS</a>
-   <a href="#SEC21" id="TOC21">BACKTRACKING CONTROL</a>
-   <a href="#SEC22" id="TOC22">NEWLINE CONVENTIONS</a>
-   <a href="#SEC23" id="TOC23">WHAT MATCHES</a>
-   <a href="#SEC24" id="TOC24">CALLOUTS</a>
-   <a href="#SEC25" id="TOC25">SEE ALSO</a>
-   <a href="#SEC26" id="TOC26">AUTHOR</a>
-   <a href="#SEC27" id="TOC27">REVISION</a>

<a href="#TOC1" id="SEC1">PCRE REGULAR EXPRESSION SYNTAX SUMMARY</a>

The full syntax and semantics of the regular expressions that are supported by PCRE are described in the [**pcrepattern**](pcrepattern.html) documentation. This document contains a quick-reference summary of the syntax.

<a href="#TOC1" id="SEC2">QUOTING</a>

      \x         where x is non-alphanumeric is a literal x
      \Q...\E    treat enclosed characters as literal

<a href="#TOC1" id="SEC3">CHARACTERS</a>

      \a         alarm, that is, the BEL character (hex 07)
      \cx        "control-x", where x is any ASCII character
      \e         escape (hex 1B)
      \f         formfeed (hex 0C)
      \n         newline (hex 0A)
      \r         carriage return (hex 0D)
      \t         tab (hex 09)
      \ddd       character with octal code ddd, or backreference
      \xhh       character with hex code hh
      \x{hhh..}  character with hex code hhh..

<a href="#TOC1" id="SEC4">CHARACTER TYPES</a>

      .          any character except newline;
                   in dotall mode, any character whatsoever
      \C         one data unit, even in UTF mode (best avoided)
      \d         a decimal digit
      \D         a character that is not a decimal digit
      \h         a horizontal whitespace character
      \H         a character that is not a horizontal whitespace character
      \N         a character that is not a newline
      \p{xx}     a character with the xx property
      \P{xx}     a character without the xx property
      \R         a newline sequence
      \s         a whitespace character
      \S         a character that is not a whitespace character
      \v         a vertical whitespace character
      \V         a character that is not a vertical whitespace character
      \w         a "word" character
      \W         a "non-word" character
      \X         an extended Unicode sequence

In PCRE, by default, \\d, \\D, \\s, \\S, \\w, and \\W recognize only ASCII characters, even in a UTF mode. However, this can be changed by setting the PCRE\_UCP option.

<a href="#TOC1" id="SEC5">GENERAL CATEGORY PROPERTIES FOR and</a>

      C          Other
      Cc         Control
      Cf         Format
      Cn         Unassigned
      Co         Private use
      Cs         Surrogate

      L          Letter
      Ll         Lower case letter
      Lm         Modifier letter
      Lo         Other letter
      Lt         Title case letter
      Lu         Upper case letter
      L&         Ll, Lu, or Lt

      M          Mark
      Mc         Spacing mark
      Me         Enclosing mark
      Mn         Non-spacing mark

      N          Number
      Nd         Decimal number
      Nl         Letter number
      No         Other number

      P          Punctuation
      Pc         Connector punctuation
      Pd         Dash punctuation
      Pe         Close punctuation
      Pf         Final punctuation
      Pi         Initial punctuation
      Po         Other punctuation
      Ps         Open punctuation

      S          Symbol
      Sc         Currency symbol
      Sk         Modifier symbol
      Sm         Mathematical symbol
      So         Other symbol

      Z          Separator
      Zl         Line separator
      Zp         Paragraph separator
      Zs         Space separator

<a href="#TOC1" id="SEC6">PCRE SPECIAL CATEGORY PROPERTIES FOR and</a>

      Xan        Alphanumeric: union of properties L and N
      Xps        POSIX space: property Z or tab, NL, VT, FF, CR
      Xsp        Perl space: property Z or tab, NL, FF, CR
      Xwd        Perl word: property Xan or underscore

<a href="#TOC1" id="SEC7">SCRIPT NAMES FOR AND</a>

Arabic, Armenian, Avestan, Balinese, Bamum, Bengali, Bopomofo, Braille, Buginese, Buhid, Canadian\_Aboriginal, Carian, Cham, Cherokee, Common, Coptic, Cuneiform, Cypriot, Cyrillic, Deseret, Devanagari, Egyptian\_Hieroglyphs, Ethiopic, Georgian, Glagolitic, Gothic, Greek, Gujarati, Gurmukhi, Han, Hangul, Hanunoo, Hebrew, Hiragana, Imperial\_Aramaic, Inherited, Inscriptional\_Pahlavi, Inscriptional\_Parthian, Javanese, Kaithi, Kannada, Katakana, Kayah\_Li, Kharoshthi, Khmer, Lao, Latin, Lepcha, Limbu, Linear\_B, Lisu, Lycian, Lydian, Malayalam, Meetei\_Mayek, Mongolian, Myanmar, New\_Tai\_Lue, Nko, Ogham, Old\_Italic, Old\_Persian, Old\_South\_Arabian, Old\_Turkic, Ol\_Chiki, Oriya, Osmanya, Phags\_Pa, Phoenician, Rejang, Runic, Samaritan, Saurashtra, Shavian, Sinhala, Sundanese, Syloti\_Nagri, Syriac, Tagalog, Tagbanwa, Tai\_Le, Tai\_Tham, Tai\_Viet, Tamil, Telugu, Thaana, Thai, Tibetan, Tifinagh, Ugaritic, Vai, Yi.

<a href="#TOC1" id="SEC8">CHARACTER CLASSES</a>

      [...]       positive character class
      [^...]      negative character class
      [x-y]       range (can be used for hex characters)
      [[:xxx:]]   positive POSIX named set
      [[:^xxx:]]  negative POSIX named set

      alnum       alphanumeric
      alpha       alphabetic
      ascii       0-127
      blank       space or tab
      cntrl       control character
      digit       decimal digit
      graph       printing, excluding space
      lower       lower case letter
      print       printing, including space
      punct       printing, excluding alphanumeric
      space       whitespace
      upper       upper case letter
      word        same as \w
      xdigit      hexadecimal digit

In PCRE, POSIX character set names recognize only ASCII characters by default, but some of them use Unicode properties if PCRE\_UCP is set. You can use \\Q…\\E inside a character class.

<a href="#TOC1" id="SEC9">QUANTIFIERS</a>

      ?           0 or 1, greedy
      ?+          0 or 1, possessive
      ??          0 or 1, lazy
      *           0 or more, greedy
      *+          0 or more, possessive
      *?          0 or more, lazy
      +           1 or more, greedy
      ++          1 or more, possessive
      +?          1 or more, lazy
      {n}         exactly n
      {n,m}       at least n, no more than m, greedy
      {n,m}+      at least n, no more than m, possessive
      {n,m}?      at least n, no more than m, lazy
      {n,}        n or more, greedy
      {n,}+       n or more, possessive
      {n,}?       n or more, lazy

<a href="#TOC1" id="SEC10">ANCHORS AND SIMPLE ASSERTIONS</a>

      \b          word boundary
      \B          not a word boundary
      ^           start of subject
                   also after internal newline in multiline mode
      \A          start of subject
      $           end of subject
                   also before newline at end of subject
                   also before internal newline in multiline mode
      \Z          end of subject
                   also before newline at end of subject
      \z          end of subject
      \G          first matching position in subject

<a href="#TOC1" id="SEC11">MATCH POINT RESET</a>

      \K          reset start of match

<a href="#TOC1" id="SEC12">ALTERNATION</a>

      expr|expr|expr...

<a href="#TOC1" id="SEC13">CAPTURING</a>

      (...)           capturing group
      (?<name>...)    named capturing group (Perl)
      (?'name'...)    named capturing group (Perl)
      (?P<name>...)   named capturing group (Python)
      (?:...)         non-capturing group
      (?|...)         non-capturing group; reset group numbers for
                       capturing groups in each alternative

<a href="#TOC1" id="SEC14">ATOMIC GROUPS</a>

      (?>...)         atomic, non-capturing group

<a href="#TOC1" id="SEC15">COMMENT</a>

      (?#....)        comment (not nestable)

<a href="#TOC1" id="SEC16">OPTION SETTING</a>

      (?i)            caseless
      (?J)            allow duplicate names
      (?m)            multiline
      (?s)            single line (dotall)
      (?U)            default ungreedy (lazy)
      (?x)            extended (ignore white space)
      (?-...)         unset option(s)

The following are recognized only at the start of a pattern or after one of the newline-setting options with similar syntax:

      (*NO_START_OPT) no start-match optimization (PCRE_NO_START_OPTIMIZE)
      (*UTF8)         set UTF-8 mode: 8-bit library (PCRE_UTF8)
      (*UTF16)        set UTF-16 mode: 16-bit library (PCRE_UTF16)
      (*UCP)          set PCRE_UCP (use Unicode properties for \d etc)

<a href="#TOC1" id="SEC17">LOOKAHEAD AND LOOKBEHIND ASSERTIONS</a>

      (?=...)         positive look ahead
      (?!...)         negative look ahead
      (?<=...)        positive look behind
      (?<!...)        negative look behind

Each top-level branch of a look behind must be of a fixed length.

<a href="#TOC1" id="SEC18">BACKREFERENCES</a>

      \n              reference by number (can be ambiguous)
      \gn             reference by number
      \g{n}           reference by number
      \g{-n}          relative reference by number
      \k<name>        reference by name (Perl)
      \k'name'        reference by name (Perl)
      \g{name}        reference by name (Perl)
      \k{name}        reference by name (.NET)
      (?P=name)       reference by name (Python)

<a href="#TOC1" id="SEC19">SUBROUTINE REFERENCES (POSSIBLY RECURSIVE)</a>

      (?R)            recurse whole pattern
      (?n)            call subpattern by absolute number
      (?+n)           call subpattern by relative number
      (?-n)           call subpattern by relative number
      (?&name)        call subpattern by name (Perl)
      (?P>name)       call subpattern by name (Python)
      \g<name>        call subpattern by name (Oniguruma)
      \g'name'        call subpattern by name (Oniguruma)
      \g<n>           call subpattern by absolute number (Oniguruma)
      \g'n'           call subpattern by absolute number (Oniguruma)
      \g<+n>          call subpattern by relative number (PCRE extension)
      \g'+n'          call subpattern by relative number (PCRE extension)
      \g<-n>          call subpattern by relative number (PCRE extension)
      \g'-n'          call subpattern by relative number (PCRE extension)

<a href="#TOC1" id="SEC20">CONDITIONAL PATTERNS</a>

      (?(condition)yes-pattern)
      (?(condition)yes-pattern|no-pattern)

      (?(n)...        absolute reference condition
      (?(+n)...       relative reference condition
      (?(-n)...       relative reference condition
      (?(<name>)...   named reference condition (Perl)
      (?('name')...   named reference condition (Perl)
      (?(name)...     named reference condition (PCRE)
      (?(R)...        overall recursion condition
      (?(Rn)...       specific group recursion condition
      (?(R&name)...   specific recursion condition
      (?(DEFINE)...   define subpattern for reference
      (?(assert)...   assertion condition

<a href="#TOC1" id="SEC21">BACKTRACKING CONTROL</a>

The following act immediately they are reached:

      (*ACCEPT)       force successful match
      (*FAIL)         force backtrack; synonym (*F)
      (*MARK:NAME)    set name to be passed back; synonym (*:NAME)

The following act only when a subsequent match failure causes a backtrack to reach them. They all force a match failure, but they differ in what happens afterwards. Those that advance the start-of-match point do so only if the pattern is not anchored.

      (*COMMIT)       overall failure, no advance of starting point
      (*PRUNE)        advance to next starting character
      (*PRUNE:NAME)   equivalent to (*MARK:NAME)(*PRUNE)
      (*SKIP)         advance to current matching position
      (*SKIP:NAME)    advance to position corresponding to an earlier
                      (*MARK:NAME); if not found, the (*SKIP) is ignored
      (*THEN)         local failure, backtrack to next alternation
      (*THEN:NAME)    equivalent to (*MARK:NAME)(*THEN)

<a href="#TOC1" id="SEC22">NEWLINE CONVENTIONS</a>

These are recognized only at the very start of the pattern or after a (\*BSR\_…), (\*UTF8), (\*UTF16) or (\*UCP) option.

      (*CR)           carriage return only
      (*LF)           linefeed only
      (*CRLF)         carriage return followed by linefeed
      (*ANYCRLF)      all three of the above
      (*ANY)          any Unicode newline sequence

<a href="#TOC1" id="SEC23">WHAT MATCHES</a>

These are recognized only at the very start of the pattern or after a (\*…) option that sets the newline convention or a UTF or UCP mode.

      (*BSR_ANYCRLF)  CR, LF, or CRLF
      (*BSR_UNICODE)  any Unicode newline sequence

<a href="#TOC1" id="SEC24">CALLOUTS</a>

      (?C)      callout
      (?Cn)     callout with data n

<a href="#TOC1" id="SEC25">SEE ALSO</a>

**pcrepattern**(3), **pcreapi**(3), **pcrecallout**(3), **pcrematching**(3), **pcre**(3).

<a href="#TOC1" id="SEC26">AUTHOR</a>

Philip Hazel  
University Computing Service  
Cambridge CB2 3QH, England.

<a href="#TOC1" id="SEC27">REVISION</a>

Last updated: 10 January 2012  
Copyright © 1997-2012 University of Cambridge.

Return to the [PCRE index page](index.html).
