<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>index</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
</head>
<body>
<h1 id="codemirror-tcl-mode">CodeMirror: Tcl mode</h1>
<p>############################################################################################## ## ## whois.tcl for eggdrop by Ford_Lawnmower irc.geekshed.net #Script-Help ## ## ############################################################################################## ## To use this script you must set channel flag +whois (ie .chanset #chan +whois) ## ############################################################################################## ## ____ __ ########################################### ## ## / __/___ _ ___ _ ___/ /____ ___ ___ ########################################### ## ## / _/ / _ `// _ `// _ // __// _ \ / _ \ ########################################### ## ## /___/ \_, / \_, / \_,_//_/ \___// .__/ ########################################### ## ## /___/ /___/ /_/ ########################################### ## ## ########################################### ## ############################################################################################## ## ## Start Setup. ## ## ############################################################################################## namespace eval whois { ## change cmdchar to the trigger you want to use ## ## variable cmdchar “!” ## change command to the word trigger you would like to use. ## ## ## Keep in mind, This will also change the .chanset +/-command ## ## variable command “whois” ## change textf to the colors you want for the text. ## ## variable textf “\017\00304” ## change tagf to the colors you want for tags: ## ## variable tagf “\017\002” ## Change logo to the logo you want at the start of the line. ## ## variable logo “\017\00304\002\[\00306W\003hois\00304\]\017” ## Change lineout to the results you want. Valid results are channel users modes topic ## ## variable lineout “channel users modes topic” ############################################################################################## ## ## End Setup. ## ## ############################################################################################## variable channel "" setudef flag $whois::command bind pub -|- [string trimleft <span class="math inline">$whois::cmdchar\]$</span>{whois::command} whois::list bind raw -|- “311” whois::311 bind raw -|- “312” whois::312 bind raw -|- “319” whois::319 bind raw -|- “317” whois::317 bind raw -|- “313” whois::multi bind raw -|- “310” whois::multi bind raw -|- “335” whois::multi bind raw -|- “301” whois::301 bind raw -|- “671” whois::multi bind raw -|- “320” whois::multi bind raw -|- “401” whois::multi bind raw -|- “318” whois::318 bind raw -|- “307” whois::307 } proc whois::311 {from key text} { if {[regexp – {<sup>[</sup>\s]+\s(.+?)\s(.+?)\s(.+?)\s\*\s\:(.+)$} $text wholematch nick ident host realname]} { putserv “PRIVMSG <span class="math inline"><em>w</em><em>h</em><em>o</em><em>i</em><em>s</em> :  : <em>c</em><em>h</em><em>a</em><em>n</em><em>n</em><em>e</em><em>l</em>:</span>{whois::logo} <span class="math inline"><em>w</em><em>h</em><em>o</em><em>i</em><em>s</em> :  : <em>t</em><em>a</em><em>g</em><em>f</em><em>H</em><em>o</em><em>s</em><em>t</em>:</span>{whois::textf} \ <span class="math inline">$nick \\($</span>{ident}@${host}\) <span class="math inline"><em>w</em><em>h</em><em>o</em><em>i</em><em>s</em> :  : <em>t</em><em>a</em><em>g</em><em>f</em><em>R</em><em>e</em><em>a</em><em>l</em><em>n</em><em>a</em><em>m</em><em>e</em>:</span>{whois::textf} <span class="math inline">$realname" } } proc whois::multi {from key text} { if {\[regexp {\\:(.\*)$</span>} $text match $key]} { putserv”PRIVMSG <span class="math inline"><em>w</em><em>h</em><em>o</em><em>i</em><em>s</em> :  : <em>c</em><em>h</em><em>a</em><em>n</em><em>n</em><em>e</em><em>l</em>:</span>{whois::logo} <span class="math inline"><em>w</em><em>h</em><em>o</em><em>i</em><em>s</em> :  : <em>t</em><em>a</em><em>g</em><em>f</em><em>N</em><em>o</em><em>t</em><em>e</em>:</span>{whois::textf} [subst $$key]" return 1 } } proc whois::312 {from key text} { regexp {([^\s]+)\s\:} $text match server putserv “PRIVMSG <span class="math inline"><em>w</em><em>h</em><em>o</em><em>i</em><em>s</em> :  : <em>c</em><em>h</em><em>a</em><em>n</em><em>n</em><em>e</em><em>l</em>:</span>{whois::logo} <span class="math inline"><em>w</em><em>h</em><em>o</em><em>i</em><em>s</em> :  : <em>t</em><em>a</em><em>g</em><em>f</em><em>S</em><em>e</em><em>r</em><em>v</em><em>e</em><em>r</em>:</span>{whois::textf} <span class="math inline">$server" } proc whois::319 {from key text} { if {\[regexp {.+\\:(.+)$</span>} $text match channels]} { putserv”PRIVMSG <span class="math inline"><em>w</em><em>h</em><em>o</em><em>i</em><em>s</em> :  : <em>c</em><em>h</em><em>a</em><em>n</em><em>n</em><em>e</em><em>l</em>:</span>{whois::logo} <span class="math inline"><em>w</em><em>h</em><em>o</em><em>i</em><em>s</em> :  : <em>t</em><em>a</em><em>g</em><em>f</em><em>C</em><em>h</em><em>a</em><em>n</em><em>n</em><em>e</em><em>l</em><em>s</em>:</span>{whois::textf} $channels" } } proc whois::317 {from key text} { if {[regexp – {.*\s(\d+)\s(\d+)\s\:} $text wholematch idle signon]} { putserv “PRIVMSG <span class="math inline"><em>w</em><em>h</em><em>o</em><em>i</em><em>s</em> :  : <em>c</em><em>h</em><em>a</em><em>n</em><em>n</em><em>e</em><em>l</em>:</span>{whois::logo} <span class="math inline"><em>w</em><em>h</em><em>o</em><em>i</em><em>s</em> :  : <em>t</em><em>a</em><em>g</em><em>f</em><em>C</em><em>o</em><em>n</em><em>n</em><em>e</em><em>c</em><em>t</em><em>e</em><em>d</em>:</span>{whois::textf} \ [ctime $signon] <span class="math inline"><em>w</em><em>h</em><em>o</em><em>i</em><em>s</em> :  : <em>t</em><em>a</em><em>g</em><em>f</em><em>I</em><em>d</em><em>l</em><em>e</em>:</span>{whois::textf} [duration <span class="math inline">$idle\]" } } proc whois::301 {from key text} { if {\[regexp {^.+\\s\[^\\s\]+\\s\\:(.\*)$</span>} $text match awaymsg]} { putserv”PRIVMSG <span class="math inline"><em>w</em><em>h</em><em>o</em><em>i</em><em>s</em> :  : <em>c</em><em>h</em><em>a</em><em>n</em><em>n</em><em>e</em><em>l</em>:</span>{whois::logo} <span class="math inline"><em>w</em><em>h</em><em>o</em><em>i</em><em>s</em> :  : <em>t</em><em>a</em><em>g</em><em>f</em><em>A</em><em>w</em><em>a</em><em>y</em>:</span>{whois::textf} $awaymsg" } } proc whois::318 {from key text} { namespace eval whois { variable channel "" } variable whois::channel "" } proc whois::307 {from key text} { putserv “PRIVMSG <span class="math inline"><em>w</em><em>h</em><em>o</em><em>i</em><em>s</em> :  : <em>c</em><em>h</em><em>a</em><em>n</em><em>n</em><em>e</em><em>l</em>:</span>{whois::logo} <span class="math inline"><em>w</em><em>h</em><em>o</em><em>i</em><em>s</em> :  : <em>t</em><em>a</em><em>g</em><em>f</em><em>S</em><em>e</em><em>r</em><em>v</em><em>i</em><em>c</em><em>e</em><em>s</em>:</span>{whois::textf} Registered Nick” } proc whois::list {nick host hand chan text} { if {[lsearch -exact [channel info <span class="math inline">$chan\] "+$</span>{whois::command}“] != -1} { namespace eval whois { variable channel”" } variable whois::channel $chan putserv “WHOIS $text” } } putlog “\002*Loaded* \017\00304\002\[\00306W\003hois\00304\]\017 \002by \ Ford_Lawnmower irc.GeekShed.net #Script-Help”</p>
<p><strong>MIME types defined:</strong> <code>text/x-tcl</code>.</p>
</body>
</html>
