CodeMirror: mIRC mode
=====================

;AKA Nick Tracker by Ford\_Lawnmower irc.GeekShed.net \#Script-Help ;\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*; ;\*\*Start Setup ;Change JoinDisplay, below, for On Join AKA Display. On = 1 - Off = 0 alias -l JoinDisplay { return 1 } ;Change MaxNicks, below, to the number of nicknames you want to store for each hostmask. I wouldn’t go over 400 with this ;/ alias -l MaxNicks { return 20 } ;Change AKALogo, below, To the text you want displayed before each AKA result. alias -l AKALogo { return 06 05A06K07A 06 } ;\*\*End Setup ;\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*; On \*:Join:\#: { if ($nick == $me) { .timer 1 1 ialupdateCheck $chan } NickNamesAdd $nick <span class="math inline"> + (</span>network,<span class="math inline">*wildsite*)*if*(</span>JoinDisplay) { .timerNickNames $+ $nick 1 2 NickNames.display $nick $chan $network $wildsite } } on \*:Nick: { NickNamesAdd $newnick <span class="math inline"> + (</span>network,$wildsite) <span class="math inline">$nick } alias -l NickNames.display { if ($</span>gettok(<span class="math inline">*hget*(*NickNames*,</span>+($3,$4)),0,126) &gt; 1) { echo -g $2 $AKALogo $+(09,$1) $AKALogo 07 <span class="math inline">*mid*(</span>replace(<span class="math inline">*hget*(*NickNames*,</span>+($3,<span class="math inline">4)),</span>chr(126),<span class="math inline">$chr(44)),2,-1) } } alias -l NickNamesAdd { if ($</span>hget(NickNames,<span class="math inline">$2)) { if (!$</span>regex($hget(NickNames,$2),/~\\Q $+ $replacecs($1,\\E,\\E\\\\E\\Q) <span class="math inline">$+ \\\\E~/i)) { if ($</span>gettok($hget(NickNames,$2),0,126) &lt;= $MaxNicks) { hadd NickNames $2 <span class="math inline"> + (</span>hget(NickNames,$2),$1,~) } else { hadd NickNames $2 <span class="math inline"> + (</span>mid($hget(NickNames,<span class="math inline">2),</span>pos($hget(NickNames,$2),<sub>,2)),$1,</sub>) } } } else { hadd -m NickNames $2 $+(<sub>,<span class="math inline">1, ,</span>iif(<span class="math inline">3,</span>+($3,</sub>))) } } alias -l Fix.All.MindUser { var %Fix.Count = <span class="math inline">$hfind(NickNames,/\\\[^~\\\]+\\\[0-9\\\]{4}~/,0,r).data while (%Fix.Count) { if ($</span>Fix.MindUser(<span class="math inline">*hget*(*NickNames*,</span>hfind(NickNames,/\[^<sub>\]+\[0-9\]{4}</sub>/,%Fix.Count,r).data))) { echo -ag Record %Fix.Count - $v1 - Was Cleaned hadd NickNames $hfind(NickNames,/\[^<sub>\]+\[0-9\]{4}</sub>/,%Fix.Count,r).data $v1 } dec %Fix.Count } } alias -l Fix.MindUser { return $regsubex(<span class="math inline">$1,/\\\[^~\\\]+\\\[0-9\\\]{4}~/g,$</span>null) } menu nicklist,query { - .AKA ..Check  
<span class="math display">$$1: { if ($gettok($hget(NickNames,$+($network,$address($1,2))),0,126) &gt; 1) { NickNames.display $1 $active $network $address($1,2) } else { echo -ag $AKALogo $+(09,$1) 07has not been known by any other nicknames while I have been watching. } } ..Cleanup $$</span>  
1:hadd NickNames <span class="math inline"> + (</span>network,$address($1,2)) <span class="math inline">*fix*.*minduser*(</span>hget(NickNames,<span class="math inline"> + (</span>network,$address($1,2)))) ..Clear $$1:hadd NickNames <span class="math inline"> + (</span>network,$address($1,2)) $+(<sub>,$1,</sub>) ..AKA Search Dialog:dialog <span class="math inline">*iif*(</span>dialog(AKA\_Search),-v,-m) AKA\_Search AKA\_Search - } menu status,channel { - .AKA ..AKA Search Dialog:dialog <span class="math inline">*iif*(</span>dialog(AKA\_Search),-v,-m) AKA\_Search AKA\_Search ..Clean All Records:Fix.All.Minduser - } dialog AKA\_Search { title “AKA Search Engine” size -1 -1 206 221 option dbu edit "“, 1, 8 5 149 10, autohs button”Search“, 2, 163 4 32 12 radio”Search HostMask“, 4, 61 22 55 10 radio”Search Nicknames“, 5, 123 22 56 10 list 6, 8 38 190 169, sort extsel vsbar button”Check Selected“, 7, 67 206 40 12 button”Close“, 8, 160 206 38 12, cancel box”Search Type“, 3, 11 17 183 18 button”Copy to Clipboard", 9, 111 206 46 12 } On \*:Dialog:Aka\_Search:init:\*: { did -c <span class="math inline">$dname 5 } On \\\*:Dialog:Aka\\\_Search:Sclick:2,7,9: { if ($</span>did == 2) && (<span class="math inline">*did*(</span>dname,1)) { did -r $dname 6 var %search <span class="math inline">$+(\\\*,$</span>v1,\*), %type <span class="math inline">*iif*(</span>did($dname,5).state,data,item), %matches = $hfind(NickNames,%search,0,w). \[ $+ \[ %type \] \] while (%matches) { did -a $dname 6 $hfind(NickNames,%search,%matches,w). \[ $+ \[ %type \] \] dec %matches } did -c <span class="math inline">$dname 6 1 } elseif ($</span>did == 7) && (<span class="math inline">*did*(</span>dname,6).seltext) { echo -ga $AKALogo 07 <span class="math inline">*mid*(</span>replace(<span class="math inline">*hget*(*NickNames*,</span>v1),<span class="math inline">*chr*(126),</span>chr(44)),2,-1) } elseif (<span class="math inline">$did == 9) && ($</span>did($dname,6).seltext) { clipboard <span class="math inline">*mid*(</span>v1,<span class="math inline">*pos*(</span>v1,\*,1)) } } On \*:Start:{ if (!<span class="math inline">*hget*(*NickNames*))*hmakeNickNames*10*if*(</span>isfile(NickNames.hsh)) { hload NickNames NickNames.hsh } } On \*:Exit: { if (<span class="math inline">$hget(NickNames)) { hsave NickNames NickNames.hsh } } On \\\*:Disconnect: { if ($</span>hget(NickNames)) { hsave NickNames NickNames.hsh } } On \*:Unload: { hfree NickNames } alias -l ialupdateCheck { inc -z <span class="math inline"> + (</span>network) <span class="math inline">*calc*(</span>nick($1,0) / 4) ;If your ial is already being updated on join .who $1 out. ;If you are using /names to update ial you will still need this line. .who <span class="math inline">$1 } Raw 352:\\\*: { if ($</span>(<span class="math inline"> + (</span>network),2)) haltdef NickNamesAdd $6 <span class="math inline"> + (</span>network,$address(<span class="math inline">$6,2)) } Raw 315:\\\*: { if ($</span>(<span class="math inline"> + (</span>network),2)) haltdef }

**MIME types defined:** `text/mirc`.
