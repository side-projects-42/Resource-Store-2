<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<!-- markdownlint-disable MD010 -->
<h1 id="jquery.ime-input-method-specification">jQuery.ime Input method specification</h1>
<p>Input methods are defined in javascript files. An input method is a javascript object and it is passed to <code>$.ime.register()</code> method to register with <code>jquery.ime</code></p>
<p>eg: <code>$.ime.register( hebrewStandardKeyboard );</code></p>
<p>Input methods can be built by reusing parts of other methods, this is especially interesting for complex patterns. If rules are reused then the methods must be loaded first. This is done through configurations in <code>jquery.ime.inputmethods.js</code>.</p>
<p>For examples on reuse, see the rules “nb-normforms” or “hi-inscript”.</p>
<h2 id="metadata-fields">Metadata fields</h2>
<p>id: A mandatory unique identifier that represents the input method. eg: <code>"hindi-inscript"</code></p>
<p>name: A mandatory short name for the input method. eg: <code>"Hindi InScript"</code></p>
<p>Note that the names used in the menu comes from <a href="../src/jquery.ime.inputmethods.js">jquery.ime.inputmethods.js</a></p>
<p>description: An optional short description about the input method. eg: <code>"keyboard layout as per inscript standard"</code></p>
<p>date: An optional string to represent when this input method was written. Format should be: yyyy-mm-dd</p>
<p>author: An optional string containing the authors name. Can contain email address as well. eg: <code>"Santhosh Thottingal, &lt;santhosh.thottingal@gmail.com&gt;"</code></p>
<p>URL: A mandatory string containing URL for source where keyboard is defined, information about trademark restrictions if any, layout and help.</p>
<p>license: An optional string containing licence information. Eg: <code>"CC-BY-SA"</code> or <code>"GPLv3"</code>.</p>
<p>version: An optional string containing version information.</p>
<h2 id="input-method-definition">Input method definition</h2>
<p>patterns: A regular expression table that maps the original inputs to the target language.</p>
<p>eg:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1">patterns<span class="op">:</span> [</a>
<a class="sourceLine" id="cb1-2" title="2">  [<span class="st">&quot;q&quot;</span><span class="op">,</span> <span class="st">&quot;/&quot;</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb1-3" title="3">  [<span class="st">&quot;w&quot;</span><span class="op">,</span> <span class="st">&quot;&#39;&quot;</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb1-4" title="4">  [<span class="st">&quot;e&quot;</span><span class="op">,</span> <span class="st">&quot;ק&quot;</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb1-5" title="5">  [<span class="st">&quot;r&quot;</span><span class="op">,</span> <span class="st">&quot;ר&quot;</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb1-6" title="6">  [<span class="st">&quot;t&quot;</span><span class="op">,</span> <span class="st">&quot;א&quot;</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb1-7" title="7">  [<span class="st">&quot;y&quot;</span><span class="op">,</span> <span class="st">&quot;ט&quot;</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb1-8" title="8">  [<span class="st">&quot;u&quot;</span><span class="op">,</span> <span class="st">&quot;ו&quot;</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb1-9" title="9">  [<span class="st">&quot;i&quot;</span><span class="op">,</span> <span class="st">&quot;ן&quot;</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb1-10" title="10">  [<span class="st">&quot;o&quot;</span><span class="op">,</span> <span class="st">&quot;ם&quot;</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb1-11" title="11">  [<span class="st">&quot;p&quot;</span><span class="op">,</span> <span class="st">&quot;פ&quot;</span>][</a>
<a class="sourceLine" id="cb1-12" title="12">    <span class="co">// ...</span></a>
<a class="sourceLine" id="cb1-13" title="13">    <span class="co">// These characters are mirrored in RTL languages</span></a>
<a class="sourceLine" id="cb1-14" title="14">    (<span class="st">&quot;</span><span class="sc">\\</span><span class="st">(&quot;</span><span class="op">,</span> <span class="st">&quot;)&quot;</span>)</a>
<a class="sourceLine" id="cb1-15" title="15">  ]<span class="op">,</span></a>
<a class="sourceLine" id="cb1-16" title="16">  [<span class="st">&quot;</span><span class="sc">\\</span><span class="st">)&quot;</span><span class="op">,</span> <span class="st">&quot;(&quot;</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb1-17" title="17">  [<span class="st">&quot;</span><span class="sc">\\</span><span class="st">[&quot;</span><span class="op">,</span> <span class="st">&quot;]&quot;</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb1-18" title="18">  [<span class="st">&quot;</span><span class="sc">\\</span><span class="st">]&quot;</span><span class="op">,</span> <span class="st">&quot;[&quot;</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb1-19" title="19">]<span class="op">;</span></a></code></pre></div>
<p>Any valid regular expression is possible as first element of each array item.</p>
<p>ex: <code>[ '([ക-ഹ])a', '$1ാ' ]</code> ex: <code>[ '(([ൺ-ൿം])\u200c+)?I', '$2ഐ' ]</code></p>
<p>In the above example, $1, $1 etc are according to the normal regular expression replace syntax.</p>
<p>The second member of the pattern can be a function as well.</p>
<p>eg:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1">patterns<span class="op">:</span> [</a>
<a class="sourceLine" id="cb2-2" title="2">  [</a>
<a class="sourceLine" id="cb2-3" title="3">    <span class="st">&quot;[a-z]&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-4" title="4">    <span class="kw">function</span> ($1) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-5" title="5">      <span class="cf">return</span> <span class="va">$1</span>.<span class="at">toUpperCase</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb2-6" title="6">    <span class="op">},</span></a>
<a class="sourceLine" id="cb2-7" title="7">  ]<span class="op">,</span></a>
<a class="sourceLine" id="cb2-8" title="8">]<span class="op">;</span></a></code></pre></div>
<p>This rule replace all key strokes to its upper case character.</p>
<p>patterns_x: Defined the same way as ordinary patterns, but active while holding down the alt key or alt graph key. When active the normal patterns will be excluded. These two modifier keys can be handled differently on various hardware. It might be necessary to define ordinary patterns in addition to patterns_x to catch all cases.</p>
<p>patterns_shift: Defined the same way as ordinary patterns, but active while holding down the shift key. When active the normal patterns will still be run, but only after the rules listed in patterns_shift is run.</p>
<p>contextLength: Length of the context to remember. jquery.ime can replace the text based on the previously typed characters.</p>
<p>eg:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1">[<span class="st">&quot;ൿh&quot;</span><span class="op">,</span> <span class="st">&quot;c&quot;</span><span class="op">,</span> <span class="st">&quot;ച്&quot;</span>]<span class="op">;</span></a></code></pre></div>
<p>Note that this pattern definition has 3 members, the middle one is the context. This rule is interpreted as as an override to pattern definitions with 2 members.</p>
<p>The current key is h, previous key is c. For the previous key press c, we have a transliteration ൿ. But if it is followed by h and ൿ is indeed from key press c, replace ൿh with ച്</p>
<p>To make this work, we need to remember the previous key strokes. How many of them we need to remember? contextLength should have that value.</p>
<p>This is optional field with default value 0. ie, we don’t remember previous key strokes by default.</p>
<p>maxKeyLength: While trying to find possible matches, we need to know how many characters from the current typing location(cursor) should be used before giving up.</p>
<p>maxKeyLength defines it. Normally it is the length of largest regex sequence in the patterns.</p>
<p>This field is optional and default value is 1.</p>
<h2 id="examples">Examples</h2>
<p>For complete examples, please refer the existing input method definitions.</p>
<p>Documentation of input methods are available at <a href="https://www.mediawiki.org/wiki/Help:Extension:UniversalLanguageSelector/Input_methods">mw:Help:Extension:UniversalLanguageSelector/Input methods</a></p>
</body>
</html>
