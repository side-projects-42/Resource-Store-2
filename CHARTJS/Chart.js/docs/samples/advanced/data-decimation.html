<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>data-decimation</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
</head>
<body>
<h1 id="data-decimation">Data Decimation</h1>
<p>This example shows how to use the built-in data decimation to reduce the number of points drawn on the graph for improved performance.</p>
<p>```js chart-editor // <block:actions:3> const actions = [ { name: “No decimation (default)”, handler(chart) { chart.options.plugins.decimation.enabled = false; chart.update(); }, }, { name: “min-max decimation”, handler(chart) { chart.options.plugins.decimation.algorithm = “min-max”; chart.options.plugins.decimation.enabled = true; chart.update(); }, }, { name: “LTTB decimation (50 samples)”, handler(chart) { chart.options.plugins.decimation.algorithm = “lttb”; chart.options.plugins.decimation.enabled = true; chart.options.plugins.decimation.samples = 50; chart.update(); }, }, { name: “LTTB decimation (500 samples)”, handler(chart) { chart.options.plugins.decimation.algorithm = “lttb”; chart.options.plugins.decimation.enabled = true; chart.options.plugins.decimation.samples = 500; chart.update(); }, },]; // </block:actions></p>
<p>// <block:data:1> const NUM_POINTS = 100000; Utils.srand(10);</p>
<p>// parseISODate returns a luxon date object to work with in the samples // We will create points every 30s starting from this point in time const start = Utils.parseISODate(“2021-04-01T00:00:00Z”).toMillis(); const pointData = [];</p>
<p>for (let i = 0; i &lt; NUM_POINTS; ++i) { // Most data will be in the range [0, 20) but some rare data will be in the range [0, 100) const max = Math.random() &lt; 0.001 ? 100 : 20; pointData.push({ x: start + i * 30000, y: Utils.rand(0, max) }); }</p>
<p>const data = { datasets: [ { borderColor: Utils.CHART_COLORS.red, borderWidth: 1, data: pointData, label: “Large Dataset”, radius: 0, }, ], }; // </block:data></p>
<p>// <block:decimation:0> const decimation = { enabled: false, algorithm: “min-max”, }; // </block:decimation></p>
<p>// <block:setup:2> const config = { type: “line”, data: data, options: { // Turn off animations and data parsing for performance animation: false, parsing: false,</p>
<pre><code>interaction: {
  mode: &quot;nearest&quot;,
  axis: &quot;x&quot;,
  intersect: false,
},
plugins: {
  decimation: decimation,
},
scales: {
  x: {
    type: &quot;time&quot;,
    ticks: {
      source: &quot;auto&quot;,
      // Disabled rotation for performance
      maxRotation: 0,
      autoSkip: true,
    },
  },
},</code></pre>
<p>}, }; // </block:setup></p>
<p>module.exports = { actions: actions, config: config, }; ```</p>
</body>
</html>
