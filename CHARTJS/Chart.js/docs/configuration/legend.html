<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>legend</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="legend">Legend</h1>
<p>The chart legend displays data about the datasets that are appearing on the chart.</p>
<h2 id="configuration-options">Configuration options</h2>
<p>Namespace: <code>options.plugins.legend</code>, the global options for the chart legend is defined in <code>Chart.defaults.plugins.legend</code>.</p>
<table>
<colgroup>
<col style="width: 7%" />
<col style="width: 5%" />
<col style="width: 7%" />
<col style="width: 78%" />
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>display</code></td>
<td><code>boolean</code></td>
<td><code>true</code></td>
<td>Is the legend shown?</td>
</tr>
<tr class="even">
<td><code>position</code></td>
<td><code>string</code></td>
<td><code>'top'</code></td>
<td>Position of the legend. <a href="#position">more…</a></td>
</tr>
<tr class="odd">
<td><code>align</code></td>
<td><code>string</code></td>
<td><code>'center'</code></td>
<td>Alignment of the legend. <a href="#align">more…</a></td>
</tr>
<tr class="even">
<td><code>maxHeight</code></td>
<td><code>number</code></td>
<td></td>
<td>Maximum height of the legend, in pixels</td>
</tr>
<tr class="odd">
<td><code>maxWidth</code></td>
<td><code>number</code></td>
<td></td>
<td>Maximum width of the legend, in pixels</td>
</tr>
<tr class="even">
<td><code>fullSize</code></td>
<td><code>boolean</code></td>
<td><code>true</code></td>
<td>Marks that this box should take the full width/height of the canvas (moving other boxes). This is unlikely to need to be changed in day-to-day use.</td>
</tr>
<tr class="odd">
<td><code>onClick</code></td>
<td><code>function</code></td>
<td></td>
<td>A callback that is called when a click event is registered on a label item. Arguments: <code>[event, legendItem, legend]</code>.</td>
</tr>
<tr class="even">
<td><code>onHover</code></td>
<td><code>function</code></td>
<td></td>
<td>A callback that is called when a ‘mousemove’ event is registered on top of a label item. Arguments: <code>[event, legendItem, legend]</code>.</td>
</tr>
<tr class="odd">
<td><code>onLeave</code></td>
<td><code>function</code></td>
<td></td>
<td>A callback that is called when a ‘mousemove’ event is registered outside of a previously hovered label item. Arguments: <code>[event, legendItem, legend]</code>.</td>
</tr>
<tr class="even">
<td><code>reverse</code></td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td>Legend will show datasets in reverse order.</td>
</tr>
<tr class="odd">
<td><code>labels</code></td>
<td><code>object</code></td>
<td></td>
<td>See the <a href="#legend-label-configuration">Legend Label Configuration</a> section below.</td>
</tr>
<tr class="even">
<td><code>rtl</code></td>
<td><code>boolean</code></td>
<td></td>
<td><code>true</code> for rendering the legends from right to left.</td>
</tr>
<tr class="odd">
<td><code>textDirection</code></td>
<td><code>string</code></td>
<td>canvas’ default</td>
<td>This will force the text direction <code>'rtl'</code> or <code>'ltr'</code> on the canvas for rendering the legend, regardless of the css specified on the canvas</td>
</tr>
<tr class="even">
<td><code>title</code></td>
<td><code>object</code></td>
<td></td>
<td>See the <a href="#legend-title-configuration">Legend Title Configuration</a> section below.</td>
</tr>
</tbody>
</table>
<h2 id="position">Position</h2>
<p>Position of the legend. Options are:</p>
<ul>
<li><code>'top'</code></li>
<li><code>'left'</code></li>
<li><code>'bottom'</code></li>
<li><code>'right'</code></li>
<li><code>'chartArea'</code></li>
</ul>
<p>When using the <code>'chartArea'</code> option the legend position is at the moment not configurable, it will always be on the left side of the chart in the middle.</p>
<h2 id="align">Align</h2>
<p>Alignment of the legend. Options are:</p>
<ul>
<li><code>'start'</code></li>
<li><code>'center'</code></li>
<li><code>'end'</code></li>
</ul>
<p>Defaults to <code>'center'</code> for unrecognized values.</p>
<h2 id="legend-label-configuration">Legend Label Configuration</h2>
<p>Namespace: <code>options.plugins.legend.labels</code></p>
<table>
<colgroup>
<col style="width: 14%" />
<col style="width: 11%" />
<col style="width: 8%" />
<col style="width: 65%" />
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>boxWidth</code></td>
<td><code>number</code></td>
<td><code>40</code></td>
<td>Width of coloured box.</td>
</tr>
<tr class="even">
<td><code>boxHeight</code></td>
<td><code>number</code></td>
<td><code>font.size</code></td>
<td>Height of the coloured box.</td>
</tr>
<tr class="odd">
<td><code>color</code></td>
<td><a href="../general/colors.md"><code>Color</code></a></td>
<td><code>Chart.defaults.color</code></td>
<td>Color of label and the strikethrough.</td>
</tr>
<tr class="even">
<td><code>font</code></td>
<td><code>Font</code></td>
<td><code>Chart.defaults.font</code></td>
<td>See <a href="../general/fonts.md">Fonts</a></td>
</tr>
<tr class="odd">
<td><code>padding</code></td>
<td><code>number</code></td>
<td><code>10</code></td>
<td>Padding between rows of colored boxes.</td>
</tr>
<tr class="even">
<td><code>generateLabels</code></td>
<td><code>function</code></td>
<td></td>
<td>Generates legend items for each thing in the legend. Default implementation returns the text + styling for the color box. See <a href="#legend-item-interface">Legend Item</a> for details.</td>
</tr>
<tr class="odd">
<td><code>filter</code></td>
<td><code>function</code></td>
<td><code>null</code></td>
<td>Filters legend items out of the legend. Receives 2 parameters, a <a href="#legend-item-interface">Legend Item</a> and the chart data.</td>
</tr>
<tr class="even">
<td><code>sort</code></td>
<td><code>function</code></td>
<td><code>null</code></td>
<td>Sorts legend items. Receives 3 parameters, two <a href="#legend-item-interface">Legend Items</a> and the chart data.</td>
</tr>
<tr class="odd">
<td><a href="elements.md#point-styles"><code>pointStyle</code></a></td>
<td><code>string</code>|<code>Image</code></td>
<td><code>'circle'</code></td>
<td>If specified, this style of point is used for the legend. Only used if <code>usePointStyle</code> is true.</td>
</tr>
<tr class="even">
<td><code>textAlign</code></td>
<td><code>string</code></td>
<td><code>'center'</code></td>
<td>Horizontal alignment of the label text. Options are: <code>'left'</code>, <code>'right'</code> or <code>'center'</code>.</td>
</tr>
<tr class="odd">
<td><code>usePointStyle</code></td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td>Label style will match corresponding point style (size is based on the minimum value between boxWidth and font.size).</td>
</tr>
</tbody>
</table>
<h2 id="legend-title-configuration">Legend Title Configuration</h2>
<p>Namespace: <code>options.plugins.legend.title</code></p>
<table>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>color</code></td>
<td><a href="../general/colors.md"><code>Color</code></a></td>
<td><code>Chart.defaults.color</code></td>
<td>Color of text.</td>
</tr>
<tr class="even">
<td><code>display</code></td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td>Is the legend title displayed.</td>
</tr>
<tr class="odd">
<td><code>font</code></td>
<td><code>Font</code></td>
<td><code>Chart.defaults.font</code></td>
<td>See <a href="../general/fonts.md">Fonts</a></td>
</tr>
<tr class="even">
<td><code>padding</code></td>
<td><a href="../general/padding.md"><code>Padding</code></a></td>
<td><code>0</code></td>
<td>Padding around the title.</td>
</tr>
<tr class="odd">
<td><code>text</code></td>
<td><code>string</code></td>
<td></td>
<td>The string title.</td>
</tr>
</tbody>
</table>
<h2 id="legend-item-interface">Legend Item Interface</h2>
<p>Items passed to the legend <code>onClick</code> function are the ones returned from <code>labels.generateLabels</code>. These items must implement the following interface.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="op">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">    <span class="co">// Label that will be displayed</span></a>
<a class="sourceLine" id="cb1-3" title="3">    <span class="dt">text</span><span class="op">:</span> string<span class="op">,</span></a>
<a class="sourceLine" id="cb1-4" title="4"></a>
<a class="sourceLine" id="cb1-5" title="5">    <span class="co">// Border radius of the legend item.</span></a>
<a class="sourceLine" id="cb1-6" title="6">    <span class="co">// Introduced in 3.1.0</span></a>
<a class="sourceLine" id="cb1-7" title="7">    borderRadius<span class="op">?</span>: number <span class="op">|</span> BorderRadius<span class="op">,</span></a>
<a class="sourceLine" id="cb1-8" title="8"></a>
<a class="sourceLine" id="cb1-9" title="9">    <span class="co">// Index of the associated dataset</span></a>
<a class="sourceLine" id="cb1-10" title="10">    <span class="dt">datasetIndex</span><span class="op">:</span> number<span class="op">,</span></a>
<a class="sourceLine" id="cb1-11" title="11"></a>
<a class="sourceLine" id="cb1-12" title="12">    <span class="co">// Fill style of the legend box</span></a>
<a class="sourceLine" id="cb1-13" title="13">    <span class="dt">fillStyle</span><span class="op">:</span> Color<span class="op">,</span></a>
<a class="sourceLine" id="cb1-14" title="14"></a>
<a class="sourceLine" id="cb1-15" title="15">    <span class="co">// Text color</span></a>
<a class="sourceLine" id="cb1-16" title="16">    <span class="dt">fontColor</span><span class="op">:</span> Color<span class="op">,</span></a>
<a class="sourceLine" id="cb1-17" title="17"></a>
<a class="sourceLine" id="cb1-18" title="18">    <span class="co">// If true, this item represents a hidden dataset. Label will be rendered with a strike-through effect</span></a>
<a class="sourceLine" id="cb1-19" title="19">    <span class="dt">hidden</span><span class="op">:</span> boolean<span class="op">,</span></a>
<a class="sourceLine" id="cb1-20" title="20"></a>
<a class="sourceLine" id="cb1-21" title="21">    <span class="co">// For box border. See https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/lineCap</span></a>
<a class="sourceLine" id="cb1-22" title="22">    <span class="dt">lineCap</span><span class="op">:</span> string<span class="op">,</span></a>
<a class="sourceLine" id="cb1-23" title="23"></a>
<a class="sourceLine" id="cb1-24" title="24">    <span class="co">// For box border. See https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/setLineDash</span></a>
<a class="sourceLine" id="cb1-25" title="25">    <span class="dt">lineDash</span><span class="op">:</span> number[]<span class="op">,</span></a>
<a class="sourceLine" id="cb1-26" title="26"></a>
<a class="sourceLine" id="cb1-27" title="27">    <span class="co">// For box border. See https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/lineDashOffset</span></a>
<a class="sourceLine" id="cb1-28" title="28">    <span class="dt">lineDashOffset</span><span class="op">:</span> number<span class="op">,</span></a>
<a class="sourceLine" id="cb1-29" title="29"></a>
<a class="sourceLine" id="cb1-30" title="30">    <span class="co">// For box border. See https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/lineJoin</span></a>
<a class="sourceLine" id="cb1-31" title="31">    <span class="dt">lineJoin</span><span class="op">:</span> string<span class="op">,</span></a>
<a class="sourceLine" id="cb1-32" title="32"></a>
<a class="sourceLine" id="cb1-33" title="33">    <span class="co">// Width of box border</span></a>
<a class="sourceLine" id="cb1-34" title="34">    <span class="dt">lineWidth</span><span class="op">:</span> number<span class="op">,</span></a>
<a class="sourceLine" id="cb1-35" title="35"></a>
<a class="sourceLine" id="cb1-36" title="36">    <span class="co">// Stroke style of the legend box</span></a>
<a class="sourceLine" id="cb1-37" title="37">    <span class="dt">strokeStyle</span><span class="op">:</span> Color<span class="op">,</span></a>
<a class="sourceLine" id="cb1-38" title="38"></a>
<a class="sourceLine" id="cb1-39" title="39">    <span class="co">// Point style of the legend box (only used if usePointStyle is true)</span></a>
<a class="sourceLine" id="cb1-40" title="40">    <span class="dt">pointStyle</span><span class="op">:</span> string <span class="op">|</span> Image<span class="op">,</span></a>
<a class="sourceLine" id="cb1-41" title="41"></a>
<a class="sourceLine" id="cb1-42" title="42">    <span class="co">// Rotation of the point in degrees (only used if usePointStyle is true)</span></a>
<a class="sourceLine" id="cb1-43" title="43">    <span class="dt">rotation</span><span class="op">:</span> number</a>
<a class="sourceLine" id="cb1-44" title="44"><span class="op">}</span></a></code></pre></div>
<h2 id="example">Example</h2>
<p>The following example will create a chart with the legend enabled and turn all of the text red in color.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">var</span> chart <span class="op">=</span> <span class="kw">new</span> <span class="at">Chart</span>(ctx<span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="dt">type</span><span class="op">:</span> <span class="st">&quot;bar&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-3" title="3">  <span class="dt">data</span><span class="op">:</span> data<span class="op">,</span></a>
<a class="sourceLine" id="cb2-4" title="4">  <span class="dt">options</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-5" title="5">    <span class="dt">plugins</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-6" title="6">      <span class="dt">legend</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-7" title="7">        <span class="dt">display</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-8" title="8">        <span class="dt">labels</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-9" title="9">          <span class="dt">color</span><span class="op">:</span> <span class="st">&quot;rgb(255, 99, 132)&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-10" title="10">        <span class="op">},</span></a>
<a class="sourceLine" id="cb2-11" title="11">      <span class="op">},</span></a>
<a class="sourceLine" id="cb2-12" title="12">    <span class="op">},</span></a>
<a class="sourceLine" id="cb2-13" title="13">  <span class="op">},</span></a>
<a class="sourceLine" id="cb2-14" title="14"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<h2 id="custom-on-click-actions">Custom On Click Actions</h2>
<p>It can be common to want to trigger different behaviour when clicking an item in the legend. This can be easily achieved using a callback in the config object.</p>
<p>The default legend click handler is:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">function</span>(e<span class="op">,</span> legendItem<span class="op">,</span> legend) <span class="op">{</span></a>
<a class="sourceLine" id="cb3-2" title="2">    <span class="kw">const</span> index <span class="op">=</span> <span class="va">legendItem</span>.<span class="at">datasetIndex</span><span class="op">;</span></a>
<a class="sourceLine" id="cb3-3" title="3">    <span class="kw">const</span> ci <span class="op">=</span> <span class="va">legend</span>.<span class="at">chart</span><span class="op">;</span></a>
<a class="sourceLine" id="cb3-4" title="4">    <span class="cf">if</span> (<span class="va">ci</span>.<span class="at">isDatasetVisible</span>(index)) <span class="op">{</span></a>
<a class="sourceLine" id="cb3-5" title="5">        <span class="va">ci</span>.<span class="at">hide</span>(index)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-6" title="6">        <span class="va">legendItem</span>.<span class="at">hidden</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb3-7" title="7">    <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb3-8" title="8">        <span class="va">ci</span>.<span class="at">show</span>(index)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-9" title="9">        <span class="va">legendItem</span>.<span class="at">hidden</span> <span class="op">=</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb3-10" title="10">    <span class="op">}</span></a>
<a class="sourceLine" id="cb3-11" title="11"><span class="op">}</span></a></code></pre></div>
<p>Lets say we wanted instead to link the display of the first two datasets. We could change the click handler accordingly.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">var</span> defaultLegendClickHandler <span class="op">=</span> <span class="va">Chart</span>.<span class="va">defaults</span>.<span class="va">plugins</span>.<span class="va">legend</span>.<span class="at">onClick</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">var</span> pieDoughnutLegendClickHandler <span class="op">=</span></a>
<a class="sourceLine" id="cb4-3" title="3">  <span class="va">Chart</span>.<span class="va">controllers</span>.<span class="va">doughnut</span>.<span class="va">overrides</span>.<span class="va">plugins</span>.<span class="va">legend</span>.<span class="at">onClick</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="kw">var</span> newLegendClickHandler <span class="op">=</span> <span class="kw">function</span> (e<span class="op">,</span> legendItem<span class="op">,</span> legend) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-5" title="5">  <span class="kw">var</span> index <span class="op">=</span> <span class="va">legendItem</span>.<span class="at">datasetIndex</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-6" title="6">  <span class="kw">var</span> type <span class="op">=</span> <span class="va">legend</span>.<span class="va">chart</span>.<span class="va">config</span>.<span class="at">type</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-7" title="7"></a>
<a class="sourceLine" id="cb4-8" title="8">  <span class="cf">if</span> (index <span class="op">&gt;</span> <span class="dv">1</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-9" title="9">    <span class="co">// Do the original logic</span></a>
<a class="sourceLine" id="cb4-10" title="10">    <span class="cf">if</span> (type <span class="op">===</span> <span class="st">&quot;pie&quot;</span> <span class="op">||</span> type <span class="op">===</span> <span class="st">&quot;doughnut&quot;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-11" title="11">      <span class="at">pieDoughnutLegendClickHandler</span>(e<span class="op">,</span> legendItem<span class="op">,</span> legend)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-12" title="12">    <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-13" title="13">      <span class="at">defaultLegendClickHandler</span>(e<span class="op">,</span> legendItem<span class="op">,</span> legend)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-14" title="14">    <span class="op">}</span></a>
<a class="sourceLine" id="cb4-15" title="15">  <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-16" title="16">    <span class="kw">let</span> ci <span class="op">=</span> <span class="va">legend</span>.<span class="at">chart</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-17" title="17">    [<span class="va">ci</span>.<span class="at">getDatasetMeta</span>(<span class="dv">0</span>)<span class="op">,</span> <span class="va">ci</span>.<span class="at">getDatasetMeta</span>(<span class="dv">1</span>)].<span class="at">forEach</span>(<span class="kw">function</span> (meta) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-18" title="18">      <span class="va">meta</span>.<span class="at">hidden</span> <span class="op">=</span></a>
<a class="sourceLine" id="cb4-19" title="19">        <span class="va">meta</span>.<span class="at">hidden</span> <span class="op">===</span> <span class="kw">null</span> <span class="op">?</span> <span class="op">!</span><span class="va">ci</span>.<span class="va">data</span>.<span class="at">datasets</span>[index].<span class="at">hidden</span> : <span class="kw">null</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-20" title="20">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-21" title="21">    <span class="va">ci</span>.<span class="at">update</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb4-22" title="22">  <span class="op">}</span></a>
<a class="sourceLine" id="cb4-23" title="23"><span class="op">};</span></a>
<a class="sourceLine" id="cb4-24" title="24"></a>
<a class="sourceLine" id="cb4-25" title="25"><span class="kw">var</span> chart <span class="op">=</span> <span class="kw">new</span> <span class="at">Chart</span>(ctx<span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-26" title="26">  <span class="dt">type</span><span class="op">:</span> <span class="st">&quot;line&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb4-27" title="27">  <span class="dt">data</span><span class="op">:</span> data<span class="op">,</span></a>
<a class="sourceLine" id="cb4-28" title="28">  <span class="dt">options</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-29" title="29">    <span class="dt">plugins</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-30" title="30">      <span class="dt">legend</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-31" title="31">        <span class="dt">onClick</span><span class="op">:</span> newLegendClickHandler<span class="op">,</span></a>
<a class="sourceLine" id="cb4-32" title="32">      <span class="op">},</span></a>
<a class="sourceLine" id="cb4-33" title="33">    <span class="op">},</span></a>
<a class="sourceLine" id="cb4-34" title="34">  <span class="op">},</span></a>
<a class="sourceLine" id="cb4-35" title="35"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>Now when you click the legend in this chart, the visibility of the first two datasets will be linked together.</p>
</body>
</html>
